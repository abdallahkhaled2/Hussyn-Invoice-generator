function Fw(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(i,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function df(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function vo(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var a=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return i[s]}})}),t}var ud={exports:{}},Br={};var Vy;function Iw(){if(Vy)return Br;Vy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:i,type:s,key:c,ref:a!==void 0?a:null,props:o}}return Br.Fragment=e,Br.jsx=t,Br.jsxs=t,Br}var Gy;function qw(){return Gy||(Gy=1,ud.exports=Iw()),ud.exports}var p=qw(),hd={exports:{}},ve={};var Wy;function $w(){if(Wy)return ve;Wy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function _(R){return R===null||typeof R!="object"?null:(R=v&&R[v]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function C(R,K,ne){this.props=R,this.context=K,this.refs=T,this.updater=ne||S}C.prototype.isReactComponent={},C.prototype.setState=function(R,K){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,K,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function j(){}j.prototype=C.prototype;function A(R,K,ne){this.props=R,this.context=K,this.refs=T,this.updater=ne||S}var k=A.prototype=new j;k.constructor=A,w(k,C.prototype),k.isPureReactComponent=!0;var N=Array.isArray;function q(){}var D={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function z(R,K,ne){var se=ne.ref;return{$$typeof:i,type:R,key:K,ref:se!==void 0?se:null,props:ne}}function ee(R,K){return z(R.type,K,R.props)}function W(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function B(R){var K={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return K[ne]})}var G=/\/+/g;function ae(R,K){return typeof R=="object"&&R!==null&&R.key!=null?B(""+R.key):K.toString(36)}function re(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(q,q):(R.status="pending",R.then(function(K){R.status==="pending"&&(R.status="fulfilled",R.value=K)},function(K){R.status==="pending"&&(R.status="rejected",R.reason=K)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function U(R,K,ne,se,fe){var ge=typeof R;(ge==="undefined"||ge==="boolean")&&(R=null);var Oe=!1;if(R===null)Oe=!0;else switch(ge){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(R.$$typeof){case i:case e:Oe=!0;break;case y:return Oe=R._init,U(Oe(R._payload),K,ne,se,fe)}}if(Oe)return fe=fe(R),Oe=se===""?"."+ae(R,0):se,N(fe)?(ne="",Oe!=null&&(ne=Oe.replace(G,"$&/")+"/"),U(fe,K,ne,"",function(Tn){return Tn})):fe!=null&&(W(fe)&&(fe=ee(fe,ne+(fe.key==null||R&&R.key===fe.key?"":(""+fe.key).replace(G,"$&/")+"/")+Oe)),K.push(fe)),1;Oe=0;var ke=se===""?".":se+":";if(N(R))for(var Ve=0;Ve<R.length;Ve++)se=R[Ve],ge=ke+ae(se,Ve),Oe+=U(se,K,ne,ge,fe);else if(Ve=_(R),typeof Ve=="function")for(R=Ve.call(R),Ve=0;!(se=R.next()).done;)se=se.value,ge=ke+ae(se,Ve++),Oe+=U(se,K,ne,ge,fe);else if(ge==="object"){if(typeof R.then=="function")return U(re(R),K,ne,se,fe);throw K=String(R),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Z(R,K,ne){if(R==null)return R;var se=[],fe=0;return U(R,se,"","",function(ge){return K.call(ne,ge,fe++)}),se}function ue(R){if(R._status===-1){var K=R._result;K=K(),K.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=K)}if(R._status===1)return R._result.default;throw R._result}var me=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},we={map:Z,forEach:function(R,K,ne){Z(R,function(){K.apply(this,arguments)},ne)},count:function(R){var K=0;return Z(R,function(){K++}),K},toArray:function(R){return Z(R,function(K){return K})||[]},only:function(R){if(!W(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ve.Activity=b,ve.Children=we,ve.Component=C,ve.Fragment=t,ve.Profiler=a,ve.PureComponent=A,ve.StrictMode=s,ve.Suspense=d,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ve.__COMPILER_RUNTIME={__proto__:null,c:function(R){return D.H.useMemoCache(R)}},ve.cache=function(R){return function(){return R.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(R,K,ne){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=w({},R.props),fe=R.key;if(K!=null)for(ge in K.key!==void 0&&(fe=""+K.key),K)!V.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(se[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)se.children=ne;else if(1<ge){for(var Oe=Array(ge),ke=0;ke<ge;ke++)Oe[ke]=arguments[ke+2];se.children=Oe}return z(R.type,fe,se)},ve.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},ve.createElement=function(R,K,ne){var se,fe={},ge=null;if(K!=null)for(se in K.key!==void 0&&(ge=""+K.key),K)V.call(K,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=K[se]);var Oe=arguments.length-2;if(Oe===1)fe.children=ne;else if(1<Oe){for(var ke=Array(Oe),Ve=0;Ve<Oe;Ve++)ke[Ve]=arguments[Ve+2];fe.children=ke}if(R&&R.defaultProps)for(se in Oe=R.defaultProps,Oe)fe[se]===void 0&&(fe[se]=Oe[se]);return z(R,ge,fe)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(R){return{$$typeof:h,render:R}},ve.isValidElement=W,ve.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ue}},ve.memo=function(R,K){return{$$typeof:f,type:R,compare:K===void 0?null:K}},ve.startTransition=function(R){var K=D.T,ne={};D.T=ne;try{var se=R(),fe=D.S;fe!==null&&fe(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(q,me)}catch(ge){me(ge)}finally{K!==null&&ne.types!==null&&(K.types=ne.types),D.T=K}},ve.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ve.use=function(R){return D.H.use(R)},ve.useActionState=function(R,K,ne){return D.H.useActionState(R,K,ne)},ve.useCallback=function(R,K){return D.H.useCallback(R,K)},ve.useContext=function(R){return D.H.useContext(R)},ve.useDebugValue=function(){},ve.useDeferredValue=function(R,K){return D.H.useDeferredValue(R,K)},ve.useEffect=function(R,K){return D.H.useEffect(R,K)},ve.useEffectEvent=function(R){return D.H.useEffectEvent(R)},ve.useId=function(){return D.H.useId()},ve.useImperativeHandle=function(R,K,ne){return D.H.useImperativeHandle(R,K,ne)},ve.useInsertionEffect=function(R,K){return D.H.useInsertionEffect(R,K)},ve.useLayoutEffect=function(R,K){return D.H.useLayoutEffect(R,K)},ve.useMemo=function(R,K){return D.H.useMemo(R,K)},ve.useOptimistic=function(R,K){return D.H.useOptimistic(R,K)},ve.useReducer=function(R,K,ne){return D.H.useReducer(R,K,ne)},ve.useRef=function(R){return D.H.useRef(R)},ve.useState=function(R){return D.H.useState(R)},ve.useSyncExternalStore=function(R,K,ne){return D.H.useSyncExternalStore(R,K,ne)},ve.useTransition=function(){return D.H.useTransition()},ve.version="19.2.0",ve}var Yy;function ff(){return Yy||(Yy=1,hd.exports=$w()),hd.exports}var L=ff();const t0=df(L);var dd={exports:{}},Ur={},fd={exports:{}},gd={};var Ky;function Vw(){return Ky||(Ky=1,(function(i){function e(U,Z){var ue=U.length;U.push(Z);e:for(;0<ue;){var me=ue-1>>>1,we=U[me];if(0<a(we,Z))U[me]=Z,U[ue]=we,ue=me;else break e}}function t(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var Z=U[0],ue=U.pop();if(ue!==Z){U[0]=ue;e:for(var me=0,we=U.length,R=we>>>1;me<R;){var K=2*(me+1)-1,ne=U[K],se=K+1,fe=U[se];if(0>a(ne,ue))se<we&&0>a(fe,ne)?(U[me]=fe,U[se]=ue,me=se):(U[me]=ne,U[K]=ue,me=K);else if(se<we&&0>a(fe,ue))U[me]=fe,U[se]=ue,me=se;else break e}}return Z}function a(U,Z){var ue=U.sortIndex-Z.sortIndex;return ue!==0?ue:U.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var d=[],f=[],y=1,b=null,v=3,_=!1,S=!1,w=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(U){for(var Z=t(f);Z!==null;){if(Z.callback===null)s(f);else if(Z.startTime<=U)s(f),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(f)}}function N(U){if(w=!1,k(U),!S)if(t(d)!==null)S=!0,q||(q=!0,B());else{var Z=t(f);Z!==null&&re(N,Z.startTime-U)}}var q=!1,D=-1,V=5,z=-1;function ee(){return T?!0:!(i.unstable_now()-z<V)}function W(){if(T=!1,q){var U=i.unstable_now();z=U;var Z=!0;try{e:{S=!1,w&&(w=!1,j(D),D=-1),_=!0;var ue=v;try{t:{for(k(U),b=t(d);b!==null&&!(b.expirationTime>U&&ee());){var me=b.callback;if(typeof me=="function"){b.callback=null,v=b.priorityLevel;var we=me(b.expirationTime<=U);if(U=i.unstable_now(),typeof we=="function"){b.callback=we,k(U),Z=!0;break t}b===t(d)&&s(d),k(U)}else s(d);b=t(d)}if(b!==null)Z=!0;else{var R=t(f);R!==null&&re(N,R.startTime-U),Z=!1}}break e}finally{b=null,v=ue,_=!1}Z=void 0}}finally{Z?B():q=!1}}}var B;if(typeof A=="function")B=function(){A(W)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ae=G.port2;G.port1.onmessage=W,B=function(){ae.postMessage(null)}}else B=function(){C(W,0)};function re(U,Z){D=C(function(){U(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(U){switch(v){case 1:case 2:case 3:var Z=3;break;default:Z=v}var ue=v;v=Z;try{return U()}finally{v=ue}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(U,Z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ue=v;v=U;try{return Z()}finally{v=ue}},i.unstable_scheduleCallback=function(U,Z,ue){var me=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?me+ue:me):ue=me,U){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ue+we,U={id:y++,callback:Z,priorityLevel:U,startTime:ue,expirationTime:we,sortIndex:-1},ue>me?(U.sortIndex=ue,e(f,U),t(d)===null&&U===t(f)&&(w?(j(D),D=-1):w=!0,re(N,ue-me))):(U.sortIndex=we,e(d,U),S||_||(S=!0,q||(q=!0,B()))),U},i.unstable_shouldYield=ee,i.unstable_wrapCallback=function(U){var Z=v;return function(){var ue=v;v=Z;try{return U.apply(this,arguments)}finally{v=ue}}}})(gd)),gd}var Xy;function Gw(){return Xy||(Xy=1,fd.exports=Vw()),fd.exports}var pd={exports:{}},Ct={};var Qy;function Ww(){if(Qy)return Ct;Qy=1;var i=ff();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,f,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:f,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ct.createPortal=function(d,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,y)},Ct.flushSync=function(d){var f=c.T,y=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=f,s.p=y,s.d.f()}},Ct.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},Ct.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ct.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var y=f.as,b=h(y,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;y==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:_}):y==="script"&&s.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ct.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var y=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},Ct.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var y=f.as,b=h(y,f.crossOrigin);s.d.L(d,y,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ct.preloadModule=function(d,f){if(typeof d=="string")if(f){var y=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},Ct.requestFormReset=function(d){s.d.r(d)},Ct.unstable_batchedUpdates=function(d,f){return d(f)},Ct.useFormState=function(d,f,y){return c.H.useFormState(d,f,y)},Ct.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ct.version="19.2.0",Ct}var Jy;function Yw(){if(Jy)return pd.exports;Jy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),pd.exports=Ww(),pd.exports}var Zy;function Kw(){if(Zy)return Ur;Zy=1;var i=Gw(),e=ff(),t=Yw();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(s(188))}function f(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(s(188));return r!==n?null:n}for(var l=n,u=r;;){var g=l.return;if(g===null)break;var m=g.alternate;if(m===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===l)return d(g),n;if(m===u)return d(g),r;m=m.sibling}throw Error(s(188))}if(l.return!==u.return)l=g,u=m;else{for(var x=!1,E=g.child;E;){if(E===l){x=!0,l=g,u=m;break}if(E===u){x=!0,u=g,l=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===l){x=!0,l=m,u=g;break}if(E===u){x=!0,u=m,l=g;break}E=E.sibling}if(!x)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function B(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var G=Symbol.for("react.client.reference");function ae(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===G?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case q:return"SuspenseList";case z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case A:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case k:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return r=n.displayName||null,r!==null?r:ae(n.type)||"Memo";case V:r=n._payload,n=n._init;try{return ae(n(r))}catch{}}return null}var re=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},me=[],we=-1;function R(n){return{current:n}}function K(n){0>we||(n.current=me[we],me[we]=null,we--)}function ne(n,r){we++,me[we]=n.current,n.current=r}var se=R(null),fe=R(null),ge=R(null),Oe=R(null);function ke(n,r){switch(ne(ge,r),ne(fe,n),ne(se,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?gy(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=gy(r),n=py(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(se),ne(se,n)}function Ve(){K(se),K(fe),K(ge)}function Tn(n){n.memoizedState!==null&&ne(Oe,n);var r=se.current,l=py(r,n.type);r!==l&&(ne(fe,n),ne(se,l))}function et(n){fe.current===n&&(K(se),K(fe)),Oe.current===n&&(K(Oe),Nr._currentValue=ue)}var Yi,Ki;function ie(n){if(Yi===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Yi=r&&r[1]||"",Ki=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+n+Ki}var bt=!1;function $t(n,r){if(!n||bt)return"";bt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var I=$}Reflect.construct(n,[],J)}else{try{J.call()}catch($){I=$}n.call(J.prototype)}}else{try{throw Error()}catch($){I=$}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&I&&typeof $.stack=="string")return[$.stack,I.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),x=m[0],E=m[1];if(x&&E){var O=x.split(`
`),F=E.split(`
`);for(g=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;if(u===O.length||g===F.length)for(u=O.length-1,g=F.length-1;1<=u&&0<=g&&O[u]!==F[g];)g--;for(;1<=u&&0<=g;u--,g--)if(O[u]!==F[g]){if(u!==1||g!==1)do if(u--,g--,0>g||O[u]!==F[g]){var Y=`
`+O[u].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=u&&0<=g);break}}}finally{bt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ie(l):""}function En(n,r){switch(n.tag){case 26:case 27:case 5:return ie(n.type);case 16:return ie("Lazy");case 13:return n.child!==r&&r!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return $t(n.type,!1);case 11:return $t(n.type.render,!1);case 1:return $t(n.type,!0);case 31:return ie("Activity");default:return""}}function Co(n){try{var r="",l=null;do r+=En(n,l),l=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ia=Object.prototype.hasOwnProperty,qa=i.unstable_scheduleCallback,$a=i.unstable_cancelCallback,Kc=i.unstable_shouldYield,Xc=i.unstable_requestPaint,Mt=i.unstable_now,Qc=i.unstable_getCurrentPriorityLevel,Q=i.unstable_ImmediatePriority,oe=i.unstable_UserBlockingPriority,_e=i.unstable_NormalPriority,Cn=i.unstable_LowPriority,gi=i.unstable_IdlePriority,Va=i.log,Tx=i.unstable_setDisableYieldValue,Ga=null,Vt=null;function pi(n){if(typeof Va=="function"&&Tx(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Ga,n)}catch{}}var Gt=Math.clz32?Math.clz32:jx,Ex=Math.log,Cx=Math.LN2;function jx(n){return n>>>=0,n===0?32:31-(Ex(n)/Cx|0)|0}var jo=256,Ao=262144,Oo=4194304;function Xi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ro(n,r,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,m=n.suspendedLanes,x=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?g=Xi(u):(x&=E,x!==0?g=Xi(x):l||(l=E&~n,l!==0&&(g=Xi(l))))):(E=u&~m,E!==0?g=Xi(E):x!==0?g=Xi(x):l||(l=u&~n,l!==0&&(g=Xi(l)))),g===0?0:r!==0&&r!==g&&(r&m)===0&&(m=g&-g,l=r&-r,m>=l||m===32&&(l&4194048)!==0)?r:g}function Wa(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ax(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kf(){var n=Oo;return Oo<<=1,(Oo&62914560)===0&&(Oo=4194304),n}function Jc(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function Ya(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ox(n,r,l,u,g,m){var x=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var E=n.entanglements,O=n.expirationTimes,F=n.hiddenUpdates;for(l=x&~l;0<l;){var Y=31-Gt(l),J=1<<Y;E[Y]=0,O[Y]=-1;var I=F[Y];if(I!==null)for(F[Y]=null,Y=0;Y<I.length;Y++){var $=I[Y];$!==null&&($.lane&=-536870913)}l&=~J}u!==0&&Xf(n,u,0),m!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=m&~(x&~r))}function Xf(n,r,l){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Gt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Qf(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var u=31-Gt(l),g=1<<u;g&r|n[u]&r&&(n[u]|=r),l&=~g}}function Jf(n,r){var l=r&-r;return l=(l&42)!==0?1:Zc(l),(l&(n.suspendedLanes|r))!==0?0:l}function Zc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function eu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Zf(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:By(n.type))}function eg(n,r){var l=Z.p;try{return Z.p=n,r()}finally{Z.p=l}}var mi=Math.random().toString(36).slice(2),vt="__reactFiber$"+mi,Dt="__reactProps$"+mi,Ns="__reactContainer$"+mi,tu="__reactEvents$"+mi,Rx="__reactListeners$"+mi,Mx="__reactHandles$"+mi,tg="__reactResources$"+mi,Ka="__reactMarker$"+mi;function nu(n){delete n[vt],delete n[Dt],delete n[tu],delete n[Rx],delete n[Mx]}function Ps(n){var r=n[vt];if(r)return r;for(var l=n.parentNode;l;){if(r=l[Ns]||l[vt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=Sy(n);n!==null;){if(l=n[vt])return l;n=Sy(n)}return r}n=l,l=n.parentNode}return null}function Ls(n){if(n=n[vt]||n[Ns]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Xa(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function zs(n){var r=n[tg];return r||(r=n[tg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(n){n[Ka]=!0}var ng=new Set,ig={};function Qi(n,r){Bs(n,r),Bs(n+"Capture",r)}function Bs(n,r){for(ig[n]=r,n=0;n<r.length;n++)ng.add(r[n])}var kx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sg={},ag={};function Dx(n){return Ia.call(ag,n)?!0:Ia.call(sg,n)?!1:kx.test(n)?ag[n]=!0:(sg[n]=!0,!1)}function Mo(n,r,l){if(Dx(r))if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+l)}}function ko(n,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+l)}}function Un(n,r,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(r,l,""+u)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rg(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nx(n,r,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,m=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return g.call(this)},set:function(x){l=""+x,m.call(this,x)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function iu(n){if(!n._valueTracker){var r=rg(n)?"checked":"value";n._valueTracker=Nx(n,r,""+n[r])}}function og(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return n&&(u=rg(n)?n.checked?"true":"false":n.value),n=u,n!==l?(r.setValue(n),!0):!1}function Do(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Px=/[\n"\\]/g;function nn(n){return n.replace(Px,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function su(n,r,l,u,g,m,x,E){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),r!=null?x==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),r!=null?au(n,x,tn(r)):l!=null?au(n,x,tn(l)):u!=null&&n.removeAttribute("value"),g==null&&m!=null&&(n.defaultChecked=!!m),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+tn(E):n.removeAttribute("name")}function lg(n,r,l,u,g,m,x,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){iu(n);return}l=l!=null?""+tn(l):"",r=r!=null?""+tn(r):l,E||r===n.value||(n.value=r),n.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x),iu(n)}function au(n,r,l){r==="number"&&Do(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Us(n,r,l,u){if(n=n.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=r.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+tn(l),r=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}r!==null||n[g].disabled||(r=n[g])}r!==null&&(r.selected=!0)}}function cg(n,r,l){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),l==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=l!=null?""+tn(l):""}function ug(n,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(s(92));if(re(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=tn(r),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),iu(n)}function Hs(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var Lx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hg(n,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,l):typeof l!="number"||l===0||Lx.has(r)?r==="float"?n.cssFloat=l:n[r]=(""+l).trim():n[r]=l+"px"}function dg(n,r,l){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&l[g]!==u&&hg(n,g,u)}else for(var m in r)r.hasOwnProperty(m)&&hg(n,m,r[m])}function ru(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(n){return Bx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Hn(){}var ou=null;function lu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fs=null,Is=null;function fg(n){var r=Ls(n);if(r&&(n=r.stateNode)){var l=n[Dt]||null;e:switch(n=r.stateNode,r.type){case"input":if(su(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+nn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==n&&u.form===n.form){var g=u[Dt]||null;if(!g)throw Error(s(90));su(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===n.form&&og(u)}break e;case"textarea":cg(n,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&Us(n,!!l.multiple,r,!1)}}}var cu=!1;function gg(n,r,l){if(cu)return n(r,l);cu=!0;try{var u=n(r);return u}finally{if(cu=!1,(Fs!==null||Is!==null)&&(xl(),Fs&&(r=Fs,n=Is,Is=Fs=null,fg(r),n)))for(r=0;r<n.length;r++)fg(n[r])}}function Qa(n,r){var l=n.stateNode;if(l===null)return null;var u=l[Dt]||null;if(u===null)return null;l=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uu=!1;if(Fn)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){uu=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{uu=!1}var yi=null,hu=null,Po=null;function pg(){if(Po)return Po;var n,r=hu,l=r.length,u,g="value"in yi?yi.value:yi.textContent,m=g.length;for(n=0;n<l&&r[n]===g[n];n++);var x=l-n;for(u=1;u<=x&&r[l-u]===g[m-u];u++);return Po=g.slice(n,1<u?1-u:void 0)}function Lo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function zo(){return!0}function mg(){return!1}function Nt(n){function r(l,u,g,m,x){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(l=n[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zo:mg,this.isPropagationStopped=mg,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),r}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Nt(Ji),Za=b({},Ji,{view:0,detail:0}),Ux=Nt(Za),du,fu,er,Uo=b({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==er&&(er&&n.type==="mousemove"?(du=n.screenX-er.screenX,fu=n.screenY-er.screenY):fu=du=0,er=n),du)},movementY:function(n){return"movementY"in n?n.movementY:fu}}),yg=Nt(Uo),Hx=b({},Uo,{dataTransfer:0}),Fx=Nt(Hx),Ix=b({},Za,{relatedTarget:0}),gu=Nt(Ix),qx=b({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),$x=Nt(qx),Vx=b({},Ji,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gx=Nt(Vx),Wx=b({},Ji,{data:0}),bg=Nt(Wx),Yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Xx[n])?!!r[n]:!1}function pu(){return Qx}var Jx=b({},Za,{key:function(n){if(n.key){var r=Yx[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Lo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(n){return n.type==="keypress"?Lo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Lo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Zx=Nt(Jx),eS=b({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=Nt(eS),tS=b({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),nS=Nt(tS),iS=b({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),sS=Nt(iS),aS=b({},Uo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=Nt(aS),oS=b({},Ji,{newState:0,oldState:0}),lS=Nt(oS),cS=[9,13,27,32],mu=Fn&&"CompositionEvent"in window,tr=null;Fn&&"documentMode"in document&&(tr=document.documentMode);var uS=Fn&&"TextEvent"in window&&!tr,_g=Fn&&(!mu||tr&&8<tr&&11>=tr),xg=" ",Sg=!1;function wg(n,r){switch(n){case"keyup":return cS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qs=!1;function hS(n,r){switch(n){case"compositionend":return Tg(r);case"keypress":return r.which!==32?null:(Sg=!0,xg);case"textInput":return n=r.data,n===xg&&Sg?null:n;default:return null}}function dS(n,r){if(qs)return n==="compositionend"||!mu&&wg(n,r)?(n=pg(),Po=hu=yi=null,qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _g&&r.locale!=="ko"?null:r.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!fS[n.type]:r==="textarea"}function Cg(n,r,l,u){Fs?Is?Is.push(u):Is=[u]:Fs=u,r=Al(r,"onChange"),0<r.length&&(l=new Bo("onChange","change",null,l,u),n.push({event:l,listeners:r}))}var nr=null,ir=null;function gS(n){ly(n,0)}function Ho(n){var r=Xa(n);if(og(r))return n}function jg(n,r){if(n==="change")return r}var Ag=!1;if(Fn){var yu;if(Fn){var bu="oninput"in document;if(!bu){var Og=document.createElement("div");Og.setAttribute("oninput","return;"),bu=typeof Og.oninput=="function"}yu=bu}else yu=!1;Ag=yu&&(!document.documentMode||9<document.documentMode)}function Rg(){nr&&(nr.detachEvent("onpropertychange",Mg),ir=nr=null)}function Mg(n){if(n.propertyName==="value"&&Ho(ir)){var r=[];Cg(r,ir,n,lu(n)),gg(gS,r)}}function pS(n,r,l){n==="focusin"?(Rg(),nr=r,ir=l,nr.attachEvent("onpropertychange",Mg)):n==="focusout"&&Rg()}function mS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ho(ir)}function yS(n,r){if(n==="click")return Ho(r)}function bS(n,r){if(n==="input"||n==="change")return Ho(r)}function vS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Wt=typeof Object.is=="function"?Object.is:vS;function sr(n,r){if(Wt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ia.call(r,g)||!Wt(n[g],r[g]))return!1}return!0}function kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Dg(n,r){var l=kg(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=r&&u>=r)return{node:l,offset:r-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kg(l)}}function Ng(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ng(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Pg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Do(n.document);r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=Do(n.document)}return r}function vu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var _S=Fn&&"documentMode"in document&&11>=document.documentMode,$s=null,_u=null,ar=null,xu=!1;function Lg(n,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xu||$s==null||$s!==Do(u)||(u=$s,"selectionStart"in u&&vu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ar&&sr(ar,u)||(ar=u,u=Al(_u,"onSelect"),0<u.length&&(r=new Bo("onSelect","select",null,r,l),n.push({event:r,listeners:u}),r.target=$s)))}function Zi(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var Vs={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Su={},zg={};Fn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function es(n){if(Su[n])return Su[n];if(!Vs[n])return n;var r=Vs[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in zg)return Su[n]=r[l];return n}var Bg=es("animationend"),Ug=es("animationiteration"),Hg=es("animationstart"),xS=es("transitionrun"),SS=es("transitionstart"),wS=es("transitioncancel"),Fg=es("transitionend"),Ig=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function yn(n,r){Ig.set(n,r),Qi(r,[n])}var Fo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},sn=[],Gs=0,Tu=0;function Io(){for(var n=Gs,r=Tu=Gs=0;r<n;){var l=sn[r];sn[r++]=null;var u=sn[r];sn[r++]=null;var g=sn[r];sn[r++]=null;var m=sn[r];if(sn[r++]=null,u!==null&&g!==null){var x=u.pending;x===null?g.next=g:(g.next=x.next,x.next=g),u.pending=g}m!==0&&qg(l,g,m)}}function qo(n,r,l,u){sn[Gs++]=n,sn[Gs++]=r,sn[Gs++]=l,sn[Gs++]=u,Tu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Eu(n,r,l,u){return qo(n,r,l,u),$o(n)}function ts(n,r){return qo(n,null,null,r),$o(n)}function qg(n,r,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,m=n.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(g=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,g&&r!==null&&(g=31-Gt(l),n=m.hiddenUpdates,u=n[g],u===null?n[g]=[r]:u.push(r),r.lane=l|536870912),m):null}function $o(n){if(50<jr)throw jr=0,Nh=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ws={};function TS(n,r,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(n,r,l,u){return new TS(n,r,l,u)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function In(n,r){var l=n.alternate;return l===null?(l=Yt(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function $g(n,r){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,r=l.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Vo(n,r,l,u,g,m){var x=0;if(u=n,typeof n=="function")Cu(n)&&(x=1);else if(typeof n=="string")x=Ow(n,l,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case z:return n=Yt(31,l,r,g),n.elementType=z,n.lanes=m,n;case w:return ns(l.children,g,m,r);case T:x=8,g|=24;break;case C:return n=Yt(12,l,r,g|2),n.elementType=C,n.lanes=m,n;case N:return n=Yt(13,l,r,g),n.elementType=N,n.lanes=m,n;case q:return n=Yt(19,l,r,g),n.elementType=q,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:x=10;break e;case j:x=9;break e;case k:x=11;break e;case D:x=14;break e;case V:x=16,u=null;break e}x=29,l=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Yt(x,l,r,g),r.elementType=n,r.type=u,r.lanes=m,r}function ns(n,r,l,u){return n=Yt(7,n,u,r),n.lanes=l,n}function ju(n,r,l){return n=Yt(6,n,null,r),n.lanes=l,n}function Vg(n){var r=Yt(18,null,null,0);return r.stateNode=n,r}function Au(n,r,l){return r=Yt(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Gg=new WeakMap;function an(n,r){if(typeof n=="object"&&n!==null){var l=Gg.get(n);return l!==void 0?l:(r={value:n,source:r,stack:Co(r)},Gg.set(n,r),r)}return{value:n,source:r,stack:Co(r)}}var Ys=[],Ks=0,Go=null,rr=0,rn=[],on=0,bi=null,jn=1,An="";function qn(n,r){Ys[Ks++]=rr,Ys[Ks++]=Go,Go=n,rr=r}function Wg(n,r,l){rn[on++]=jn,rn[on++]=An,rn[on++]=bi,bi=n;var u=jn;n=An;var g=32-Gt(u)-1;u&=~(1<<g),l+=1;var m=32-Gt(r)+g;if(30<m){var x=g-g%5;m=(u&(1<<x)-1).toString(32),u>>=x,g-=x,jn=1<<32-Gt(r)+g|l<<g|u,An=m+n}else jn=1<<m|l<<g|u,An=n}function Ou(n){n.return!==null&&(qn(n,1),Wg(n,1,0))}function Ru(n){for(;n===Go;)Go=Ys[--Ks],Ys[Ks]=null,rr=Ys[--Ks],Ys[Ks]=null;for(;n===bi;)bi=rn[--on],rn[on]=null,An=rn[--on],rn[on]=null,jn=rn[--on],rn[on]=null}function Yg(n,r){rn[on++]=jn,rn[on++]=An,rn[on++]=bi,jn=r.id,An=r.overflow,bi=n}var _t=null,We=null,Re=!1,vi=null,ln=!1,Mu=Error(s(519));function _i(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(an(r,n)),Mu}function Kg(n){var r=n.stateNode,l=n.type,u=n.memoizedProps;switch(r[vt]=n,r[Dt]=u,l){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(l=0;l<Or.length;l++)Ce(Or[l],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Ce("invalid",r),lg(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ce("invalid",r);break;case"textarea":Ce("invalid",r),ug(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||dy(r.textContent,l)?(u.popover!=null&&(Ce("beforetoggle",r),Ce("toggle",r)),u.onScroll!=null&&Ce("scroll",r),u.onScrollEnd!=null&&Ce("scrollend",r),u.onClick!=null&&(r.onclick=Hn),r=!0):r=!1,r||_i(n,!0)}function Xg(n){for(_t=n.return;_t;)switch(_t.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:_t=_t.return}}function Xs(n){if(n!==_t)return!1;if(!Re)return Xg(n),Re=!0,!1;var r=n.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Kh(n.type,n.memoizedProps)),l=!l),l&&We&&_i(n),Xg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));We=xy(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));We=xy(n)}else r===27?(r=We,Ni(n.type)?(n=ed,ed=null,We=n):We=r):We=_t?un(n.stateNode.nextSibling):null;return!0}function is(){We=_t=null,Re=!1}function ku(){var n=vi;return n!==null&&(Bt===null?Bt=n:Bt.push.apply(Bt,n),vi=null),n}function or(n){vi===null?vi=[n]:vi.push(n)}var Du=R(null),ss=null,$n=null;function xi(n,r,l){ne(Du,r._currentValue),r._currentValue=l}function Vn(n){n._currentValue=Du.current,K(Du)}function Nu(n,r,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===l)break;n=n.return}}function Pu(n,r,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var m=g.dependencies;if(m!==null){var x=g.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=g;for(var O=0;O<r.length;O++)if(E.context===r[O]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),Nu(m.return,l,n),u||(x=null);break e}m=E.next}}else if(g.tag===18){if(x=g.return,x===null)throw Error(s(341));x.lanes|=l,m=x.alternate,m!==null&&(m.lanes|=l),Nu(x,l,n),x=null}else x=g.child;if(x!==null)x.return=g;else for(x=g;x!==null;){if(x===n){x=null;break}if(g=x.sibling,g!==null){g.return=x.return,x=g;break}x=x.return}g=x}}function Qs(n,r,l,u){n=null;for(var g=r,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var x=g.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=g.type;Wt(g.pendingProps.value,x.value)||(n!==null?n.push(E):n=[E])}}else if(g===Oe.current){if(x=g.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(Nr):n=[Nr])}g=g.return}n!==null&&Pu(r,n,l,u),r.flags|=262144}function Wo(n){for(n=n.firstContext;n!==null;){if(!Wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function as(n){ss=n,$n=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function xt(n){return Qg(ss,n)}function Yo(n,r){return ss===null&&as(n),Qg(n,r)}function Qg(n,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},$n===null){if(n===null)throw Error(s(308));$n=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else $n=$n.next=r;return l}var ES=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(l){return l()})}},CS=i.unstable_scheduleCallback,jS=i.unstable_NormalPriority,ot={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lu(){return{controller:new ES,data:new Map,refCount:0}}function lr(n){n.refCount--,n.refCount===0&&CS(jS,function(){n.controller.abort()})}var cr=null,zu=0,Js=0,Zs=null;function AS(n,r){if(cr===null){var l=cr=[];zu=0,Js=Hh(),Zs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return zu++,r.then(Jg,Jg),r}function Jg(){if(--zu===0&&cr!==null){Zs!==null&&(Zs.status="fulfilled");var n=cr;cr=null,Js=0,Zs=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function OS(n,r){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Zg=U.S;U.S=function(n,r){Lm=Mt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&AS(n,r),Zg!==null&&Zg(n,r)};var rs=R(null);function Bu(){var n=rs.current;return n!==null?n:$e.pooledCache}function Ko(n,r){r===null?ne(rs,rs.current):ne(rs,r.pool)}function ep(){var n=Bu();return n===null?null:{parent:ot._currentValue,pool:n}}var ea=Error(s(460)),Uu=Error(s(474)),Xo=Error(s(542)),Qo={then:function(){}};function tp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function np(n,r,l){switch(l=n[l],l===void 0?n.push(r):l!==r&&(r.then(Hn,Hn),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,sp(n),n;default:if(typeof r.status=="string")r.then(Hn,Hn);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,sp(n),n}throw ls=r,ea}}function os(n){try{var r=n._init;return r(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ls=l,ea):l}}var ls=null;function ip(){if(ls===null)throw Error(s(459));var n=ls;return ls=null,n}function sp(n){if(n===ea||n===Xo)throw Error(s(483))}var ta=null,ur=0;function Jo(n){var r=ur;return ur+=1,ta===null&&(ta=[]),np(ta,n,r)}function hr(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Zo(n,r){throw r.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ap(n){function r(P,M){if(n){var H=P.deletions;H===null?(P.deletions=[M],P.flags|=16):H.push(M)}}function l(P,M){if(!n)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function u(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function g(P,M){return P=In(P,M),P.index=0,P.sibling=null,P}function m(P,M,H){return P.index=H,n?(H=P.alternate,H!==null?(H=H.index,H<M?(P.flags|=67108866,M):H):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function x(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function E(P,M,H,X){return M===null||M.tag!==6?(M=ju(H,P.mode,X),M.return=P,M):(M=g(M,H),M.return=P,M)}function O(P,M,H,X){var pe=H.type;return pe===w?Y(P,M,H.props.children,X,H.key):M!==null&&(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===V&&os(pe)===M.type)?(M=g(M,H.props),hr(M,H),M.return=P,M):(M=Vo(H.type,H.key,H.props,null,P.mode,X),hr(M,H),M.return=P,M)}function F(P,M,H,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Au(H,P.mode,X),M.return=P,M):(M=g(M,H.children||[]),M.return=P,M)}function Y(P,M,H,X,pe){return M===null||M.tag!==7?(M=ns(H,P.mode,X,pe),M.return=P,M):(M=g(M,H),M.return=P,M)}function J(P,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ju(""+M,P.mode,H),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case _:return H=Vo(M.type,M.key,M.props,null,P.mode,H),hr(H,M),H.return=P,H;case S:return M=Au(M,P.mode,H),M.return=P,M;case V:return M=os(M),J(P,M,H)}if(re(M)||B(M))return M=ns(M,P.mode,H,null),M.return=P,M;if(typeof M.then=="function")return J(P,Jo(M),H);if(M.$$typeof===A)return J(P,Yo(P,M),H);Zo(P,M)}return null}function I(P,M,H,X){var pe=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:E(P,M,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return H.key===pe?O(P,M,H,X):null;case S:return H.key===pe?F(P,M,H,X):null;case V:return H=os(H),I(P,M,H,X)}if(re(H)||B(H))return pe!==null?null:Y(P,M,H,X,null);if(typeof H.then=="function")return I(P,M,Jo(H),X);if(H.$$typeof===A)return I(P,M,Yo(P,H),X);Zo(P,H)}return null}function $(P,M,H,X,pe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(H)||null,E(M,P,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return P=P.get(X.key===null?H:X.key)||null,O(M,P,X,pe);case S:return P=P.get(X.key===null?H:X.key)||null,F(M,P,X,pe);case V:return X=os(X),$(P,M,H,X,pe)}if(re(X)||B(X))return P=P.get(H)||null,Y(M,P,X,pe,null);if(typeof X.then=="function")return $(P,M,H,Jo(X),pe);if(X.$$typeof===A)return $(P,M,H,Yo(M,X),pe);Zo(M,X)}return null}function ce(P,M,H,X){for(var pe=null,De=null,he=M,Se=M=0,Ae=null;he!==null&&Se<H.length;Se++){he.index>Se?(Ae=he,he=null):Ae=he.sibling;var Ne=I(P,he,H[Se],X);if(Ne===null){he===null&&(he=Ae);break}n&&he&&Ne.alternate===null&&r(P,he),M=m(Ne,M,Se),De===null?pe=Ne:De.sibling=Ne,De=Ne,he=Ae}if(Se===H.length)return l(P,he),Re&&qn(P,Se),pe;if(he===null){for(;Se<H.length;Se++)he=J(P,H[Se],X),he!==null&&(M=m(he,M,Se),De===null?pe=he:De.sibling=he,De=he);return Re&&qn(P,Se),pe}for(he=u(he);Se<H.length;Se++)Ae=$(he,P,Se,H[Se],X),Ae!==null&&(n&&Ae.alternate!==null&&he.delete(Ae.key===null?Se:Ae.key),M=m(Ae,M,Se),De===null?pe=Ae:De.sibling=Ae,De=Ae);return n&&he.forEach(function(Ui){return r(P,Ui)}),Re&&qn(P,Se),pe}function ye(P,M,H,X){if(H==null)throw Error(s(151));for(var pe=null,De=null,he=M,Se=M=0,Ae=null,Ne=H.next();he!==null&&!Ne.done;Se++,Ne=H.next()){he.index>Se?(Ae=he,he=null):Ae=he.sibling;var Ui=I(P,he,Ne.value,X);if(Ui===null){he===null&&(he=Ae);break}n&&he&&Ui.alternate===null&&r(P,he),M=m(Ui,M,Se),De===null?pe=Ui:De.sibling=Ui,De=Ui,he=Ae}if(Ne.done)return l(P,he),Re&&qn(P,Se),pe;if(he===null){for(;!Ne.done;Se++,Ne=H.next())Ne=J(P,Ne.value,X),Ne!==null&&(M=m(Ne,M,Se),De===null?pe=Ne:De.sibling=Ne,De=Ne);return Re&&qn(P,Se),pe}for(he=u(he);!Ne.done;Se++,Ne=H.next())Ne=$(he,P,Se,Ne.value,X),Ne!==null&&(n&&Ne.alternate!==null&&he.delete(Ne.key===null?Se:Ne.key),M=m(Ne,M,Se),De===null?pe=Ne:De.sibling=Ne,De=Ne);return n&&he.forEach(function(Hw){return r(P,Hw)}),Re&&qn(P,Se),pe}function qe(P,M,H,X){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case _:e:{for(var pe=H.key;M!==null;){if(M.key===pe){if(pe=H.type,pe===w){if(M.tag===7){l(P,M.sibling),X=g(M,H.props.children),X.return=P,P=X;break e}}else if(M.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===V&&os(pe)===M.type){l(P,M.sibling),X=g(M,H.props),hr(X,H),X.return=P,P=X;break e}l(P,M);break}else r(P,M);M=M.sibling}H.type===w?(X=ns(H.props.children,P.mode,X,H.key),X.return=P,P=X):(X=Vo(H.type,H.key,H.props,null,P.mode,X),hr(X,H),X.return=P,P=X)}return x(P);case S:e:{for(pe=H.key;M!==null;){if(M.key===pe)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){l(P,M.sibling),X=g(M,H.children||[]),X.return=P,P=X;break e}else{l(P,M);break}else r(P,M);M=M.sibling}X=Au(H,P.mode,X),X.return=P,P=X}return x(P);case V:return H=os(H),qe(P,M,H,X)}if(re(H))return ce(P,M,H,X);if(B(H)){if(pe=B(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),ye(P,M,H,X)}if(typeof H.then=="function")return qe(P,M,Jo(H),X);if(H.$$typeof===A)return qe(P,M,Yo(P,H),X);Zo(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(l(P,M.sibling),X=g(M,H),X.return=P,P=X):(l(P,M),X=ju(H,P.mode,X),X.return=P,P=X),x(P)):l(P,M)}return function(P,M,H,X){try{ur=0;var pe=qe(P,M,H,X);return ta=null,pe}catch(he){if(he===ea||he===Xo)throw he;var De=Yt(29,he,null,P.mode);return De.lanes=X,De.return=P,De}finally{}}}var cs=ap(!0),rp=ap(!1),Si=!1;function Hu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fu(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ti(n,r,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Pe&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=$o(n),qg(n,null,l),r}return qo(n,u,r,l),$o(n)}function dr(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,l|=u,r.lanes=l,Qf(n,l)}}function Iu(n,r){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?g=m=x:m=m.next=x,l=l.next}while(l!==null);m===null?g=m=r:m=m.next=r}else g=m=r;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}var qu=!1;function fr(){if(qu){var n=Zs;if(n!==null)throw n}}function gr(n,r,l,u){qu=!1;var g=n.updateQueue;Si=!1;var m=g.firstBaseUpdate,x=g.lastBaseUpdate,E=g.shared.pending;if(E!==null){g.shared.pending=null;var O=E,F=O.next;O.next=null,x===null?m=F:x.next=F,x=O;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==x&&(E===null?Y.firstBaseUpdate=F:E.next=F,Y.lastBaseUpdate=O))}if(m!==null){var J=g.baseState;x=0,Y=F=O=null,E=m;do{var I=E.lane&-536870913,$=I!==E.lane;if($?(je&I)===I:(u&I)===I){I!==0&&I===Js&&(qu=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=n,ye=E;I=r;var qe=l;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){J=ce.call(qe,J,I);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,I=typeof ce=="function"?ce.call(qe,J,I):ce,I==null)break e;J=b({},J,I);break e;case 2:Si=!0}}I=E.callback,I!==null&&(n.flags|=64,$&&(n.flags|=8192),$=g.callbacks,$===null?g.callbacks=[I]:$.push(I))}else $={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(F=Y=$,O=J):Y=Y.next=$,x|=I;if(E=E.next,E===null){if(E=g.shared.pending,E===null)break;$=E,E=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);Y===null&&(O=J),g.baseState=O,g.firstBaseUpdate=F,g.lastBaseUpdate=Y,m===null&&(g.shared.lanes=0),Oi|=x,n.lanes=x,n.memoizedState=J}}function op(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function lp(n,r){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)op(l[n],r)}var na=R(null),el=R(0);function cp(n,r){n=ei,ne(el,n),ne(na,r),ei=n|r.baseLanes}function $u(){ne(el,ei),ne(na,na.current)}function Vu(){ei=el.current,K(na),K(el)}var Kt=R(null),cn=null;function Ei(n){var r=n.alternate;ne(st,st.current&1),ne(Kt,n),cn===null&&(r===null||na.current!==null||r.memoizedState!==null)&&(cn=n)}function Gu(n){ne(st,st.current),ne(Kt,n),cn===null&&(cn=n)}function up(n){n.tag===22?(ne(st,st.current),ne(Kt,n),cn===null&&(cn=n)):Ci()}function Ci(){ne(st,st.current),ne(Kt,Kt.current)}function Xt(n){K(Kt),cn===n&&(cn=null),K(st)}var st=R(0);function tl(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Jh(l)||Zh(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Gn=0,xe=null,Fe=null,lt=null,nl=!1,ia=!1,us=!1,il=0,pr=0,sa=null,RS=0;function tt(){throw Error(s(321))}function Wu(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!Wt(n[l],r[l]))return!1;return!0}function Yu(n,r,l,u,g,m){return Gn=m,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=n===null||n.memoizedState===null?Wp:ch,us=!1,m=l(u,g),us=!1,ia&&(m=dp(r,l,u,g)),hp(n),m}function hp(n){U.H=br;var r=Fe!==null&&Fe.next!==null;if(Gn=0,lt=Fe=xe=null,nl=!1,pr=0,sa=null,r)throw Error(s(300));n===null||ct||(n=n.dependencies,n!==null&&Wo(n)&&(ct=!0))}function dp(n,r,l,u){xe=n;var g=0;do{if(ia&&(sa=null),pr=0,ia=!1,25<=g)throw Error(s(301));if(g+=1,lt=Fe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=Yp,m=r(l,u)}while(ia);return m}function MS(){var n=U.H,r=n.useState()[0];return r=typeof r.then=="function"?mr(r):r,n=n.useState()[0],(Fe!==null?Fe.memoizedState:null)!==n&&(xe.flags|=1024),r}function Ku(){var n=il!==0;return il=0,n}function Xu(n,r,l){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~l}function Qu(n){if(nl){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}nl=!1}Gn=0,lt=Fe=xe=null,ia=!1,pr=il=0,sa=null}function kt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?xe.memoizedState=lt=n:lt=lt.next=n,lt}function at(){if(Fe===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Fe.next;var r=lt===null?xe.memoizedState:lt.next;if(r!==null)lt=r,Fe=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Fe=n,n={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},lt===null?xe.memoizedState=lt=n:lt=lt.next=n}return lt}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mr(n){var r=pr;return pr+=1,sa===null&&(sa=[]),n=np(sa,n,r),r=xe,(lt===null?r.memoizedState:lt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Wp:ch),n}function al(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return mr(n);if(n.$$typeof===A)return xt(n)}throw Error(s(438,String(n)))}function Ju(n){var r=null,l=xe.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=sl(),xe.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(n),u=0;u<n;u++)l[u]=ee;return r.index++,l}function Wn(n,r){return typeof r=="function"?r(n):r}function rl(n){var r=at();return Zu(r,Fe,n)}function Zu(n,r,l){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var g=n.baseQueue,m=u.pending;if(m!==null){if(g!==null){var x=g.next;g.next=m.next,m.next=x}r.baseQueue=g=m,u.pending=null}if(m=n.baseState,g===null)n.memoizedState=m;else{r=g.next;var E=x=null,O=null,F=r,Y=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(je&J)===J:(Gn&J)===J){var I=F.revertLane;if(I===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Js&&(Y=!0);else if((Gn&I)===I){F=F.next,I===Js&&(Y=!0);continue}else J={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(E=O=J,x=m):O=O.next=J,xe.lanes|=I,Oi|=I;J=F.action,us&&l(m,J),m=F.hasEagerState?F.eagerState:l(m,J)}else I={lane:J,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(E=O=I,x=m):O=O.next=I,xe.lanes|=J,Oi|=J;F=F.next}while(F!==null&&F!==r);if(O===null?x=m:O.next=E,!Wt(m,n.memoizedState)&&(ct=!0,Y&&(l=Zs,l!==null)))throw l;n.memoizedState=m,n.baseState=x,n.baseQueue=O,u.lastRenderedState=m}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function eh(n){var r=at(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,m=r.memoizedState;if(g!==null){l.pending=null;var x=g=g.next;do m=n(m,x.action),x=x.next;while(x!==g);Wt(m,r.memoizedState)||(ct=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),l.lastRenderedState=m}return[m,u]}function fp(n,r,l){var u=xe,g=at(),m=Re;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=r();var x=!Wt((Fe||g).memoizedState,l);if(x&&(g.memoizedState=l,ct=!0),g=g.queue,ih(mp.bind(null,u,g,n),[n]),g.getSnapshot!==r||x||lt!==null&&lt.memoizedState.tag&1){if(u.flags|=2048,aa(9,{destroy:void 0},pp.bind(null,u,g,l,r),null),$e===null)throw Error(s(349));m||(Gn&127)!==0||gp(u,r,l)}return l}function gp(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=xe.updateQueue,r===null?(r=sl(),xe.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function pp(n,r,l,u){r.value=l,r.getSnapshot=u,yp(r)&&bp(n)}function mp(n,r,l){return l(function(){yp(r)&&bp(n)})}function yp(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!Wt(n,l)}catch{return!0}}function bp(n){var r=ts(n,2);r!==null&&Ut(r,n,2)}function th(n){var r=kt();if(typeof n=="function"){var l=n;if(n=l(),us){pi(!0);try{l()}finally{pi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:n},r}function vp(n,r,l,u){return n.baseState=l,Zu(n,Fe,typeof u=="function"?u:Wn)}function kS(n,r,l,u,g){if(cl(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};U.T!==null?l(!0):m.isTransition=!1,u(m),l=r.pending,l===null?(m.next=r.pending=m,_p(r,m)):(m.next=l.next,r.pending=l.next=m)}}function _p(n,r){var l=r.action,u=r.payload,g=n.state;if(r.isTransition){var m=U.T,x={};U.T=x;try{var E=l(g,u),O=U.S;O!==null&&O(x,E),xp(n,r,E)}catch(F){nh(n,r,F)}finally{m!==null&&x.types!==null&&(m.types=x.types),U.T=m}}else try{m=l(g,u),xp(n,r,m)}catch(F){nh(n,r,F)}}function xp(n,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Sp(n,r,u)},function(u){return nh(n,r,u)}):Sp(n,r,l)}function Sp(n,r,l){r.status="fulfilled",r.value=l,wp(r),n.state=l,r=n.pending,r!==null&&(l=r.next,l===r?n.pending=null:(l=l.next,r.next=l,_p(n,l)))}function nh(n,r,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,wp(r),r=r.next;while(r!==u)}n.action=null}function wp(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Tp(n,r){return r}function Ep(n,r){if(Re){var l=$e.formState;if(l!==null){e:{var u=xe;if(Re){if(We){t:{for(var g=We,m=ln;g.nodeType!==8;){if(!m){g=null;break t}if(g=un(g.nextSibling),g===null){g=null;break t}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){We=un(g.nextSibling),u=g.data==="F!";break e}}_i(u)}u=!1}u&&(r=l[0])}}return l=kt(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tp,lastRenderedState:r},l.queue=u,l=$p.bind(null,xe,u),u.dispatch=l,u=th(!1),m=lh.bind(null,xe,!1,u.queue),u=kt(),g={state:r,dispatch:null,action:n,pending:null},u.queue=g,l=kS.bind(null,xe,g,m,l),g.dispatch=l,u.memoizedState=n,[r,l,!1]}function Cp(n){var r=at();return jp(r,Fe,n)}function jp(n,r,l){if(r=Zu(n,r,Tp)[0],n=rl(Wn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=mr(r)}catch(x){throw x===ea?Xo:x}else u=r;r=at();var g=r.queue,m=g.dispatch;return l!==r.memoizedState&&(xe.flags|=2048,aa(9,{destroy:void 0},DS.bind(null,g,l),null)),[u,m,n]}function DS(n,r){n.action=r}function Ap(n){var r=at(),l=Fe;if(l!==null)return jp(r,l,n);at(),r=r.memoizedState,l=at();var u=l.queue.dispatch;return l.memoizedState=n,[r,u,!1]}function aa(n,r,l,u){return n={tag:n,create:l,deps:u,inst:r,next:null},r=xe.updateQueue,r===null&&(r=sl(),xe.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,r.lastEffect=n),n}function Op(){return at().memoizedState}function ol(n,r,l,u){var g=kt();xe.flags|=n,g.memoizedState=aa(1|r,{destroy:void 0},l,u===void 0?null:u)}function ll(n,r,l,u){var g=at();u=u===void 0?null:u;var m=g.memoizedState.inst;Fe!==null&&u!==null&&Wu(u,Fe.memoizedState.deps)?g.memoizedState=aa(r,m,l,u):(xe.flags|=n,g.memoizedState=aa(1|r,m,l,u))}function Rp(n,r){ol(8390656,8,n,r)}function ih(n,r){ll(2048,8,n,r)}function NS(n){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=sl(),xe.updateQueue=r,r.events=[n];else{var l=r.events;l===null?r.events=[n]:l.push(n)}}function Mp(n){var r=at().memoizedState;return NS({ref:r,nextImpl:n}),function(){if((Pe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function kp(n,r){return ll(4,2,n,r)}function Dp(n,r){return ll(4,4,n,r)}function Np(n,r){if(typeof r=="function"){n=n();var l=r(n);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Pp(n,r,l){l=l!=null?l.concat([n]):null,ll(4,4,Np.bind(null,r,n),l)}function sh(){}function Lp(n,r){var l=at();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&Wu(r,u[1])?u[0]:(l.memoizedState=[n,r],n)}function zp(n,r){var l=at();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&Wu(r,u[1]))return u[0];if(u=n(),us){pi(!0);try{n()}finally{pi(!1)}}return l.memoizedState=[u,r],u}function ah(n,r,l){return l===void 0||(Gn&1073741824)!==0&&(je&261930)===0?n.memoizedState=r:(n.memoizedState=l,n=Bm(),xe.lanes|=n,Oi|=n,l)}function Bp(n,r,l,u){return Wt(l,r)?l:na.current!==null?(n=ah(n,l,u),Wt(n,r)||(ct=!0),n):(Gn&42)===0||(Gn&1073741824)!==0&&(je&261930)===0?(ct=!0,n.memoizedState=l):(n=Bm(),xe.lanes|=n,Oi|=n,r)}function Up(n,r,l,u,g){var m=Z.p;Z.p=m!==0&&8>m?m:8;var x=U.T,E={};U.T=E,lh(n,!1,r,l);try{var O=g(),F=U.S;if(F!==null&&F(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Y=OS(O,u);yr(n,r,Y,Zt(n))}else yr(n,r,u,Zt(n))}catch(J){yr(n,r,{then:function(){},status:"rejected",reason:J},Zt())}finally{Z.p=m,x!==null&&E.types!==null&&(x.types=E.types),U.T=x}}function PS(){}function rh(n,r,l,u){if(n.tag!==5)throw Error(s(476));var g=Hp(n).queue;Up(n,g,r,ue,l===null?PS:function(){return Fp(n),l(u)})}function Hp(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:ue},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wn,lastRenderedState:l},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Fp(n){var r=Hp(n);r.next===null&&(r=n.alternate.memoizedState),yr(n,r.next.queue,{},Zt())}function oh(){return xt(Nr)}function Ip(){return at().memoizedState}function qp(){return at().memoizedState}function LS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var l=Zt();n=wi(l);var u=Ti(r,n,l);u!==null&&(Ut(u,r,l),dr(u,r,l)),r={cache:Lu()},n.payload=r;return}r=r.return}}function zS(n,r,l){var u=Zt();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},cl(n)?Vp(r,l):(l=Eu(n,r,l,u),l!==null&&(Ut(l,n,u),Gp(l,r,u)))}function $p(n,r,l){var u=Zt();yr(n,r,l,u)}function yr(n,r,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(cl(n))Vp(r,g);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,E=m(x,l);if(g.hasEagerState=!0,g.eagerState=E,Wt(E,x))return qo(n,r,g,0),$e===null&&Io(),!1}catch{}finally{}if(l=Eu(n,r,g,u),l!==null)return Ut(l,n,u),Gp(l,r,u),!0}return!1}function lh(n,r,l,u){if(u={lane:2,revertLane:Hh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},cl(n)){if(r)throw Error(s(479))}else r=Eu(n,l,u,2),r!==null&&Ut(r,n,2)}function cl(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function Vp(n,r){ia=nl=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function Gp(n,r,l){if((l&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,l|=u,r.lanes=l,Qf(n,l)}}var br={readContext:xt,use:al,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};br.useEffectEvent=tt;var Wp={readContext:xt,use:al,useCallback:function(n,r){return kt().memoizedState=[n,r===void 0?null:r],n},useContext:xt,useEffect:Rp,useImperativeHandle:function(n,r,l){l=l!=null?l.concat([n]):null,ol(4194308,4,Np.bind(null,r,n),l)},useLayoutEffect:function(n,r){return ol(4194308,4,n,r)},useInsertionEffect:function(n,r){ol(4,2,n,r)},useMemo:function(n,r){var l=kt();r=r===void 0?null:r;var u=n();if(us){pi(!0);try{n()}finally{pi(!1)}}return l.memoizedState=[u,r],u},useReducer:function(n,r,l){var u=kt();if(l!==void 0){var g=l(r);if(us){pi(!0);try{l(r)}finally{pi(!1)}}}else g=r;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=zS.bind(null,xe,n),[u.memoizedState,n]},useRef:function(n){var r=kt();return n={current:n},r.memoizedState=n},useState:function(n){n=th(n);var r=n.queue,l=$p.bind(null,xe,r);return r.dispatch=l,[n.memoizedState,l]},useDebugValue:sh,useDeferredValue:function(n,r){var l=kt();return ah(l,n,r)},useTransition:function(){var n=th(!1);return n=Up.bind(null,xe,n.queue,!0,!1),kt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,l){var u=xe,g=kt();if(Re){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),$e===null)throw Error(s(349));(je&127)!==0||gp(u,r,l)}g.memoizedState=l;var m={value:l,getSnapshot:r};return g.queue=m,Rp(mp.bind(null,u,m,n),[n]),u.flags|=2048,aa(9,{destroy:void 0},pp.bind(null,u,m,l,r),null),l},useId:function(){var n=kt(),r=$e.identifierPrefix;if(Re){var l=An,u=jn;l=(u&~(1<<32-Gt(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=il++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=RS++,r="_"+r+"r_"+l.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:oh,useFormState:Ep,useActionState:Ep,useOptimistic:function(n){var r=kt();r.memoizedState=r.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=lh.bind(null,xe,!0,l),l.dispatch=r,[n,r]},useMemoCache:Ju,useCacheRefresh:function(){return kt().memoizedState=LS.bind(null,xe)},useEffectEvent:function(n){var r=kt(),l={impl:n};return r.memoizedState=l,function(){if((Pe&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},ch={readContext:xt,use:al,useCallback:Lp,useContext:xt,useEffect:ih,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Dp,useMemo:zp,useReducer:rl,useRef:Op,useState:function(){return rl(Wn)},useDebugValue:sh,useDeferredValue:function(n,r){var l=at();return Bp(l,Fe.memoizedState,n,r)},useTransition:function(){var n=rl(Wn)[0],r=at().memoizedState;return[typeof n=="boolean"?n:mr(n),r]},useSyncExternalStore:fp,useId:Ip,useHostTransitionStatus:oh,useFormState:Cp,useActionState:Cp,useOptimistic:function(n,r){var l=at();return vp(l,Fe,n,r)},useMemoCache:Ju,useCacheRefresh:qp};ch.useEffectEvent=Mp;var Yp={readContext:xt,use:al,useCallback:Lp,useContext:xt,useEffect:ih,useImperativeHandle:Pp,useInsertionEffect:kp,useLayoutEffect:Dp,useMemo:zp,useReducer:eh,useRef:Op,useState:function(){return eh(Wn)},useDebugValue:sh,useDeferredValue:function(n,r){var l=at();return Fe===null?ah(l,n,r):Bp(l,Fe.memoizedState,n,r)},useTransition:function(){var n=eh(Wn)[0],r=at().memoizedState;return[typeof n=="boolean"?n:mr(n),r]},useSyncExternalStore:fp,useId:Ip,useHostTransitionStatus:oh,useFormState:Ap,useActionState:Ap,useOptimistic:function(n,r){var l=at();return Fe!==null?vp(l,Fe,n,r):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Ju,useCacheRefresh:qp};Yp.useEffectEvent=Mp;function uh(n,r,l,u){r=n.memoizedState,l=l(u,r),l=l==null?r:b({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var hh={enqueueSetState:function(n,r,l){n=n._reactInternals;var u=Zt(),g=wi(u);g.payload=r,l!=null&&(g.callback=l),r=Ti(n,g,u),r!==null&&(Ut(r,n,u),dr(r,n,u))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var u=Zt(),g=wi(u);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=Ti(n,g,u),r!==null&&(Ut(r,n,u),dr(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=Zt(),u=wi(l);u.tag=2,r!=null&&(u.callback=r),r=Ti(n,u,l),r!==null&&(Ut(r,n,l),dr(r,n,l))}};function Kp(n,r,l,u,g,m,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,x):r.prototype&&r.prototype.isPureReactComponent?!sr(l,u)||!sr(g,m):!0}function Xp(n,r,l,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==n&&hh.enqueueReplaceState(r,r.state,null)}function hs(n,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(n=n.defaultProps){l===r&&(l=b({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function Qp(n){Fo(n)}function Jp(n){console.error(n)}function Zp(n){Fo(n)}function ul(n,r){try{var l=n.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function em(n,r,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function dh(n,r,l){return l=wi(l),l.tag=3,l.payload={element:null},l.callback=function(){ul(n,r)},l}function tm(n){return n=wi(n),n.tag=3,n}function nm(n,r,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var m=u.value;n.payload=function(){return g(m)},n.callback=function(){em(r,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){em(r,l,u),typeof g!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function BS(n,r,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&Qs(r,l,g,!0),l=Kt.current,l!==null){switch(l.tag){case 31:case 13:return cn===null?Sl():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Qo?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),zh(n,u,g)),!1;case 22:return l.flags|=65536,u===Qo?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),zh(n,u,g)),!1}throw Error(s(435,l.tag))}return zh(n,u,g),Sl(),!1}if(Re)return r=Kt.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==Mu&&(n=Error(s(422),{cause:u}),or(an(n,l)))):(u!==Mu&&(r=Error(s(423),{cause:u}),or(an(r,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=an(u,l),g=dh(n.stateNode,u,g),Iu(n,g),nt!==4&&(nt=2)),!1;var m=Error(s(520),{cause:u});if(m=an(m,l),Cr===null?Cr=[m]:Cr.push(m),nt!==4&&(nt=2),r===null)return!0;u=an(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=dh(l.stateNode,u,n),Iu(l,n),!1;case 1:if(r=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ri===null||!Ri.has(m))))return l.flags|=65536,g&=-g,l.lanes|=g,g=tm(g),nm(g,n,l,u),Iu(l,g),!1}l=l.return}while(l!==null);return!1}var fh=Error(s(461)),ct=!1;function St(n,r,l,u){r.child=n===null?rp(r,null,l,u):cs(r,n.child,l,u)}function im(n,r,l,u,g){l=l.render;var m=r.ref;if("ref"in u){var x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}else x=u;return as(r),u=Yu(n,r,l,x,m,g),E=Ku(),n!==null&&!ct?(Xu(n,r,g),Yn(n,r,g)):(Re&&E&&Ou(r),r.flags|=1,St(n,r,u,g),r.child)}function sm(n,r,l,u,g){if(n===null){var m=l.type;return typeof m=="function"&&!Cu(m)&&m.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=m,am(n,r,m,u,g)):(n=Vo(l.type,null,u,r,r.mode,g),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!xh(n,g)){var x=m.memoizedProps;if(l=l.compare,l=l!==null?l:sr,l(x,u)&&n.ref===r.ref)return Yn(n,r,g)}return r.flags|=1,n=In(m,u),n.ref=r.ref,n.return=r,r.child=n}function am(n,r,l,u,g){if(n!==null){var m=n.memoizedProps;if(sr(m,u)&&n.ref===r.ref)if(ct=!1,r.pendingProps=u=m,xh(n,g))(n.flags&131072)!==0&&(ct=!0);else return r.lanes=n.lanes,Yn(n,r,g)}return gh(n,r,l,u,g)}function rm(n,r,l,u){var g=u.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,n!==null){for(u=r.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~m}else u=0,r.child=null;return om(n,r,m,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ko(r,m!==null?m.cachePool:null),m!==null?cp(r,m):$u(),up(r);else return u=r.lanes=536870912,om(n,r,m!==null?m.baseLanes|l:l,l,u)}else m!==null?(Ko(r,m.cachePool),cp(r,m),Ci(),r.memoizedState=null):(n!==null&&Ko(r,null),$u(),Ci());return St(n,r,g,l),r.child}function vr(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function om(n,r,l,u,g){var m=Bu();return m=m===null?null:{parent:ot._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},n!==null&&Ko(r,null),$u(),up(r),n!==null&&Qs(n,r,u,!0),r.childLanes=g,null}function hl(n,r){return r=fl({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function lm(n,r,l){return cs(r,n.child,null,l),n=hl(r,r.pendingProps),n.flags|=2,Xt(r),r.memoizedState=null,n}function US(n,r,l){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Re){if(u.mode==="hidden")return n=hl(r,u),r.lanes=536870912,vr(null,n);if(Gu(r),(n=We)?(n=_y(n,ln),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:bi!==null?{id:jn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Vg(n),l.return=r,r.child=l,_t=r,We=null)):n=null,n===null)throw _i(r);return r.lanes=536870912,null}return hl(r,u)}var m=n.memoizedState;if(m!==null){var x=m.dehydrated;if(Gu(r),g)if(r.flags&256)r.flags&=-257,r=lm(n,r,l);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(ct||Qs(n,r,l,!1),g=(l&n.childLanes)!==0,ct||g){if(u=$e,u!==null&&(x=Jf(u,l),x!==0&&x!==m.retryLane))throw m.retryLane=x,ts(n,x),Ut(u,n,x),fh;Sl(),r=lm(n,r,l)}else n=m.treeContext,We=un(x.nextSibling),_t=r,Re=!0,vi=null,ln=!1,n!==null&&Yg(r,n),r=hl(r,u),r.flags|=4096;return r}return n=In(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function dl(n,r){var l=r.ref;if(l===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(r.flags|=4194816)}}function gh(n,r,l,u,g){return as(r),l=Yu(n,r,l,u,void 0,g),u=Ku(),n!==null&&!ct?(Xu(n,r,g),Yn(n,r,g)):(Re&&u&&Ou(r),r.flags|=1,St(n,r,l,g),r.child)}function cm(n,r,l,u,g,m){return as(r),r.updateQueue=null,l=dp(r,u,l,g),hp(n),u=Ku(),n!==null&&!ct?(Xu(n,r,m),Yn(n,r,m)):(Re&&u&&Ou(r),r.flags|=1,St(n,r,l,m),r.child)}function um(n,r,l,u,g){if(as(r),r.stateNode===null){var m=Ws,x=l.contextType;typeof x=="object"&&x!==null&&(m=xt(x)),m=new l(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hh,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Hu(r),x=l.contextType,m.context=typeof x=="object"&&x!==null?xt(x):Ws,m.state=r.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(uh(r,l,x,u),m.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&hh.enqueueReplaceState(m,m.state,null),gr(r,u,m,g),fr(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var E=r.memoizedProps,O=hs(l,E);m.props=O;var F=m.context,Y=l.contextType;x=Ws,typeof Y=="object"&&Y!==null&&(x=xt(Y));var J=l.getDerivedStateFromProps;Y=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||F!==x)&&Xp(r,m,u,x),Si=!1;var I=r.memoizedState;m.state=I,gr(r,u,m,g),fr(),F=r.memoizedState,E||I!==F||Si?(typeof J=="function"&&(uh(r,l,J,u),F=r.memoizedState),(O=Si||Kp(r,l,O,u,I,F,x))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),m.props=u,m.state=F,m.context=x,u=O):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Fu(n,r),x=r.memoizedProps,Y=hs(l,x),m.props=Y,J=r.pendingProps,I=m.context,F=l.contextType,O=Ws,typeof F=="object"&&F!==null&&(O=xt(F)),E=l.getDerivedStateFromProps,(F=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==J||I!==O)&&Xp(r,m,u,O),Si=!1,I=r.memoizedState,m.state=I,gr(r,u,m,g),fr();var $=r.memoizedState;x!==J||I!==$||Si||n!==null&&n.dependencies!==null&&Wo(n.dependencies)?(typeof E=="function"&&(uh(r,l,E,u),$=r.memoizedState),(Y=Si||Kp(r,l,Y,u,I,$,O)||n!==null&&n.dependencies!==null&&Wo(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,O)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===n.memoizedProps&&I===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&I===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),m.props=u,m.state=$,m.context=O,u=Y):(typeof m.componentDidUpdate!="function"||x===n.memoizedProps&&I===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&I===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,dl(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=cs(r,n.child,null,g),r.child=cs(r,null,l,g)):St(n,r,l,g),r.memoizedState=m.state,n=r.child):n=Yn(n,r,g),n}function hm(n,r,l,u){return is(),r.flags|=256,St(n,r,l,u),r.child}var ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mh(n){return{baseLanes:n,cachePool:ep()}}function yh(n,r,l){return n=n!==null?n.childLanes&~l:0,r&&(n|=Jt),n}function dm(n,r,l){var u=r.pendingProps,g=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=n!==null&&n.memoizedState===null?!1:(st.current&2)!==0),x&&(g=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,n===null){if(Re){if(g?Ei(r):Ci(),(n=We)?(n=_y(n,ln),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:bi!==null?{id:jn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Vg(n),l.return=r,r.child=l,_t=r,We=null)):n=null,n===null)throw _i(r);return Zh(n)?r.lanes=32:r.lanes=536870912,null}var E=u.children;return u=u.fallback,g?(Ci(),g=r.mode,E=fl({mode:"hidden",children:E},g),u=ns(u,g,l,null),E.return=r,u.return=r,E.sibling=u,r.child=E,u=r.child,u.memoizedState=mh(l),u.childLanes=yh(n,x,l),r.memoizedState=ph,vr(null,u)):(Ei(r),bh(r,E))}var O=n.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(m)r.flags&256?(Ei(r),r.flags&=-257,r=vh(n,r,l)):r.memoizedState!==null?(Ci(),r.child=n.child,r.flags|=128,r=null):(Ci(),E=u.fallback,g=r.mode,u=fl({mode:"visible",children:u.children},g),E=ns(E,g,l,null),E.flags|=2,u.return=r,E.return=r,u.sibling=E,r.child=u,cs(r,n.child,null,l),u=r.child,u.memoizedState=mh(l),u.childLanes=yh(n,x,l),r.memoizedState=ph,r=vr(null,u));else if(Ei(r),Zh(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var F=x.dgst;x=F,u=Error(s(419)),u.stack="",u.digest=x,or({value:u,source:null,stack:null}),r=vh(n,r,l)}else if(ct||Qs(n,r,l,!1),x=(l&n.childLanes)!==0,ct||x){if(x=$e,x!==null&&(u=Jf(x,l),u!==0&&u!==O.retryLane))throw O.retryLane=u,ts(n,u),Ut(x,n,u),fh;Jh(E)||Sl(),r=vh(n,r,l)}else Jh(E)?(r.flags|=192,r.child=n.child,r=null):(n=O.treeContext,We=un(E.nextSibling),_t=r,Re=!0,vi=null,ln=!1,n!==null&&Yg(r,n),r=bh(r,u.children),r.flags|=4096);return r}return g?(Ci(),E=u.fallback,g=r.mode,O=n.child,F=O.sibling,u=In(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,F!==null?E=In(F,E):(E=ns(E,g,l,null),E.flags|=2),E.return=r,u.return=r,u.sibling=E,r.child=u,vr(null,u),u=r.child,E=n.child.memoizedState,E===null?E=mh(l):(g=E.cachePool,g!==null?(O=ot._currentValue,g=g.parent!==O?{parent:O,pool:O}:g):g=ep(),E={baseLanes:E.baseLanes|l,cachePool:g}),u.memoizedState=E,u.childLanes=yh(n,x,l),r.memoizedState=ph,vr(n.child,u)):(Ei(r),l=n.child,n=l.sibling,l=In(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,n!==null&&(x=r.deletions,x===null?(r.deletions=[n],r.flags|=16):x.push(n)),r.child=l,r.memoizedState=null,l)}function bh(n,r){return r=fl({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function fl(n,r){return n=Yt(22,n,null,r),n.lanes=0,n}function vh(n,r,l){return cs(r,n.child,null,l),n=bh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function fm(n,r,l){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Nu(n.return,r,l)}function _h(n,r,l,u,g,m){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=g,x.treeForkCount=m)}function gm(n,r,l){var u=r.pendingProps,g=u.revealOrder,m=u.tail;u=u.children;var x=st.current,E=(x&2)!==0;if(E?(x=x&1|2,r.flags|=128):x&=1,ne(st,x),St(n,r,u,l),u=Re?rr:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&fm(n,l,r);else if(n.tag===19)fm(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)n=l.alternate,n!==null&&tl(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),_h(r,!1,g,l,m,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(n=g.alternate,n!==null&&tl(n)===null){r.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}_h(r,!0,l,null,m,u);break;case"together":_h(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Yn(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),Oi|=r.lanes,(l&r.childLanes)===0)if(n!==null){if(Qs(n,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,l=In(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=In(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function xh(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Wo(n)))}function HS(n,r,l){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),xi(r,ot,n.memoizedState.cache),is();break;case 27:case 5:Tn(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:xi(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gu(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(r),r.flags|=128,null):(l&r.child.childLanes)!==0?dm(n,r,l):(Ei(r),n=Yn(n,r,l),n!==null?n.sibling:null);Ei(r);break;case 19:var g=(n.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(Qs(n,r,l,!1),u=(l&r.childLanes)!==0),g){if(u)return gm(n,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ne(st,st.current),u)break;return null;case 22:return r.lanes=0,rm(n,r,l,r.pendingProps);case 24:xi(r,ot,n.memoizedState.cache)}return Yn(n,r,l)}function pm(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps)ct=!0;else{if(!xh(n,l)&&(r.flags&128)===0)return ct=!1,HS(n,r,l);ct=(n.flags&131072)!==0}else ct=!1,Re&&(r.flags&1048576)!==0&&Wg(r,rr,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=os(r.elementType),r.type=n,typeof n=="function")Cu(n)?(u=hs(n,u),r.tag=1,r=um(null,r,n,u,l)):(r.tag=0,r=gh(null,r,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===k){r.tag=11,r=im(null,r,n,u,l);break e}else if(g===D){r.tag=14,r=sm(null,r,n,u,l);break e}}throw r=ae(n)||n,Error(s(306,r,""))}}return r;case 0:return gh(n,r,r.type,r.pendingProps,l);case 1:return u=r.type,g=hs(u,r.pendingProps),um(n,r,u,g,l);case 3:e:{if(ke(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;g=m.element,Fu(n,r),gr(r,u,null,l);var x=r.memoizedState;if(u=x.cache,xi(r,ot,u),u!==m.cache&&Pu(r,[ot],l,!0),fr(),u=x.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=hm(n,r,u,l);break e}else if(u!==g){g=an(Error(s(424)),r),or(g),r=hm(n,r,u,l);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(We=un(n.firstChild),_t=r,Re=!0,vi=null,ln=!0,l=rp(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(is(),u===g){r=Yn(n,r,l);break e}St(n,r,u,l)}r=r.child}return r;case 26:return dl(n,r),n===null?(l=Cy(r.type,null,r.pendingProps,null))?r.memoizedState=l:Re||(l=r.type,n=r.pendingProps,u=Ol(ge.current).createElement(l),u[vt]=r,u[Dt]=n,wt(u,l,n),mt(u),r.stateNode=u):r.memoizedState=Cy(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Tn(r),n===null&&Re&&(u=r.stateNode=wy(r.type,r.pendingProps,ge.current),_t=r,ln=!0,g=We,Ni(r.type)?(ed=g,We=un(u.firstChild)):We=g),St(n,r,r.pendingProps.children,l),dl(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Re&&((g=u=We)&&(u=mw(u,r.type,r.pendingProps,ln),u!==null?(r.stateNode=u,_t=r,We=un(u.firstChild),ln=!1,g=!0):g=!1),g||_i(r)),Tn(r),g=r.type,m=r.pendingProps,x=n!==null?n.memoizedProps:null,u=m.children,Kh(g,m)?u=null:x!==null&&Kh(g,x)&&(r.flags|=32),r.memoizedState!==null&&(g=Yu(n,r,MS,null,null,l),Nr._currentValue=g),dl(n,r),St(n,r,u,l),r.child;case 6:return n===null&&Re&&((n=l=We)&&(l=yw(l,r.pendingProps,ln),l!==null?(r.stateNode=l,_t=r,We=null,n=!0):n=!1),n||_i(r)),null;case 13:return dm(n,r,l);case 4:return ke(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=cs(r,null,u,l):St(n,r,u,l),r.child;case 11:return im(n,r,r.type,r.pendingProps,l);case 7:return St(n,r,r.pendingProps,l),r.child;case 8:return St(n,r,r.pendingProps.children,l),r.child;case 12:return St(n,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,xi(r,r.type,u.value),St(n,r,u.children,l),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,as(r),g=xt(g),u=u(g),r.flags|=1,St(n,r,u,l),r.child;case 14:return sm(n,r,r.type,r.pendingProps,l);case 15:return am(n,r,r.type,r.pendingProps,l);case 19:return gm(n,r,l);case 31:return US(n,r,l);case 22:return rm(n,r,l,r.pendingProps);case 24:return as(r),u=xt(ot),n===null?(g=Bu(),g===null&&(g=$e,m=Lu(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=l),g=m),r.memoizedState={parent:u,cache:g},Hu(r),xi(r,ot,g)):((n.lanes&l)!==0&&(Fu(n,r),gr(r,null,null,l),fr()),g=n.memoizedState,m=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),xi(r,ot,u)):(u=m.cache,xi(r,ot,u),u!==g.cache&&Pu(r,[ot],l,!0))),St(n,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Kn(n){n.flags|=4}function Sh(n,r,l,u,g){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Im())n.flags|=8192;else throw ls=Qo,Uu}else n.flags&=-16777217}function mm(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!My(r))if(Im())n.flags|=8192;else throw ls=Qo,Uu}function gl(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Kf():536870912,n.lanes|=r,ca|=r)}function _r(n,r){if(!Re)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ye(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(r)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,r}function FS(n,r,l){var u=r.pendingProps;switch(Ru(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(r),null;case 1:return Ye(r),null;case 3:return l=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Vn(ot),Ve(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Xs(r)?Kn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ku())),Ye(r),null;case 26:var g=r.type,m=r.memoizedState;return n===null?(Kn(r),m!==null?(Ye(r),mm(r,m)):(Ye(r),Sh(r,g,null,u,l))):m?m!==n.memoizedState?(Kn(r),Ye(r),mm(r,m)):(Ye(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&Kn(r),Ye(r),Sh(r,g,n,u,l)),null;case 27:if(et(r),l=ge.current,g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Kn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}n=se.current,Xs(r)?Kg(r):(n=wy(g,u,l),r.stateNode=n,Kn(r))}return Ye(r),null;case 5:if(et(r),g=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Kn(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Ye(r),null}if(m=se.current,Xs(r))Kg(r);else{var x=Ol(ge.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?x.createElement(g,{is:u.is}):x.createElement(g)}}m[vt]=r,m[Dt]=u;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=m;e:switch(wt(m,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Kn(r)}}return Ye(r),Sh(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,l),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Kn(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=ge.current,Xs(r)){if(n=r.stateNode,l=r.memoizedProps,u=null,g=_t,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[vt]=r,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dy(n.nodeValue,l)),n||_i(r,!0)}else n=Ol(n).createTextNode(u),n[vt]=r,r.stateNode=n}return Ye(r),null;case 31:if(l=r.memoizedState,n===null||n.memoizedState!==null){if(u=Xs(r),l!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[vt]=r}else is(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),n=!1}else l=ku(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return r.flags&256?(Xt(r),r):(Xt(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ye(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Xs(r),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[vt]=r}else is(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ye(r),g=!1}else g=ku(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(Xt(r),r):(Xt(r),null)}return Xt(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==g&&(u.flags|=2048)),l!==n&&l&&(r.child.flags|=8192),gl(r,r.updateQueue),Ye(r),null);case 4:return Ve(),n===null&&$h(r.stateNode.containerInfo),Ye(r),null;case 10:return Vn(r.type),Ye(r),null;case 19:if(K(st),u=r.memoizedState,u===null)return Ye(r),null;if(g=(r.flags&128)!==0,m=u.rendering,m===null)if(g)_r(u,!1);else{if(nt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=tl(n),m!==null){for(r.flags|=128,_r(u,!1),n=m.updateQueue,r.updateQueue=n,gl(r,n),r.subtreeFlags=0,n=l,l=r.child;l!==null;)$g(l,n),l=l.sibling;return ne(st,st.current&1|2),Re&&qn(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Mt()>vl&&(r.flags|=128,g=!0,_r(u,!1),r.lanes=4194304)}else{if(!g)if(n=tl(m),n!==null){if(r.flags|=128,g=!0,n=n.updateQueue,r.updateQueue=n,gl(r,n),_r(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Re)return Ye(r),null}else 2*Mt()-u.renderingStartTime>vl&&l!==536870912&&(r.flags|=128,g=!0,_r(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(n=u.last,n!==null?n.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Mt(),n.sibling=null,l=st.current,ne(st,g?l&1|2:l&1),Re&&qn(r,u.treeForkCount),n):(Ye(r),null);case 22:case 23:return Xt(r),Vu(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(Ye(r),r.subtreeFlags&6&&(r.flags|=8192)):Ye(r),l=r.updateQueue,l!==null&&gl(r,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),n!==null&&K(rs),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Vn(ot),Ye(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IS(n,r){switch(Ru(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Vn(ot),Ve(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return et(r),null;case 31:if(r.memoizedState!==null){if(Xt(r),r.alternate===null)throw Error(s(340));is()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Xt(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));is()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return K(st),null;case 4:return Ve(),null;case 10:return Vn(r.type),null;case 22:case 23:return Xt(r),Vu(),n!==null&&K(rs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Vn(ot),null;case 25:return null;default:return null}}function ym(n,r){switch(Ru(r),r.tag){case 3:Vn(ot),Ve();break;case 26:case 27:case 5:et(r);break;case 4:Ve();break;case 31:r.memoizedState!==null&&Xt(r);break;case 13:Xt(r);break;case 19:K(st);break;case 10:Vn(r.type);break;case 22:case 23:Xt(r),Vu(),n!==null&&K(rs);break;case 24:Vn(ot)}}function xr(n,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var m=l.create,x=l.inst;u=m(),x.destroy=u}l=l.next}while(l!==g)}}catch(E){Be(r,r.return,E)}}function ji(n,r,l){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var m=g.next;u=m;do{if((u.tag&n)===n){var x=u.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,g=r;var O=l,F=E;try{F()}catch(Y){Be(g,O,Y)}}}u=u.next}while(u!==m)}}catch(Y){Be(r,r.return,Y)}}function bm(n){var r=n.updateQueue;if(r!==null){var l=n.stateNode;try{lp(r,l)}catch(u){Be(n,n.return,u)}}}function vm(n,r,l){l.props=hs(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Be(n,r,u)}}function Sr(n,r){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Be(n,r,g)}}function On(n,r){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Be(n,r,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Be(n,r,g)}else l.current=null}function _m(n){var r=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Be(n,n.return,g)}}function wh(n,r,l){try{var u=n.stateNode;uw(u,n.type,l,r),u[Dt]=r}catch(g){Be(n,n.return,g)}}function xm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ni(n.type)||n.tag===4}function Th(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||xm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ni(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Eh(n,r,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(n),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Hn));else if(u!==4&&(u===27&&Ni(n.type)&&(l=n.stateNode,r=null),n=n.child,n!==null))for(Eh(n,r,l),n=n.sibling;n!==null;)Eh(n,r,l),n=n.sibling}function pl(n,r,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(u!==4&&(u===27&&Ni(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(pl(n,r,l),n=n.sibling;n!==null;)pl(n,r,l),n=n.sibling}function Sm(n){var r=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);wt(r,u,l),r[vt]=n,r[Dt]=l}catch(m){Be(n,n.return,m)}}var Xn=!1,ut=!1,Ch=!1,wm=typeof WeakSet=="function"?WeakSet:Set,yt=null;function qS(n,r){if(n=n.containerInfo,Wh=Ll,n=Pg(n),vu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var x=0,E=-1,O=-1,F=0,Y=0,J=n,I=null;t:for(;;){for(var $;J!==l||g!==0&&J.nodeType!==3||(E=x+g),J!==m||u!==0&&J.nodeType!==3||(O=x+u),J.nodeType===3&&(x+=J.nodeValue.length),($=J.firstChild)!==null;)I=J,J=$;for(;;){if(J===n)break t;if(I===l&&++F===g&&(E=x),I===m&&++Y===u&&(O=x),($=J.nextSibling)!==null)break;J=I,I=J.parentNode}J=$}l=E===-1||O===-1?null:{start:E,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yh={focusedElem:n,selectionRange:l},Ll=!1,yt=r;yt!==null;)if(r=yt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,yt=n;else for(;yt!==null;){switch(r=yt,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,l=r,g=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var ce=hs(l.type,g);n=u.getSnapshotBeforeUpdate(ce,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Be(l,l.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,l=n.nodeType,l===9)Qh(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Qh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,yt=n;break}yt=r.return}}function Tm(n,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Jn(n,l),u&4&&xr(5,l);break;case 1:if(Jn(n,l),u&4)if(n=l.stateNode,r===null)try{n.componentDidMount()}catch(x){Be(l,l.return,x)}else{var g=hs(l.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(g,r,n.__reactInternalSnapshotBeforeUpdate)}catch(x){Be(l,l.return,x)}}u&64&&bm(l),u&512&&Sr(l,l.return);break;case 3:if(Jn(n,l),u&64&&(n=l.updateQueue,n!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{lp(n,r)}catch(x){Be(l,l.return,x)}}break;case 27:r===null&&u&4&&Sm(l);case 26:case 5:Jn(n,l),r===null&&u&4&&_m(l),u&512&&Sr(l,l.return);break;case 12:Jn(n,l);break;case 31:Jn(n,l),u&4&&jm(n,l);break;case 13:Jn(n,l),u&4&&Am(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=JS.bind(null,l),bw(n,l))));break;case 22:if(u=l.memoizedState!==null||Xn,!u){r=r!==null&&r.memoizedState!==null||ut,g=Xn;var m=ut;Xn=u,(ut=r)&&!m?Zn(n,l,(l.subtreeFlags&8772)!==0):Jn(n,l),Xn=g,ut=m}break;case 30:break;default:Jn(n,l)}}function Em(n){var r=n.alternate;r!==null&&(n.alternate=null,Em(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&nu(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Xe=null,Pt=!1;function Qn(n,r,l){for(l=l.child;l!==null;)Cm(n,r,l),l=l.sibling}function Cm(n,r,l){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ga,l)}catch{}switch(l.tag){case 26:ut||On(l,r),Qn(n,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||On(l,r);var u=Xe,g=Pt;Ni(l.type)&&(Xe=l.stateNode,Pt=!1),Qn(n,r,l),Mr(l.stateNode),Xe=u,Pt=g;break;case 5:ut||On(l,r);case 6:if(u=Xe,g=Pt,Xe=null,Qn(n,r,l),Xe=u,Pt=g,Xe!==null)if(Pt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(l.stateNode)}catch(m){Be(l,r,m)}else try{Xe.removeChild(l.stateNode)}catch(m){Be(l,r,m)}break;case 18:Xe!==null&&(Pt?(n=Xe,by(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),ya(n)):by(Xe,l.stateNode));break;case 4:u=Xe,g=Pt,Xe=l.stateNode.containerInfo,Pt=!0,Qn(n,r,l),Xe=u,Pt=g;break;case 0:case 11:case 14:case 15:ji(2,l,r),ut||ji(4,l,r),Qn(n,r,l);break;case 1:ut||(On(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&vm(l,r,u)),Qn(n,r,l);break;case 21:Qn(n,r,l);break;case 22:ut=(u=ut)||l.memoizedState!==null,Qn(n,r,l),ut=u;break;default:Qn(n,r,l)}}function jm(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ya(n)}catch(l){Be(r,r.return,l)}}}function Am(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ya(n)}catch(l){Be(r,r.return,l)}}function $S(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new wm),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new wm),r;default:throw Error(s(435,n.tag))}}function ml(n,r){var l=$S(n);r.forEach(function(u){if(!l.has(u)){l.add(u);var g=ZS.bind(null,n,u);u.then(g,g)}})}function Lt(n,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],m=n,x=r,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(Ni(E.type)){Xe=E.stateNode,Pt=!1;break e}break;case 5:Xe=E.stateNode,Pt=!1;break e;case 3:case 4:Xe=E.stateNode.containerInfo,Pt=!0;break e}E=E.return}if(Xe===null)throw Error(s(160));Cm(m,x,g),Xe=null,Pt=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Om(r,n),r=r.sibling}var bn=null;function Om(n,r){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(r,n),zt(n),u&4&&(ji(3,n,n.return),xr(3,n),ji(5,n,n.return));break;case 1:Lt(r,n),zt(n),u&512&&(ut||l===null||On(l,l.return)),u&64&&Xn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=bn;if(Lt(r,n),zt(n),u&512&&(ut||l===null||On(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":m=g.getElementsByTagName("title")[0],(!m||m[Ka]||m[vt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(u),g.head.insertBefore(m,g.querySelector("head > title"))),wt(m,u,l),m[vt]=n,mt(m),u=m;break e;case"link":var x=Oy("link","href",g).get(u+(l.href||""));if(x){for(var E=0;E<x.length;E++)if(m=x[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(E,1);break t}}m=g.createElement(u),wt(m,u,l),g.head.appendChild(m);break;case"meta":if(x=Oy("meta","content",g).get(u+(l.content||""))){for(E=0;E<x.length;E++)if(m=x[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(E,1);break t}}m=g.createElement(u),wt(m,u,l),g.head.appendChild(m);break;default:throw Error(s(468,u))}m[vt]=n,mt(m),u=m}n.stateNode=u}else Ry(g,n.type,n.stateNode);else n.stateNode=Ay(g,u,n.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?Ry(g,n.type,n.stateNode):Ay(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&wh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Lt(r,n),zt(n),u&512&&(ut||l===null||On(l,l.return)),l!==null&&u&4&&wh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Lt(r,n),zt(n),u&512&&(ut||l===null||On(l,l.return)),n.flags&32){g=n.stateNode;try{Hs(g,"")}catch(ce){Be(n,n.return,ce)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,wh(n,g,l!==null?l.memoizedProps:g)),u&1024&&(Ch=!0);break;case 6:if(Lt(r,n),zt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(ce){Be(n,n.return,ce)}}break;case 3:if(kl=null,g=bn,bn=Rl(r.containerInfo),Lt(r,n),bn=g,zt(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{ya(r.containerInfo)}catch(ce){Be(n,n.return,ce)}Ch&&(Ch=!1,Rm(n));break;case 4:u=bn,bn=Rl(n.stateNode.containerInfo),Lt(r,n),zt(n),bn=u;break;case 12:Lt(r,n),zt(n);break;case 31:Lt(r,n),zt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ml(n,u)));break;case 13:Lt(r,n),zt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bl=Mt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ml(n,u)));break;case 22:g=n.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,F=Xn,Y=ut;if(Xn=F||g,ut=Y||O,Lt(r,n),ut=Y,Xn=F,zt(n),u&8192)e:for(r=n.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||O||Xn||ut||ds(n)),l=null,r=n;;){if(r.tag===5||r.tag===26){if(l===null){O=l=r;try{if(m=O.stateNode,g)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=O.stateNode;var J=O.memoizedProps.style,I=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(ce){Be(O,O.return,ce)}}}else if(r.tag===6){if(l===null){O=r;try{O.stateNode.nodeValue=g?"":O.memoizedProps}catch(ce){Be(O,O.return,ce)}}}else if(r.tag===18){if(l===null){O=r;try{var $=O.stateNode;g?vy($,!0):vy(O.stateNode,!1)}catch(ce){Be(O,O.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ml(n,l))));break;case 19:Lt(r,n),zt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ml(n,u)));break;case 30:break;case 21:break;default:Lt(r,n),zt(n)}}function zt(n){var r=n.flags;if(r&2){try{for(var l,u=n.return;u!==null;){if(xm(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,m=Th(n);pl(n,m,g);break;case 5:var x=l.stateNode;l.flags&32&&(Hs(x,""),l.flags&=-33);var E=Th(n);pl(n,E,x);break;case 3:case 4:var O=l.stateNode.containerInfo,F=Th(n);Eh(n,F,O);break;default:throw Error(s(161))}}catch(Y){Be(n,n.return,Y)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Rm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Rm(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Jn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Tm(n,r.alternate,r),r=r.sibling}function ds(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ji(4,r,r.return),ds(r);break;case 1:On(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&vm(r,r.return,l),ds(r);break;case 27:Mr(r.stateNode);case 26:case 5:On(r,r.return),ds(r);break;case 22:r.memoizedState===null&&ds(r);break;case 30:ds(r);break;default:ds(r)}n=n.sibling}}function Zn(n,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=n,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:Zn(g,m,l),xr(4,m);break;case 1:if(Zn(g,m,l),u=m,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(F){Be(u,u.return,F)}if(u=m,g=u.updateQueue,g!==null){var E=u.stateNode;try{var O=g.shared.hiddenCallbacks;if(O!==null)for(g.shared.hiddenCallbacks=null,g=0;g<O.length;g++)op(O[g],E)}catch(F){Be(u,u.return,F)}}l&&x&64&&bm(m),Sr(m,m.return);break;case 27:Sm(m);case 26:case 5:Zn(g,m,l),l&&u===null&&x&4&&_m(m),Sr(m,m.return);break;case 12:Zn(g,m,l);break;case 31:Zn(g,m,l),l&&x&4&&jm(g,m);break;case 13:Zn(g,m,l),l&&x&4&&Am(g,m);break;case 22:m.memoizedState===null&&Zn(g,m,l),Sr(m,m.return);break;case 30:break;default:Zn(g,m,l)}r=r.sibling}}function jh(n,r){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&lr(l))}function Ah(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&lr(n))}function vn(n,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mm(n,r,l,u),r=r.sibling}function Mm(n,r,l,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:vn(n,r,l,u),g&2048&&xr(9,r);break;case 1:vn(n,r,l,u);break;case 3:vn(n,r,l,u),g&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&lr(n)));break;case 12:if(g&2048){vn(n,r,l,u),n=r.stateNode;try{var m=r.memoizedProps,x=m.id,E=m.onPostCommit;typeof E=="function"&&E(x,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Be(r,r.return,O)}}else vn(n,r,l,u);break;case 31:vn(n,r,l,u);break;case 13:vn(n,r,l,u);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?vn(n,r,l,u):wr(n,r):m._visibility&2?vn(n,r,l,u):(m._visibility|=2,ra(n,r,l,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&jh(x,r);break;case 24:vn(n,r,l,u),g&2048&&Ah(r.alternate,r);break;default:vn(n,r,l,u)}}function ra(n,r,l,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,x=r,E=l,O=u,F=x.flags;switch(x.tag){case 0:case 11:case 15:ra(m,x,E,O,g),xr(8,x);break;case 23:break;case 22:var Y=x.stateNode;x.memoizedState!==null?Y._visibility&2?ra(m,x,E,O,g):wr(m,x):(Y._visibility|=2,ra(m,x,E,O,g)),g&&F&2048&&jh(x.alternate,x);break;case 24:ra(m,x,E,O,g),g&&F&2048&&Ah(x.alternate,x);break;default:ra(m,x,E,O,g)}r=r.sibling}}function wr(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=n,u=r,g=u.flags;switch(u.tag){case 22:wr(l,u),g&2048&&jh(u.alternate,u);break;case 24:wr(l,u),g&2048&&Ah(u.alternate,u);break;default:wr(l,u)}r=r.sibling}}var Tr=8192;function oa(n,r,l){if(n.subtreeFlags&Tr)for(n=n.child;n!==null;)km(n,r,l),n=n.sibling}function km(n,r,l){switch(n.tag){case 26:oa(n,r,l),n.flags&Tr&&n.memoizedState!==null&&Rw(l,bn,n.memoizedState,n.memoizedProps);break;case 5:oa(n,r,l);break;case 3:case 4:var u=bn;bn=Rl(n.stateNode.containerInfo),oa(n,r,l),bn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Tr,Tr=16777216,oa(n,r,l),Tr=u):oa(n,r,l));break;default:oa(n,r,l)}}function Dm(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Er(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];yt=u,Pm(u,n)}Dm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Nm(n),n=n.sibling}function Nm(n){switch(n.tag){case 0:case 11:case 15:Er(n),n.flags&2048&&ji(9,n,n.return);break;case 3:Er(n);break;case 12:Er(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,yl(n)):Er(n);break;default:Er(n)}}function yl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];yt=u,Pm(u,n)}Dm(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ji(8,r,r.return),yl(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,yl(r));break;default:yl(r)}n=n.sibling}}function Pm(n,r){for(;yt!==null;){var l=yt;switch(l.tag){case 0:case 11:case 15:ji(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lr(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,yt=u;else e:for(l=n;yt!==null;){u=yt;var g=u.sibling,m=u.return;if(Em(u),u===l){yt=null;break e}if(g!==null){g.return=m,yt=g;break e}yt=m}}}var VS={getCacheForType:function(n){var r=xt(ot),l=r.data.get(n);return l===void 0&&(l=n(),r.data.set(n,l)),l},cacheSignal:function(){return xt(ot).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Pe=0,$e=null,Ee=null,je=0,ze=0,Qt=null,Ai=!1,la=!1,Oh=!1,ei=0,nt=0,Oi=0,fs=0,Rh=0,Jt=0,ca=0,Cr=null,Bt=null,Mh=!1,bl=0,Lm=0,vl=1/0,_l=null,Ri=null,ft=0,Mi=null,ua=null,ti=0,kh=0,Dh=null,zm=null,jr=0,Nh=null;function Zt(){return(Pe&2)!==0&&je!==0?je&-je:U.T!==null?Hh():Zf()}function Bm(){if(Jt===0)if((je&536870912)===0||Re){var n=Ao;Ao<<=1,(Ao&3932160)===0&&(Ao=262144),Jt=n}else Jt=536870912;return n=Kt.current,n!==null&&(n.flags|=32),Jt}function Ut(n,r,l){(n===$e&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(ha(n,0),ki(n,je,Jt,!1)),Ya(n,l),((Pe&2)===0||n!==$e)&&(n===$e&&((Pe&2)===0&&(fs|=l),nt===4&&ki(n,je,Jt,!1)),Rn(n))}function Um(n,r,l){if((Pe&6)!==0)throw Error(s(327));var u=!l&&(r&127)===0&&(r&n.expiredLanes)===0||Wa(n,r),g=u?KS(n,r):Lh(n,r,!0),m=u;do{if(g===0){la&&!u&&ki(n,r,0,!1);break}else{if(l=n.current.alternate,m&&!WS(l)){g=Lh(n,r,!1),m=!1;continue}if(g===2){if(m=r,n.errorRecoveryDisabledLanes&m)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var E=n;g=Cr;var O=E.current.memoizedState.isDehydrated;if(O&&(ha(E,x).flags|=256),x=Lh(E,x,!1),x!==2){if(Oh&&!O){E.errorRecoveryDisabledLanes|=m,fs|=m,g=4;break e}m=Bt,Bt=g,m!==null&&(Bt===null?Bt=m:Bt.push.apply(Bt,m))}g=x}if(m=!1,g!==2)continue}}if(g===1){ha(n,0),ki(n,r,0,!0);break}e:{switch(u=n,m=g,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ki(u,r,Jt,!Ai);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(g=bl+300-Mt(),10<g)){if(ki(u,r,Jt,!Ai),Ro(u,0,!0)!==0)break e;ti=r,u.timeoutHandle=my(Hm.bind(null,u,l,Bt,_l,Mh,r,Jt,fs,ca,Ai,m,"Throttled",-0,0),g);break e}Hm(u,l,Bt,_l,Mh,r,Jt,fs,ca,Ai,m,null,-0,0)}}break}while(!0);Rn(n)}function Hm(n,r,l,u,g,m,x,E,O,F,Y,J,I,$){if(n.timeoutHandle=-1,J=r.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},km(r,m,J);var ce=(m&62914560)===m?bl-Mt():(m&4194048)===m?Lm-Mt():0;if(ce=Mw(J,ce),ce!==null){ti=m,n.cancelPendingCommit=ce(Ym.bind(null,n,r,m,l,u,g,x,E,O,Y,J,null,I,$)),ki(n,m,x,!F);return}}Ym(n,r,m,l,u,g,x,E,O)}function WS(n){for(var r=n;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],m=g.getSnapshot;g=g.value;try{if(!Wt(m(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ki(n,r,l,u){r&=~Rh,r&=~fs,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var g=r;0<g;){var m=31-Gt(g),x=1<<m;u[m]=-1,g&=~x}l!==0&&Xf(n,l,r)}function xl(){return(Pe&6)===0?(Ar(0),!1):!0}function Ph(){if(Ee!==null){if(ze===0)var n=Ee.return;else n=Ee,$n=ss=null,Qu(n),ta=null,ur=0,n=Ee;for(;n!==null;)ym(n.alternate,n),n=n.return;Ee=null}}function ha(n,r){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,fw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ti=0,Ph(),$e=n,Ee=l=In(n.current,null),je=r,ze=0,Qt=null,Ai=!1,la=Wa(n,r),Oh=!1,ca=Jt=Rh=fs=Oi=nt=0,Bt=Cr=null,Mh=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var g=31-Gt(u),m=1<<g;r|=n[g],u&=~m}return ei=r,Io(),l}function Fm(n,r){xe=null,U.H=br,r===ea||r===Xo?(r=ip(),ze=3):r===Uu?(r=ip(),ze=4):ze=r===fh?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Qt=r,Ee===null&&(nt=1,ul(n,an(r,n.current)))}function Im(){var n=Kt.current;return n===null?!0:(je&4194048)===je?cn===null:(je&62914560)===je||(je&536870912)!==0?n===cn:!1}function qm(){var n=U.H;return U.H=br,n===null?br:n}function $m(){var n=U.A;return U.A=VS,n}function Sl(){nt=4,Ai||(je&4194048)!==je&&Kt.current!==null||(la=!0),(Oi&134217727)===0&&(fs&134217727)===0||$e===null||ki($e,je,Jt,!1)}function Lh(n,r,l){var u=Pe;Pe|=2;var g=qm(),m=$m();($e!==n||je!==r)&&(_l=null,ha(n,r)),r=!1;var x=nt;e:do try{if(ze!==0&&Ee!==null){var E=Ee,O=Qt;switch(ze){case 8:Ph(),x=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(r=!0);var F=ze;if(ze=0,Qt=null,da(n,E,O,F),l&&la){x=0;break e}break;default:F=ze,ze=0,Qt=null,da(n,E,O,F)}}YS(),x=nt;break}catch(Y){Fm(n,Y)}while(!0);return r&&n.shellSuspendCounter++,$n=ss=null,Pe=u,U.H=g,U.A=m,Ee===null&&($e=null,je=0,Io()),x}function YS(){for(;Ee!==null;)Vm(Ee)}function KS(n,r){var l=Pe;Pe|=2;var u=qm(),g=$m();$e!==n||je!==r?(_l=null,vl=Mt()+500,ha(n,r)):la=Wa(n,r);e:do try{if(ze!==0&&Ee!==null){r=Ee;var m=Qt;t:switch(ze){case 1:ze=0,Qt=null,da(n,r,m,1);break;case 2:case 9:if(tp(m)){ze=0,Qt=null,Gm(r);break}r=function(){ze!==2&&ze!==9||$e!==n||(ze=7),Rn(n)},m.then(r,r);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:tp(m)?(ze=0,Qt=null,Gm(r)):(ze=0,Qt=null,da(n,r,m,7));break;case 5:var x=null;switch(Ee.tag){case 26:x=Ee.memoizedState;case 5:case 27:var E=Ee;if(x?My(x):E.stateNode.complete){ze=0,Qt=null;var O=E.sibling;if(O!==null)Ee=O;else{var F=E.return;F!==null?(Ee=F,wl(F)):Ee=null}break t}}ze=0,Qt=null,da(n,r,m,5);break;case 6:ze=0,Qt=null,da(n,r,m,6);break;case 8:Ph(),nt=6;break e;default:throw Error(s(462))}}XS();break}catch(Y){Fm(n,Y)}while(!0);return $n=ss=null,U.H=u,U.A=g,Pe=l,Ee!==null?0:($e=null,je=0,Io(),nt)}function XS(){for(;Ee!==null&&!Kc();)Vm(Ee)}function Vm(n){var r=pm(n.alternate,n,ei);n.memoizedProps=n.pendingProps,r===null?wl(n):Ee=r}function Gm(n){var r=n,l=r.alternate;switch(r.tag){case 15:case 0:r=cm(l,r,r.pendingProps,r.type,void 0,je);break;case 11:r=cm(l,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Qu(r);default:ym(l,r),r=Ee=$g(r,ei),r=pm(l,r,ei)}n.memoizedProps=n.pendingProps,r===null?wl(n):Ee=r}function da(n,r,l,u){$n=ss=null,Qu(r),ta=null,ur=0;var g=r.return;try{if(BS(n,g,r,l,je)){nt=1,ul(n,an(l,n.current)),Ee=null;return}}catch(m){if(g!==null)throw Ee=g,m;nt=1,ul(n,an(l,n.current)),Ee=null;return}r.flags&32768?(Re||u===1?n=!0:la||(je&536870912)!==0?n=!1:(Ai=n=!0,(u===2||u===9||u===3||u===6)&&(u=Kt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Wm(r,n)):wl(r)}function wl(n){var r=n;do{if((r.flags&32768)!==0){Wm(r,Ai);return}n=r.return;var l=FS(r.alternate,r,ei);if(l!==null){Ee=l;return}if(r=r.sibling,r!==null){Ee=r;return}Ee=r=n}while(r!==null);nt===0&&(nt=5)}function Wm(n,r){do{var l=IS(n.alternate,n);if(l!==null){l.flags&=32767,Ee=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=l}while(n!==null);nt=6,Ee=null}function Ym(n,r,l,u,g,m,x,E,O){n.cancelPendingCommit=null;do Tl();while(ft!==0);if((Pe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Tu,Ox(n,l,m,x,E,O),n===$e&&(Ee=$e=null,je=0),ua=r,Mi=n,ti=l,kh=m,Dh=g,zm=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,ew(_e,function(){return Zm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=U.T,U.T=null,g=Z.p,Z.p=2,x=Pe,Pe|=4;try{qS(n,r,l)}finally{Pe=x,Z.p=g,U.T=u}}ft=1,Km(),Xm(),Qm()}}function Km(){if(ft===1){ft=0;var n=Mi,r=ua,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null;var u=Z.p;Z.p=2;var g=Pe;Pe|=4;try{Om(r,n);var m=Yh,x=Pg(n.containerInfo),E=m.focusedElem,O=m.selectionRange;if(x!==E&&E&&E.ownerDocument&&Ng(E.ownerDocument.documentElement,E)){if(O!==null&&vu(E)){var F=O.start,Y=O.end;if(Y===void 0&&(Y=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,I=J&&J.defaultView||window;if(I.getSelection){var $=I.getSelection(),ce=E.textContent.length,ye=Math.min(O.start,ce),qe=O.end===void 0?ye:Math.min(O.end,ce);!$.extend&&ye>qe&&(x=qe,qe=ye,ye=x);var P=Dg(E,ye),M=Dg(E,qe);if(P&&M&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var H=J.createRange();H.setStart(P.node,P.offset),$.removeAllRanges(),ye>qe?($.addRange(H),$.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),$.addRange(H))}}}}for(J=[],$=E;$=$.parentNode;)$.nodeType===1&&J.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ll=!!Wh,Yh=Wh=null}finally{Pe=g,Z.p=u,U.T=l}}n.current=r,ft=2}}function Xm(){if(ft===2){ft=0;var n=Mi,r=ua,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=U.T,U.T=null;var u=Z.p;Z.p=2;var g=Pe;Pe|=4;try{Tm(n,r.alternate,r)}finally{Pe=g,Z.p=u,U.T=l}}ft=3}}function Qm(){if(ft===4||ft===3){ft=0,Xc();var n=Mi,r=ua,l=ti,u=zm;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?ft=5:(ft=0,ua=Mi=null,Jm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ri=null),eu(l),r=r.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ga,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=U.T,g=Z.p,Z.p=2,U.T=null;try{for(var m=n.onRecoverableError,x=0;x<u.length;x++){var E=u[x];m(E.value,{componentStack:E.stack})}}finally{U.T=r,Z.p=g}}(ti&3)!==0&&Tl(),Rn(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===Nh?jr++:(jr=0,Nh=n):jr=0,Ar(0)}}function Jm(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,lr(r)))}function Tl(){return Km(),Xm(),Qm(),Zm()}function Zm(){if(ft!==5)return!1;var n=Mi,r=kh;kh=0;var l=eu(ti),u=U.T,g=Z.p;try{Z.p=32>l?32:l,U.T=null,l=Dh,Dh=null;var m=Mi,x=ti;if(ft=0,ua=Mi=null,ti=0,(Pe&6)!==0)throw Error(s(331));var E=Pe;if(Pe|=4,Nm(m.current),Mm(m,m.current,x,l),Pe=E,Ar(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ga,m)}catch{}return!0}finally{Z.p=g,U.T=u,Jm(n,r)}}function ey(n,r,l){r=an(l,r),r=dh(n.stateNode,r,2),n=Ti(n,r,2),n!==null&&(Ya(n,2),Rn(n))}function Be(n,r,l){if(n.tag===3)ey(n,n,l);else for(;r!==null;){if(r.tag===3){ey(r,n,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ri===null||!Ri.has(u))){n=an(l,n),l=tm(2),u=Ti(r,l,2),u!==null&&(nm(l,u,r,n),Ya(u,2),Rn(u));break}}r=r.return}}function zh(n,r,l){var u=n.pingCache;if(u===null){u=n.pingCache=new GS;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(l)||(Oh=!0,g.add(l),n=QS.bind(null,n,r,l),r.then(n,n))}function QS(n,r,l){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,$e===n&&(je&l)===l&&(nt===4||nt===3&&(je&62914560)===je&&300>Mt()-bl?(Pe&2)===0&&ha(n,0):Rh|=l,ca===je&&(ca=0)),Rn(n)}function ty(n,r){r===0&&(r=Kf()),n=ts(n,r),n!==null&&(Ya(n,r),Rn(n))}function JS(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),ty(n,l)}function ZS(n,r){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),ty(n,l)}function ew(n,r){return qa(n,r)}var El=null,fa=null,Bh=!1,Cl=!1,Uh=!1,Di=0;function Rn(n){n!==fa&&n.next===null&&(fa===null?El=fa=n:fa=fa.next=n),Cl=!0,Bh||(Bh=!0,nw())}function Ar(n,r){if(!Uh&&Cl){Uh=!0;do for(var l=!1,u=El;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var m=0;else{var x=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-Gt(42|n)+1)-1,m&=g&~(x&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,ay(u,m))}else m=je,m=Ro(u,u===$e?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Wa(u,m)||(l=!0,ay(u,m));u=u.next}while(l);Uh=!1}}function tw(){ny()}function ny(){Cl=Bh=!1;var n=0;Di!==0&&dw()&&(n=Di);for(var r=Mt(),l=null,u=El;u!==null;){var g=u.next,m=iy(u,r);m===0?(u.next=null,l===null?El=g:l.next=g,g===null&&(fa=l)):(l=u,(n!==0||(m&3)!==0)&&(Cl=!0)),u=g}ft!==0&&ft!==5||Ar(n),Di!==0&&(Di=0)}function iy(n,r){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var x=31-Gt(m),E=1<<x,O=g[x];O===-1?((E&l)===0||(E&u)!==0)&&(g[x]=Ax(E,r)):O<=r&&(n.expiredLanes|=E),m&=~E}if(r=$e,l=je,l=Ro(n,n===r?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===r&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&$a(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Wa(n,l)){if(r=l&-l,r===n.callbackPriority)return r;switch(u!==null&&$a(u),eu(l)){case 2:case 8:l=oe;break;case 32:l=_e;break;case 268435456:l=gi;break;default:l=_e}return u=sy.bind(null,n),l=qa(l,u),n.callbackPriority=r,n.callbackNode=l,r}return u!==null&&u!==null&&$a(u),n.callbackPriority=2,n.callbackNode=null,2}function sy(n,r){if(ft!==0&&ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(Tl()&&n.callbackNode!==l)return null;var u=je;return u=Ro(n,n===$e?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Um(n,u,r),iy(n,Mt()),n.callbackNode!=null&&n.callbackNode===l?sy.bind(null,n):null)}function ay(n,r){if(Tl())return null;Um(n,r,!0)}function nw(){gw(function(){(Pe&6)!==0?qa(Q,tw):ny()})}function Hh(){if(Di===0){var n=Js;n===0&&(n=jo,jo<<=1,(jo&261888)===0&&(jo=256)),Di=n}return Di}function ry(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:No(""+n)}function oy(n,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,n.id&&l.setAttribute("form",n.id),r.parentNode.insertBefore(l,r),n=new FormData(n),l.parentNode.removeChild(l),n}function iw(n,r,l,u,g){if(r==="submit"&&l&&l.stateNode===g){var m=ry((g[Dt]||null).action),x=u.submitter;x&&(r=(r=x[Dt]||null)?ry(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var E=new Bo("action","action",null,u,g);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Di!==0){var O=x?oy(g,x):new FormData(g);rh(l,{pending:!0,data:O,method:g.method,action:m},null,O)}}else typeof m=="function"&&(E.preventDefault(),O=x?oy(g,x):new FormData(g),rh(l,{pending:!0,data:O,method:g.method,action:m},m,O))},currentTarget:g}]})}}for(var Fh=0;Fh<wu.length;Fh++){var Ih=wu[Fh],sw=Ih.toLowerCase(),aw=Ih[0].toUpperCase()+Ih.slice(1);yn(sw,"on"+aw)}yn(Bg,"onAnimationEnd"),yn(Ug,"onAnimationIteration"),yn(Hg,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(xS,"onTransitionRun"),yn(SS,"onTransitionStart"),yn(wS,"onTransitionCancel"),yn(Fg,"onTransitionEnd"),Bs("onMouseEnter",["mouseout","mouseover"]),Bs("onMouseLeave",["mouseout","mouseover"]),Bs("onPointerEnter",["pointerout","pointerover"]),Bs("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function ly(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var x=u.length-1;0<=x;x--){var E=u[x],O=E.instance,F=E.currentTarget;if(E=E.listener,O!==m&&g.isPropagationStopped())break e;m=E,g.currentTarget=F;try{m(g)}catch(Y){Fo(Y)}g.currentTarget=null,m=O}else for(x=0;x<u.length;x++){if(E=u[x],O=E.instance,F=E.currentTarget,E=E.listener,O!==m&&g.isPropagationStopped())break e;m=E,g.currentTarget=F;try{m(g)}catch(Y){Fo(Y)}g.currentTarget=null,m=O}}}}function Ce(n,r){var l=r[tu];l===void 0&&(l=r[tu]=new Set);var u=n+"__bubble";l.has(u)||(cy(r,n,2,!1),l.add(u))}function qh(n,r,l){var u=0;r&&(u|=4),cy(l,n,u,r)}var jl="_reactListening"+Math.random().toString(36).slice(2);function $h(n){if(!n[jl]){n[jl]=!0,ng.forEach(function(l){l!=="selectionchange"&&(rw.has(l)||qh(l,!1,n),qh(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[jl]||(r[jl]=!0,qh("selectionchange",!1,r))}}function cy(n,r,l,u){switch(By(r)){case 2:var g=Nw;break;case 8:g=Pw;break;default:g=ad}l=g.bind(null,r,l,n),g=void 0,!uu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(r,l,{capture:!0,passive:g}):n.addEventListener(r,l,!0):g!==void 0?n.addEventListener(r,l,{passive:g}):n.addEventListener(r,l,!1)}function Vh(n,r,l,u,g){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var E=u.stateNode.containerInfo;if(E===g)break;if(x===4)for(x=u.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===g)return;x=x.return}for(;E!==null;){if(x=Ps(E),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){u=m=x;continue e}E=E.parentNode}}u=u.return}gg(function(){var F=m,Y=lu(l),J=[];e:{var I=Ig.get(n);if(I!==void 0){var $=Bo,ce=n;switch(n){case"keypress":if(Lo(l)===0)break e;case"keydown":case"keyup":$=Zx;break;case"focusin":ce="focus",$=gu;break;case"focusout":ce="blur",$=gu;break;case"beforeblur":case"afterblur":$=gu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Fx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=nS;break;case Bg:case Ug:case Hg:$=$x;break;case Fg:$=sS;break;case"scroll":case"scrollend":$=Ux;break;case"wheel":$=rS;break;case"copy":case"cut":case"paste":$=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=vg;break;case"toggle":case"beforetoggle":$=lS}var ye=(r&4)!==0,qe=!ye&&(n==="scroll"||n==="scrollend"),P=ye?I!==null?I+"Capture":null:I;ye=[];for(var M=F,H;M!==null;){var X=M;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||P===null||(X=Qa(M,P),X!=null&&ye.push(Rr(M,X,H))),qe)break;M=M.return}0<ye.length&&(I=new $(I,ce,null,l,Y),J.push({event:I,listeners:ye}))}}if((r&7)===0){e:{if(I=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",I&&l!==ou&&(ce=l.relatedTarget||l.fromElement)&&(Ps(ce)||ce[Ns]))break e;if(($||I)&&(I=Y.window===Y?Y:(I=Y.ownerDocument)?I.defaultView||I.parentWindow:window,$?(ce=l.relatedTarget||l.toElement,$=F,ce=ce?Ps(ce):null,ce!==null&&(qe=o(ce),ye=ce.tag,ce!==qe||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):($=null,ce=F),$!==ce)){if(ye=yg,X="onMouseLeave",P="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ye=vg,X="onPointerLeave",P="onPointerEnter",M="pointer"),qe=$==null?I:Xa($),H=ce==null?I:Xa(ce),I=new ye(X,M+"leave",$,l,Y),I.target=qe,I.relatedTarget=H,X=null,Ps(Y)===F&&(ye=new ye(P,M+"enter",ce,l,Y),ye.target=H,ye.relatedTarget=qe,X=ye),qe=X,$&&ce)t:{for(ye=ow,P=$,M=ce,H=0,X=P;X;X=ye(X))H++;X=0;for(var pe=M;pe;pe=ye(pe))X++;for(;0<H-X;)P=ye(P),H--;for(;0<X-H;)M=ye(M),X--;for(;H--;){if(P===M||M!==null&&P===M.alternate){ye=P;break t}P=ye(P),M=ye(M)}ye=null}else ye=null;$!==null&&uy(J,I,$,ye,!1),ce!==null&&qe!==null&&uy(J,qe,ce,ye,!0)}}e:{if(I=F?Xa(F):window,$=I.nodeName&&I.nodeName.toLowerCase(),$==="select"||$==="input"&&I.type==="file")var De=jg;else if(Eg(I))if(Ag)De=bS;else{De=mS;var he=pS}else $=I.nodeName,!$||$.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?F&&ru(F.elementType)&&(De=jg):De=yS;if(De&&(De=De(n,F))){Cg(J,De,l,Y);break e}he&&he(n,I,F),n==="focusout"&&F&&I.type==="number"&&F.memoizedProps.value!=null&&au(I,"number",I.value)}switch(he=F?Xa(F):window,n){case"focusin":(Eg(he)||he.contentEditable==="true")&&($s=he,_u=F,ar=null);break;case"focusout":ar=_u=$s=null;break;case"mousedown":xu=!0;break;case"contextmenu":case"mouseup":case"dragend":xu=!1,Lg(J,l,Y);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":Lg(J,l,Y)}var Se;if(mu)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qs?wg(n,l)&&(Ae="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(_g&&l.locale!=="ko"&&(qs||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qs&&(Se=pg()):(yi=Y,hu="value"in yi?yi.value:yi.textContent,qs=!0)),he=Al(F,Ae),0<he.length&&(Ae=new bg(Ae,n,null,l,Y),J.push({event:Ae,listeners:he}),Se?Ae.data=Se:(Se=Tg(l),Se!==null&&(Ae.data=Se)))),(Se=uS?hS(n,l):dS(n,l))&&(Ae=Al(F,"onBeforeInput"),0<Ae.length&&(he=new bg("onBeforeInput","beforeinput",null,l,Y),J.push({event:he,listeners:Ae}),he.data=Se)),iw(J,n,F,l,Y)}ly(J,r)})}function Rr(n,r,l){return{instance:n,listener:r,currentTarget:l}}function Al(n,r){for(var l=r+"Capture",u=[];n!==null;){var g=n,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=Qa(n,l),g!=null&&u.unshift(Rr(n,g,m)),g=Qa(n,r),g!=null&&u.push(Rr(n,g,m))),n.tag===3)return u;n=n.return}return[]}function ow(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function uy(n,r,l,u,g){for(var m=r._reactName,x=[];l!==null&&l!==u;){var E=l,O=E.alternate,F=E.stateNode;if(E=E.tag,O!==null&&O===u)break;E!==5&&E!==26&&E!==27||F===null||(O=F,g?(F=Qa(l,m),F!=null&&x.unshift(Rr(l,F,O))):g||(F=Qa(l,m),F!=null&&x.push(Rr(l,F,O)))),l=l.return}x.length!==0&&n.push({event:r,listeners:x})}var lw=/\r\n?/g,cw=/\u0000|\uFFFD/g;function hy(n){return(typeof n=="string"?n:""+n).replace(lw,`
`).replace(cw,"")}function dy(n,r){return r=hy(r),hy(n)===r}function Ie(n,r,l,u,g,m){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Hs(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Hs(n,""+u);break;case"className":ko(n,"class",u);break;case"tabIndex":ko(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ko(n,l,u);break;case"style":dg(n,u,m);break;case"data":if(r!=="object"){ko(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=No(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(r!=="input"&&Ie(n,r,"name",g.name,g,null),Ie(n,r,"formEncType",g.formEncType,g,null),Ie(n,r,"formMethod",g.formMethod,g,null),Ie(n,r,"formTarget",g.formTarget,g,null)):(Ie(n,r,"encType",g.encType,g,null),Ie(n,r,"method",g.method,g,null),Ie(n,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=No(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Hn);break;case"onScroll":u!=null&&Ce("scroll",n);break;case"onScrollEnd":u!=null&&Ce("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=No(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Ce("beforetoggle",n),Ce("toggle",n),Mo(n,"popover",u);break;case"xlinkActuate":Un(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Un(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Un(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Un(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Un(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Un(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Un(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Un(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Un(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Mo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zx.get(l)||l,Mo(n,l,u))}}function Gh(n,r,l,u,g,m){switch(l){case"style":dg(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Hs(n,u):(typeof u=="number"||typeof u=="bigint")&&Hs(n,""+u);break;case"onScroll":u!=null&&Ce("scroll",n);break;case"onScrollEnd":u!=null&&Ce("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ig.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),m=n[Dt]||null,m=m!=null?m[l]:null,typeof m=="function"&&n.removeEventListener(r,m,g),typeof u=="function")){typeof m!="function"&&m!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(r,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Mo(n,l,u)}}}function wt(n,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",n),Ce("load",n);var u=!1,g=!1,m;for(m in l)if(l.hasOwnProperty(m)){var x=l[m];if(x!=null)switch(m){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(n,r,m,x,l,null)}}g&&Ie(n,r,"srcSet",l.srcSet,l,null),u&&Ie(n,r,"src",l.src,l,null);return;case"input":Ce("invalid",n);var E=m=x=g=null,O=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var Y=l[u];if(Y!=null)switch(u){case"name":g=Y;break;case"type":x=Y;break;case"checked":O=Y;break;case"defaultChecked":F=Y;break;case"value":m=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ie(n,r,u,Y,l,null)}}lg(n,m,E,O,F,x,g,!1);return;case"select":Ce("invalid",n),u=x=m=null;for(g in l)if(l.hasOwnProperty(g)&&(E=l[g],E!=null))switch(g){case"value":m=E;break;case"defaultValue":x=E;break;case"multiple":u=E;default:Ie(n,r,g,E,l,null)}r=m,l=x,n.multiple=!!u,r!=null?Us(n,!!u,r,!1):l!=null&&Us(n,!!u,l,!0);return;case"textarea":Ce("invalid",n),m=g=u=null;for(x in l)if(l.hasOwnProperty(x)&&(E=l[x],E!=null))switch(x){case"value":u=E;break;case"defaultValue":g=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ie(n,r,x,E,l,null)}ug(n,u,g,m);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(u=l[O],u!=null))switch(O){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ie(n,r,O,u,l,null)}return;case"dialog":Ce("beforetoggle",n),Ce("toggle",n),Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":Ce("load",n);break;case"video":case"audio":for(u=0;u<Or.length;u++)Ce(Or[u],n);break;case"image":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"embed":case"source":case"link":Ce("error",n),Ce("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ie(n,r,F,u,l,null)}return;default:if(ru(r)){for(Y in l)l.hasOwnProperty(Y)&&(u=l[Y],u!==void 0&&Gh(n,r,Y,u,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(u=l[E],u!=null&&Ie(n,r,E,u,l,null))}function uw(n,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,x=null,E=null,O=null,F=null,Y=null;for($ in l){var J=l[$];if(l.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":O=J;default:u.hasOwnProperty($)||Ie(n,r,$,null,u,J)}}for(var I in u){var $=u[I];if(J=l[I],u.hasOwnProperty(I)&&($!=null||J!=null))switch(I){case"type":m=$;break;case"name":g=$;break;case"checked":F=$;break;case"defaultChecked":Y=$;break;case"value":x=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==J&&Ie(n,r,I,$,u,J)}}su(n,x,E,O,F,Y,m,g);return;case"select":$=x=E=I=null;for(m in l)if(O=l[m],l.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":$=O;default:u.hasOwnProperty(m)||Ie(n,r,m,null,u,O)}for(g in u)if(m=u[g],O=l[g],u.hasOwnProperty(g)&&(m!=null||O!=null))switch(g){case"value":I=m;break;case"defaultValue":E=m;break;case"multiple":x=m;default:m!==O&&Ie(n,r,g,m,u,O)}r=E,l=x,u=$,I!=null?Us(n,!!l,I,!1):!!u!=!!l&&(r!=null?Us(n,!!l,r,!0):Us(n,!!l,l?[]:"",!1));return;case"textarea":$=I=null;for(E in l)if(g=l[E],l.hasOwnProperty(E)&&g!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ie(n,r,E,null,u,g)}for(x in u)if(g=u[x],m=l[x],u.hasOwnProperty(x)&&(g!=null||m!=null))switch(x){case"value":I=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==m&&Ie(n,r,x,g,u,m)}cg(n,I,$);return;case"option":for(var ce in l)if(I=l[ce],l.hasOwnProperty(ce)&&I!=null&&!u.hasOwnProperty(ce))switch(ce){case"selected":n.selected=!1;break;default:Ie(n,r,ce,null,u,I)}for(O in u)if(I=u[O],$=l[O],u.hasOwnProperty(O)&&I!==$&&(I!=null||$!=null))switch(O){case"selected":n.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Ie(n,r,O,I,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)I=l[ye],l.hasOwnProperty(ye)&&I!=null&&!u.hasOwnProperty(ye)&&Ie(n,r,ye,null,u,I);for(F in u)if(I=u[F],$=l[F],u.hasOwnProperty(F)&&I!==$&&(I!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,r));break;default:Ie(n,r,F,I,u,$)}return;default:if(ru(r)){for(var qe in l)I=l[qe],l.hasOwnProperty(qe)&&I!==void 0&&!u.hasOwnProperty(qe)&&Gh(n,r,qe,void 0,u,I);for(Y in u)I=u[Y],$=l[Y],!u.hasOwnProperty(Y)||I===$||I===void 0&&$===void 0||Gh(n,r,Y,I,u,$);return}}for(var P in l)I=l[P],l.hasOwnProperty(P)&&I!=null&&!u.hasOwnProperty(P)&&Ie(n,r,P,null,u,I);for(J in u)I=u[J],$=l[J],!u.hasOwnProperty(J)||I===$||I==null&&$==null||Ie(n,r,J,I,u,$)}function fy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hw(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],m=g.transferSize,x=g.initiatorType,E=g.duration;if(m&&E&&fy(x)){for(x=0,E=g.responseEnd,u+=1;u<l.length;u++){var O=l[u],F=O.startTime;if(F>E)break;var Y=O.transferSize,J=O.initiatorType;Y&&fy(J)&&(O=O.responseEnd,x+=Y*(O<E?1:(E-F)/(O-F)))}if(--u,r+=8*(m+x)/(g.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Wh=null,Yh=null;function Ol(n){return n.nodeType===9?n:n.ownerDocument}function gy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Kh(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xh=null;function dw(){var n=window.event;return n&&n.type==="popstate"?n===Xh?!1:(Xh=n,!0):(Xh=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(n){return yy.resolve(null).then(n).catch(pw)}:my;function pw(n){setTimeout(function(){throw n})}function Ni(n){return n==="head"}function by(n,r){var l=r,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),ya(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Mr(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Mr(l);for(var m=l.firstChild;m;){var x=m.nextSibling,E=m.nodeName;m[Ka]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=x}}else l==="body"&&Mr(n.ownerDocument.body);l=g}while(l);ya(r)}function vy(n,r){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Qh(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qh(l),nu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function mw(n,r,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ka])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=un(n.nextSibling),n===null)break}return null}function yw(n,r,l){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=un(n.nextSibling),n===null))return null;return n}function _y(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=un(n.nextSibling),n===null))return null;return n}function Jh(n){return n.data==="$?"||n.data==="$~"}function Zh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function bw(n,r){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function un(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var ed=null;function xy(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(r===0)return un(n.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}n=n.nextSibling}return null}function Sy(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return n;r--}else l!=="/$"&&l!=="/&"||r++}n=n.previousSibling}return null}function wy(n,r,l){switch(r=Ol(l),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Mr(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);nu(n)}var hn=new Map,Ty=new Set;function Rl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ni=Z.d;Z.d={f:vw,r:_w,D:xw,C:Sw,L:ww,m:Tw,X:Cw,S:Ew,M:jw};function vw(){var n=ni.f(),r=xl();return n||r}function _w(n){var r=Ls(n);r!==null&&r.tag===5&&r.type==="form"?Fp(r):ni.r(n)}var ga=typeof document>"u"?null:document;function Ey(n,r,l){var u=ga;if(u&&typeof r=="string"&&r){var g=nn(r);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Ty.has(g)||(Ty.add(g),n={rel:n,crossOrigin:l,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),wt(r,"link",n),mt(r),u.head.appendChild(r)))}}function xw(n){ni.D(n),Ey("dns-prefetch",n,null)}function Sw(n,r){ni.C(n,r),Ey("preconnect",n,r)}function ww(n,r,l){ni.L(n,r,l);var u=ga;if(u&&n&&r){var g='link[rel="preload"][as="'+nn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+nn(l.imageSizes)+'"]')):g+='[href="'+nn(n)+'"]';var m=g;switch(r){case"style":m=pa(n);break;case"script":m=ma(n)}hn.has(m)||(n=b({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:n,as:r},l),hn.set(m,n),u.querySelector(g)!==null||r==="style"&&u.querySelector(kr(m))||r==="script"&&u.querySelector(Dr(m))||(r=u.createElement("link"),wt(r,"link",n),mt(r),u.head.appendChild(r)))}}function Tw(n,r){ni.m(n,r);var l=ga;if(l&&n){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+nn(u)+'"][href="'+nn(n)+'"]',m=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ma(n)}if(!hn.has(m)&&(n=b({rel:"modulepreload",href:n},r),hn.set(m,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Dr(m)))return}u=l.createElement("link"),wt(u,"link",n),mt(u),l.head.appendChild(u)}}}function Ew(n,r,l){ni.S(n,r,l);var u=ga;if(u&&n){var g=zs(u).hoistableStyles,m=pa(n);r=r||"default";var x=g.get(m);if(!x){var E={loading:0,preload:null};if(x=u.querySelector(kr(m)))E.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},l),(l=hn.get(m))&&td(n,l);var O=x=u.createElement("link");mt(O),wt(O,"link",n),O._p=new Promise(function(F,Y){O.onload=F,O.onerror=Y}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ml(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:E},g.set(m,x)}}}function Cw(n,r){ni.X(n,r);var l=ga;if(l&&n){var u=zs(l).hoistableScripts,g=ma(n),m=u.get(g);m||(m=l.querySelector(Dr(g)),m||(n=b({src:n,async:!0},r),(r=hn.get(g))&&nd(n,r),m=l.createElement("script"),mt(m),wt(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function jw(n,r){ni.M(n,r);var l=ga;if(l&&n){var u=zs(l).hoistableScripts,g=ma(n),m=u.get(g);m||(m=l.querySelector(Dr(g)),m||(n=b({src:n,async:!0,type:"module"},r),(r=hn.get(g))&&nd(n,r),m=l.createElement("script"),mt(m),wt(m,"link",n),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(g,m))}}function Cy(n,r,l,u){var g=(g=ge.current)?Rl(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=pa(l.href),l=zs(g).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=pa(l.href);var m=zs(g).hoistableStyles,x=m.get(n);if(x||(g=g.ownerDocument||g,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,x),(m=g.querySelector(kr(n)))&&!m._p&&(x.instance=m,x.state.loading=5),hn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},hn.set(n,l),m||Aw(g,n,l,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ma(l),l=zs(g).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function pa(n){return'href="'+nn(n)+'"'}function kr(n){return'link[rel="stylesheet"]['+n+"]"}function jy(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function Aw(n,r,l,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),wt(r,"link",l),mt(r),n.head.appendChild(r))}function ma(n){return'[src="'+nn(n)+'"]'}function Dr(n){return"script[async]"+n}function Ay(n,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+nn(l.href)+'"]');if(u)return r.instance=u,mt(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),wt(u,"style",g),Ml(u,l.precedence,n),r.instance=u;case"stylesheet":g=pa(l.href);var m=n.querySelector(kr(g));if(m)return r.state.loading|=4,r.instance=m,mt(m),m;u=jy(l),(g=hn.get(g))&&td(u,g),m=(n.ownerDocument||n).createElement("link"),mt(m);var x=m;return x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),wt(m,"link",u),r.state.loading|=4,Ml(m,l.precedence,n),r.instance=m;case"script":return m=ma(l.src),(g=n.querySelector(Dr(m)))?(r.instance=g,mt(g),g):(u=l,(g=hn.get(m))&&(u=b({},l),nd(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),mt(g),wt(g,"link",u),n.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Ml(u,l.precedence,n));return r.instance}function Ml(n,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,m=g,x=0;x<u.length;x++){var E=u[x];if(E.dataset.precedence===r)m=E;else if(m!==g)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(n,r.firstChild))}function td(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function nd(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var kl=null;function Oy(n,r,l){if(kl===null){var u=new Map,g=kl=new Map;g.set(l,u)}else g=kl,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var m=l[g];if(!(m[Ka]||m[vt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=n+x;var E=u.get(x);E?E.push(m):u.set(x,[m])}}return u}function Ry(n,r,l){n=n.ownerDocument||n,n.head.insertBefore(l,r==="title"?n.querySelector("head > title"):null)}function Ow(n,r,l){if(l===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function My(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Rw(n,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=pa(u.href),m=r.querySelector(kr(g));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Dl.bind(n),r.then(n,n)),l.state.loading|=4,l.instance=m,mt(m);return}m=r.ownerDocument||r,u=jy(u),(g=hn.get(g))&&td(u,g),m=m.createElement("link"),mt(m);var x=m;x._p=new Promise(function(E,O){x.onload=E,x.onerror=O}),wt(m,"link",u),l.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=Dl.bind(n),r.addEventListener("load",l),r.addEventListener("error",l))}}var id=0;function Mw(n,r){return n.stylesheets&&n.count===0&&Pl(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Pl(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&id===0&&(id=62500*hw());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Pl(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>id?50:800)+r);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Dl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Nl=null;function Pl(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Nl=new Map,r.forEach(kw,n),Nl=null,Dl.call(n))}function kw(n,r){if(!(r.state.loading&4)){var l=Nl.get(n);if(l)var u=l.get(null);else{l=new Map,Nl.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var x=g[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}g=r.instance,x=g.getAttribute("data-precedence"),m=l.get(x)||u,m===u&&l.set(null,g),l.set(x,g),this.count++,u=Dl.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),m?m.parentNode.insertBefore(g,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),r.state.loading|=4}}var Nr={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Dw(n,r,l,u,g,m,x,E,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.hiddenUpdates=Jc(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function ky(n,r,l,u,g,m,x,E,O,F,Y,J){return n=new Dw(n,r,l,x,O,F,Y,J,E),r=1,m===!0&&(r|=24),m=Yt(3,null,null,r),n.current=m,m.stateNode=n,r=Lu(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:r},Hu(m),n}function Dy(n){return n?(n=Ws,n):Ws}function Ny(n,r,l,u,g,m){g=Dy(g),u.context===null?u.context=g:u.pendingContext=g,u=wi(r),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Ti(n,u,r),l!==null&&(Ut(l,n,r),dr(l,n,r))}function Py(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function sd(n,r){Py(n,r),(n=n.alternate)&&Py(n,r)}function Ly(n){if(n.tag===13||n.tag===31){var r=ts(n,67108864);r!==null&&Ut(r,n,67108864),sd(n,67108864)}}function zy(n){if(n.tag===13||n.tag===31){var r=Zt();r=Zc(r);var l=ts(n,r);l!==null&&Ut(l,n,r),sd(n,r)}}var Ll=!0;function Nw(n,r,l,u){var g=U.T;U.T=null;var m=Z.p;try{Z.p=2,ad(n,r,l,u)}finally{Z.p=m,U.T=g}}function Pw(n,r,l,u){var g=U.T;U.T=null;var m=Z.p;try{Z.p=8,ad(n,r,l,u)}finally{Z.p=m,U.T=g}}function ad(n,r,l,u){if(Ll){var g=rd(u);if(g===null)Vh(n,r,u,zl,l),Uy(n,u);else if(zw(g,n,r,l,u))u.stopPropagation();else if(Uy(n,u),r&4&&-1<Lw.indexOf(n)){for(;g!==null;){var m=Ls(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Xi(m.pendingLanes);if(x!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var O=1<<31-Gt(x);E.entanglements[1]|=O,x&=~O}Rn(m),(Pe&6)===0&&(vl=Mt()+500,Ar(0))}}break;case 31:case 13:E=ts(m,2),E!==null&&Ut(E,m,2),xl(),sd(m,2)}if(m=rd(u),m===null&&Vh(n,r,u,zl,l),m===g)break;g=m}g!==null&&u.stopPropagation()}else Vh(n,r,u,null,l)}}function rd(n){return n=lu(n),od(n)}var zl=null;function od(n){if(zl=null,n=Ps(n),n!==null){var r=o(n);if(r===null)n=null;else{var l=r.tag;if(l===13){if(n=c(r),n!==null)return n;n=null}else if(l===31){if(n=h(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return zl=n,null}function By(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qc()){case Q:return 2;case oe:return 8;case _e:case Cn:return 32;case gi:return 268435456;default:return 32}default:return 32}}var ld=!1,Pi=null,Li=null,zi=null,Pr=new Map,Lr=new Map,Bi=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uy(n,r){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Pr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(r.pointerId)}}function zr(n,r,l,u,g,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[g]},r!==null&&(r=Ls(r),r!==null&&Ly(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),n)}function zw(n,r,l,u,g){switch(r){case"focusin":return Pi=zr(Pi,n,r,l,u,g),!0;case"dragenter":return Li=zr(Li,n,r,l,u,g),!0;case"mouseover":return zi=zr(zi,n,r,l,u,g),!0;case"pointerover":var m=g.pointerId;return Pr.set(m,zr(Pr.get(m)||null,n,r,l,u,g)),!0;case"gotpointercapture":return m=g.pointerId,Lr.set(m,zr(Lr.get(m)||null,n,r,l,u,g)),!0}return!1}function Hy(n){var r=Ps(n.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){n.blockedOn=r,eg(n.priority,function(){zy(l)});return}}else if(r===31){if(r=h(l),r!==null){n.blockedOn=r,eg(n.priority,function(){zy(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Bl(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=rd(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ou=u,l.target.dispatchEvent(u),ou=null}else return r=Ls(l),r!==null&&Ly(r),n.blockedOn=l,!1;r.shift()}return!0}function Fy(n,r,l){Bl(n)&&l.delete(r)}function Bw(){ld=!1,Pi!==null&&Bl(Pi)&&(Pi=null),Li!==null&&Bl(Li)&&(Li=null),zi!==null&&Bl(zi)&&(zi=null),Pr.forEach(Fy),Lr.forEach(Fy)}function Ul(n,r){n.blockedOn===r&&(n.blockedOn=null,ld||(ld=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bw)))}var Hl=null;function Iy(n){Hl!==n&&(Hl=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Hl===n&&(Hl=null);for(var r=0;r<n.length;r+=3){var l=n[r],u=n[r+1],g=n[r+2];if(typeof u!="function"){if(od(u||l)===null)continue;break}var m=Ls(l);m!==null&&(n.splice(r,3),r-=3,rh(m,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function ya(n){function r(O){return Ul(O,n)}Pi!==null&&Ul(Pi,n),Li!==null&&Ul(Li,n),zi!==null&&Ul(zi,n),Pr.forEach(r),Lr.forEach(r);for(var l=0;l<Bi.length;l++){var u=Bi[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Bi.length&&(l=Bi[0],l.blockedOn===null);)Hy(l),l.blockedOn===null&&Bi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],m=l[u+1],x=g[Dt]||null;if(typeof m=="function")x||Iy(l);else if(x){var E=null;if(m&&m.hasAttribute("formAction")){if(g=m,x=m[Dt]||null)E=x.formAction;else if(od(g)!==null)continue}else E=x.action;typeof E=="function"?l[u+1]=E:(l.splice(u,3),u-=3),Iy(l)}}}function qy(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return g=x})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function cd(n){this._internalRoot=n}Fl.prototype.render=cd.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var l=r.current,u=Zt();Ny(l,u,n,r,null,null)},Fl.prototype.unmount=cd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ny(n.current,2,null,n,null,null),xl(),r[Ns]=null}};function Fl(n){this._internalRoot=n}Fl.prototype.unstable_scheduleHydration=function(n){if(n){var r=Zf();n={blockedOn:null,target:n,priority:r};for(var l=0;l<Bi.length&&r!==0&&r<Bi[l].priority;l++);Bi.splice(l,0,n),l===0&&Hy(n)}};var $y=e.version;if($y!=="19.2.0")throw Error(s(527,$y,"19.2.0"));Z.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var Uw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{Ga=Il.inject(Uw),Vt=Il}catch{}}return Ur.createRoot=function(n,r){if(!a(n))throw Error(s(299));var l=!1,u="",g=Qp,m=Jp,x=Zp;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=ky(n,1,!1,null,null,l,u,null,g,m,x,qy),n[Ns]=r.current,$h(n),new cd(r)},Ur.hydrateRoot=function(n,r,l){if(!a(n))throw Error(s(299));var u=!1,g="",m=Qp,x=Jp,E=Zp,O=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),r=ky(n,1,!0,r,l??null,u,g,O,m,x,E,qy),r.context=Dy(null),l=r.current,u=Zt(),u=Zc(u),g=wi(u),g.callback=null,Ti(l,g,u),l=u,r.current.lanes=l,Ya(r,l),Rn(r),n[Ns]=r.current,$h(n),new Fl(r)},Ur.version="19.2.0",Ur}var eb;function Xw(){if(eb)return dd.exports;eb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),dd.exports=Kw(),dd.exports}var Qw=Xw();const Jw=df(Qw);var tb="popstate";function Zw(i={}){function e(s,a){let{pathname:o,search:c,hash:h}=s.location;return Bd("",{pathname:o,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:oo(a)}return t1(e,t,null,i)}function Ze(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e1(){return Math.random().toString(36).substring(2,10)}function nb(i,e){return{usr:i.state,key:i.key,idx:e}}function Bd(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?za(e):e,state:t,key:e&&e.key||s||e1()}}function oo({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function za(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function t1(i,e,t,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,h="POP",d=null,f=y();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function y(){return(c.state||{idx:null}).idx}function b(){h="POP";let T=y(),C=T==null?null:T-f;f=T,d&&d({action:h,location:w.location,delta:C})}function v(T,C){h="PUSH";let j=Bd(w.location,T,C);f=y()+1;let A=nb(j,f),k=w.createHref(j);try{c.pushState(A,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(k)}o&&d&&d({action:h,location:w.location,delta:1})}function _(T,C){h="REPLACE";let j=Bd(w.location,T,C);f=y();let A=nb(j,f),k=w.createHref(j);c.replaceState(A,"",k),o&&d&&d({action:h,location:w.location,delta:0})}function S(T){return n1(T)}let w={get action(){return h},get location(){return i(a,c)},listen(T){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(tb,b),d=T,()=>{a.removeEventListener(tb,b),d=null}},createHref(T){return e(a,T)},createURL:S,encodeLocation(T){let C=S(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:_,go(T){return c.go(T)}};return w}function n1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:oo(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function n0(i,e,t="/"){return i1(i,e,t,!1)}function i1(i,e,t,s){let a=typeof e=="string"?za(e):e,o=hi(a.pathname||"/",t);if(o==null)return null;let c=i0(i);s1(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=p1(o);h=f1(c[d],f,s)}return h}function i0(i,e=[],t=[],s="",a=!1){let o=(c,h,d=a,f)=>{let y={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;Ze(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let b=ui([s,y.relativePath]),v=t.concat(y);c.children&&c.children.length>0&&(Ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),i0(c.children,e,v,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:h1(b,c.index),routesMeta:v})};return i.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of s0(c.path))o(c,h,!0,d)}),e}function s0(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=s0(s.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...c),h.map(d=>i.startsWith("/")&&d===""?"/":d)}function s1(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:d1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var a1=/^:[\w-]+$/,r1=3,o1=2,l1=1,c1=10,u1=-2,ib=i=>i==="*";function h1(i,e){let t=i.split("/"),s=t.length;return t.some(ib)&&(s+=u1),e&&(s+=o1),t.filter(a=>!ib(a)).reduce((a,o)=>a+(a1.test(o)?r1:o===""?l1:c1),s)}function d1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function f1(i,e,t=!1){let{routesMeta:s}=i,a={},o="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],f=h===s.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=_c({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},y),v=d.route;if(!b&&f&&t&&!s[s.length-1].route.index&&(b=_c({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:ui([o,b.pathname]),pathnameBase:_1(ui([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=ui([o,b.pathnameBase]))}return c}function _c(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=g1(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((f,{paramName:y,isOptional:b},v)=>{if(y==="*"){let S=h[v]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const _=h[v];return b&&!_?f[y]=void 0:f[y]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:i}}function g1(i,e=!1,t=!0){gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function p1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var m1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y1=i=>m1.test(i);function b1(i,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof i=="string"?za(i):i,o;if(t)if(y1(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=sb(t.substring(1),"/"):o=sb(t,e)}else o=e;return{pathname:o,search:x1(s),hash:S1(a)}}function sb(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function md(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function v1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function a0(i){let e=v1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function r0(i,e,t,s=!1){let a;typeof i=="string"?a=za(i):(a={...i},Ze(!a.pathname||!a.pathname.includes("?"),md("?","pathname","search",a)),Ze(!a.pathname||!a.pathname.includes("#"),md("#","pathname","hash",a)),Ze(!a.search||!a.search.includes("#"),md("#","search","hash",a)));let o=i===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;a.pathname=v.join("/")}h=b>=0?e[b]:"/"}let d=b1(a,h),f=c&&c!=="/"&&c.endsWith("/"),y=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||y)&&(d.pathname+="/"),d}var ui=i=>i.join("/").replace(/\/\/+/g,"/"),_1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),x1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,S1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function w1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var o0=["POST","PUT","PATCH","DELETE"];new Set(o0);var T1=["GET",...o0];new Set(T1);var Ba=L.createContext(null);Ba.displayName="DataRouter";var Bc=L.createContext(null);Bc.displayName="DataRouterState";L.createContext(!1);var l0=L.createContext({isTransitioning:!1});l0.displayName="ViewTransition";var E1=L.createContext(new Map);E1.displayName="Fetchers";var C1=L.createContext(null);C1.displayName="Await";var Ln=L.createContext(null);Ln.displayName="Navigation";var _o=L.createContext(null);_o.displayName="Location";var zn=L.createContext({outlet:null,matches:[],isDataRoute:!1});zn.displayName="Route";var gf=L.createContext(null);gf.displayName="RouteError";function j1(i,{relative:e}={}){Ze(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(Ln),{hash:a,pathname:o,search:c}=So(i,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ui([t,o])),s.createHref({pathname:h,search:c,hash:a})}function xo(){return L.useContext(_o)!=null}function Bn(){return Ze(xo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(_o).location}var c0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(i){L.useContext(Ln).static||L.useLayoutEffect(i)}function pf(){let{isDataRoute:i}=L.useContext(zn);return i?F1():A1()}function A1(){Ze(xo(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Ba),{basename:e,navigator:t}=L.useContext(Ln),{matches:s}=L.useContext(zn),{pathname:a}=Bn(),o=JSON.stringify(a0(s)),c=L.useRef(!1);return u0(()=>{c.current=!0}),L.useCallback((d,f={})=>{if(gn(c.current,c0),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=r0(d,JSON.parse(o),a,f.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:ui([e,y.pathname])),(f.replace?t.replace:t.push)(y,f.state,f)},[e,t,o,a,i])}L.createContext(null);function O1(){let{matches:i}=L.useContext(zn),e=i[i.length-1];return e?e.params:{}}function So(i,{relative:e}={}){let{matches:t}=L.useContext(zn),{pathname:s}=Bn(),a=JSON.stringify(a0(t));return L.useMemo(()=>r0(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function R1(i,e){return h0(i,e)}function h0(i,e,t,s,a){Ze(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Ln),{matches:c}=L.useContext(zn),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let j=b&&b.path||"";d0(f,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=Bn(),_;if(e){let j=typeof e=="string"?za(e):e;Ze(y==="/"||j.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${j.pathname}" was given in the \`location\` prop.`),_=j}else _=v;let S=_.pathname||"/",w=S;if(y!=="/"){let j=y.replace(/^\//,"").split("/");w="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let T=n0(i,{pathname:w});gn(b||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),gn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=P1(T&&T.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ui([y,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?y:ui([y,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,t,s,a);return e&&C?L.createElement(_o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function M1(){let i=H1(),e=w1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,c)}var k1=L.createElement(M1,null),D1=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(zn.Provider,{value:this.props.routeContext},L.createElement(gf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N1({routeContext:i,match:e,children:t}){let s=L.useContext(Ba);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(zn.Provider,{value:i},t)}function P1(i,e=[],t=null,s=null,a=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,c=t?.errors;if(c!=null){let y=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Ze(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(t)for(let y=0;y<o.length;y++){let b=o[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=y),b.route.id){let{loaderData:v,errors:_}=t,S=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!_||_[b.route.id]===void 0);if(b.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&s?(y,b)=>{s(y,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return o.reduceRight((y,b,v)=>{let _,S=!1,w=null,T=null;t&&(_=c&&b.route.id?c[b.route.id]:void 0,w=b.route.errorElement||k1,h&&(d<0&&v===0?(d0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===v&&(S=!0,T=b.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,v+1)),j=()=>{let A;return _?A=w:S?A=T:b.route.Component?A=L.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=y,L.createElement(N1,{match:b,routeContext:{outlet:y,matches:C,isDataRoute:t!=null},children:A})};return t&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?L.createElement(D1,{location:t.location,revalidation:t.revalidation,component:w,error:_,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):j()},null)}function mf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(i){let e=L.useContext(Ba);return Ze(e,mf(i)),e}function z1(i){let e=L.useContext(Bc);return Ze(e,mf(i)),e}function B1(i){let e=L.useContext(zn);return Ze(e,mf(i)),e}function yf(i){let e=B1(i),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function U1(){return yf("useRouteId")}function H1(){let i=L.useContext(gf),e=z1("useRouteError"),t=yf("useRouteError");return i!==void 0?i:e.errors?.[t]}function F1(){let{router:i}=L1("useNavigate"),e=yf("useNavigate"),t=L.useRef(!1);return u0(()=>{t.current=!0}),L.useCallback(async(a,o={})=>{gn(t.current,c0),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...o}))},[i,e])}var ab={};function d0(i,e,t){!e&&!ab[i]&&(ab[i]=!0,gn(!1,t))}L.memo(I1);function I1({routes:i,future:e,state:t,unstable_onError:s}){return h0(i,void 0,t,s,e)}function Kr(i){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:o=!1}){Ze(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof t=="string"&&(t=za(t));let{pathname:d="/",search:f="",hash:y="",state:b=null,key:v="default"}=t,_=L.useMemo(()=>{let S=hi(d,c);return S==null?null:{location:{pathname:S,search:f,hash:y,state:b,key:v},navigationType:s}},[c,d,f,y,b,v,s]);return gn(_!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:L.createElement(Ln.Provider,{value:h},L.createElement(_o.Provider,{children:e,value:_}))}function $1({children:i,location:e}){return R1(Ud(i),e)}function Ud(i,e=[]){let t=[];return L.Children.forEach(i,(s,a)=>{if(!L.isValidElement(s))return;let o=[...e,a];if(s.type===L.Fragment){t.push.apply(t,Ud(s.props.children,o));return}Ze(s.type===Kr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ud(s.props.children,o)),t.push(c)}),t}var dc="get",fc="application/x-www-form-urlencoded";function Uc(i){return i!=null&&typeof i.tagName=="string"}function V1(i){return Uc(i)&&i.tagName.toLowerCase()==="button"}function G1(i){return Uc(i)&&i.tagName.toLowerCase()==="form"}function W1(i){return Uc(i)&&i.tagName.toLowerCase()==="input"}function Y1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function K1(i,e){return i.button===0&&(!e||e==="_self")&&!Y1(i)}function Hd(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let s=i[t];return e.concat(Array.isArray(s)?s.map(a=>[t,a]):[[t,s]])},[]))}function X1(i,e){let t=Hd(i);return e&&e.forEach((s,a)=>{t.has(a)||e.getAll(a).forEach(o=>{t.append(a,o)})}),t}var ql=null;function Q1(){if(ql===null)try{new FormData(document.createElement("form"),0),ql=!1}catch{ql=!0}return ql}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yd(i){return i!=null&&!J1.has(i)?(gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):i}function Z1(i,e){let t,s,a,o,c;if(G1(i)){let h=i.getAttribute("action");s=h?hi(h,e):null,t=i.getAttribute("method")||dc,a=yd(i.getAttribute("enctype"))||fc,o=new FormData(i)}else if(V1(i)||W1(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||h.getAttribute("action");if(s=d?hi(d,e):null,t=i.getAttribute("formmethod")||h.getAttribute("method")||dc,a=yd(i.getAttribute("formenctype"))||yd(h.getAttribute("enctype"))||fc,o=new FormData(h,i),!Q1()){let{name:f,type:y,value:b}=i;if(y==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,b)}}else{if(Uc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dc,s=null,a=fc,c=i}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function eT(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&hi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function tT(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nT(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iT(i,e,t){let s=await Promise.all(i.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await tT(o,t);return c.links?c.links():[]}return[]}));return oT(s.flat(1).filter(nT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function rb(i,e,t,s,a,o){let c=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function sT(i,e,{includeHydrateFallback:t}={}){return aT(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function aT(i){return[...new Set(i)]}function rT(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function oT(i,e){let t=new Set;return new Set(e),i.reduce((s,a)=>{let o=JSON.stringify(rT(a));return t.has(o)||(t.add(o),s.push({key:o,link:a})),s},[])}function f0(){let i=L.useContext(Ba);return bf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lT(){let i=L.useContext(Bc);return bf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var vf=L.createContext(void 0);vf.displayName="FrameworkContext";function g0(){let i=L.useContext(vf);return bf(i,"You must render this element inside a <HydratedRouter> element"),i}function cT(i,e){let t=L.useContext(vf),[s,a]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:y,onTouchStart:b}=e,v=L.useRef(null);L.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let w=C=>{C.forEach(j=>{c(j.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return v.current&&T.observe(v.current),()=>{T.disconnect()}}},[i]),L.useEffect(()=>{if(s){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[s]);let _=()=>{a(!0)},S=()=>{a(!1),c(!1)};return t?i!=="intent"?[o,v,{}]:[o,v,{onFocus:Hr(h,_),onBlur:Hr(d,S),onMouseEnter:Hr(f,_),onMouseLeave:Hr(y,S),onTouchStart:Hr(b,_)}]:[!1,v,{}]}function Hr(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function uT({page:i,...e}){let{router:t}=f0(),s=L.useMemo(()=>n0(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?L.createElement(dT,{page:i,matches:s,...e}):null}function hT(i){let{manifest:e,routeModules:t}=g0(),[s,a]=L.useState([]);return L.useEffect(()=>{let o=!1;return iT(i,e,t).then(c=>{o||a(c)}),()=>{o=!0}},[i,e,t]),s}function dT({page:i,matches:e,...t}){let s=Bn(),{manifest:a,routeModules:o}=g0(),{basename:c}=f0(),{loaderData:h,matches:d}=lT(),f=L.useMemo(()=>rb(i,e,d,a,s,"data"),[i,e,d,a,s]),y=L.useMemo(()=>rb(i,e,d,a,s,"assets"),[i,e,d,a,s]),b=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,w=!1;if(e.forEach(C=>{let j=a.routes[C.route.id];!j||!j.hasLoader||(!f.some(A=>A.route.id===C.route.id)&&C.route.id in h&&o[C.route.id]?.shouldRevalidate||j.hasClientLoader?w=!0:S.add(C.route.id))}),S.size===0)return[];let T=eT(i,c,"data");return w&&S.size>0&&T.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[c,h,s,a,f,e,i,o]),v=L.useMemo(()=>sT(y,a),[y,a]),_=hT(y);return L.createElement(L.Fragment,null,b.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),_.map(({key:S,link:w})=>L.createElement("link",{key:S,nonce:t.nonce,...w})))}function fT(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p0&&(window.__reactRouterVersion="7.9.6")}catch{}function gT({basename:i,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=Zw({window:t,v5Compat:!0}));let a=s.current,[o,c]=L.useState({action:a.action,location:a.location}),h=L.useCallback(d=>{L.startTransition(()=>c(d))},[c]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(q1,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:a})}var m0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,no=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:h,target:d,to:f,preventScrollReset:y,viewTransition:b,...v},_){let{basename:S}=L.useContext(Ln),w=typeof f=="string"&&m0.test(f),T,C=!1;if(typeof f=="string"&&w&&(T=f,p0))try{let z=new URL(window.location.href),ee=f.startsWith("//")?new URL(z.protocol+f):new URL(f),W=hi(ee.pathname,S);ee.origin===z.origin&&W!=null?f=W+ee.search+ee.hash:C=!0}catch{gn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=j1(f,{relative:a}),[A,k,N]=cT(s,v),q=bT(f,{replace:c,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:b});function D(z){e&&e(z),z.defaultPrevented||q(z)}let V=L.createElement("a",{...v,...N,href:T||j,onClick:C||o?e:D,ref:fT(_,k),target:d,"data-discover":!w&&t==="render"?"true":void 0});return A&&!w?L.createElement(L.Fragment,null,V,L.createElement(uT,{page:j})):V});no.displayName="Link";var pT=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:h,children:d,...f},y){let b=So(c,{relative:f.relative}),v=Bn(),_=L.useContext(Bc),{navigator:S,basename:w}=L.useContext(Ln),T=_!=null&&TT(b)&&h===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,j=v.pathname,A=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;t||(j=j.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&w&&(A=hi(A,w)||A);const k=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let N=j===C||!a&&j.startsWith(C)&&j.charAt(k)==="/",q=A!=null&&(A===C||!a&&A.startsWith(C)&&A.charAt(C.length)==="/"),D={isActive:N,isPending:q,isTransitioning:T},V=N?e:void 0,z;typeof s=="function"?z=s(D):z=[s,N?"active":null,q?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ee=typeof o=="function"?o(D):o;return L.createElement(no,{...f,"aria-current":V,className:z,ref:y,style:ee,to:c,viewTransition:h},typeof d=="function"?d(D):d)});pT.displayName="NavLink";var mT=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:o,method:c=dc,action:h,onSubmit:d,relative:f,preventScrollReset:y,viewTransition:b,...v},_)=>{let S=ST(),w=wT(h,{relative:f}),T=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&m0.test(h),j=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,N=k?.getAttribute("formmethod")||c;S(k||A.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:a,state:o,relative:f,preventScrollReset:y,viewTransition:b})};return L.createElement("form",{ref:_,method:T,action:w,onSubmit:s?d:j,...v,"data-discover":!C&&i==="render"?"true":void 0})});mT.displayName="Form";function yT(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y0(i){let e=L.useContext(Ba);return Ze(e,yT(i)),e}function bT(i,{target:e,replace:t,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=pf(),d=Bn(),f=So(i,{relative:o});return L.useCallback(y=>{if(K1(y,e)){y.preventDefault();let b=t!==void 0?t:oo(d)===oo(f);h(i,{replace:b,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[d,h,f,t,s,e,i,a,o,c])}function vT(i){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Hd(i)),t=L.useRef(!1),s=Bn(),a=L.useMemo(()=>X1(s.search,t.current?null:e.current),[s.search]),o=pf(),c=L.useCallback((h,d)=>{const f=Hd(typeof h=="function"?h(new URLSearchParams(a)):h);t.current=!0,o("?"+f,d)},[o,a]);return[a,c]}var _T=0,xT=()=>`__${String(++_T)}__`;function ST(){let{router:i}=y0("useSubmit"),{basename:e}=L.useContext(Ln),t=U1();return L.useCallback(async(s,a={})=>{let{action:o,method:c,encType:h,formData:d,body:f}=Z1(s,e);if(a.navigate===!1){let y=a.fetcherKey||xT();await i.fetch(y,t,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await i.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function wT(i,{relative:e}={}){let{basename:t}=L.useContext(Ln),s=L.useContext(zn);Ze(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={...So(i||".",{relative:e})},c=Bn();if(i==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();o.search=y?`?${y}`:""}}return(!i||i===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ui([t,o.pathname])),oo(o)}function TT(i,{relative:e}={}){let t=L.useContext(l0);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y0("useViewTransitionState"),a=So(i,{relative:e});if(!t.isTransitioning)return!1;let o=hi(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=hi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return _c(a.pathname,c)!=null||_c(a.pathname,o)!=null}const ET=()=>{const i=Bn(),e=t=>i.pathname===t;return p.jsx("nav",{style:{background:"#020617",borderBottom:"1px solid #1f2937",padding:"0 24px"},children:p.jsxs("div",{style:{maxWidth:1400,margin:"0 auto",display:"flex",gap:8},children:[p.jsx(no,{to:"/",style:{padding:"16px 20px",textDecoration:"none",color:e("/")?"#38bdf8":"#e5e7eb",borderBottom:e("/")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Create Invoice"}),p.jsx(no,{to:"/preview",style:{padding:"16px 20px",textDecoration:"none",color:e("/preview")?"#38bdf8":"#e5e7eb",borderBottom:e("/preview")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Preview"}),p.jsx(no,{to:"/dashboard",style:{padding:"16px 20px",textDecoration:"none",color:e("/dashboard")?"#38bdf8":"#e5e7eb",borderBottom:e("/dashboard")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Dashboard"})]})})};var ii={},$l={},Fd=function(i,e){return Fd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])},Fd(i,e)};function b0(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fd(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xc=function(){return xc=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xc.apply(this,arguments)};function Ua(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function v0(i,e,t,s){var a=arguments.length,o=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,s);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(o=(a<3?c(o):a>3?c(e,t,o):c(e,t))||o);return a>3&&o&&Object.defineProperty(e,t,o),o}function _0(i,e){return function(t,s){e(t,s,i)}}function x0(i,e,t,s,a,o){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var h=s.kind,d=h==="getter"?"get":h==="setter"?"set":"value",f=!e&&i?s.static?i:i.prototype:null,y=e||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),b,v=!1,_=t.length-1;_>=0;_--){var S={};for(var w in s)S[w]=w==="access"?{}:s[w];for(var w in s.access)S.access[w]=s.access[w];S.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(C||null))};var T=(0,t[_])(h==="accessor"?{get:y.get,set:y.set}:y[d],S);if(h==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(b=c(T.get))&&(y.get=b),(b=c(T.set))&&(y.set=b),(b=c(T.init))&&a.unshift(b)}else(b=c(T))&&(h==="field"?a.unshift(b):y[d]=b)}f&&Object.defineProperty(f,s.name,y),v=!0}function S0(i,e,t){for(var s=arguments.length>2,a=0;a<e.length;a++)t=s?e[a].call(i,t):e[a].call(i);return s?t:void 0}function w0(i){return typeof i=="symbol"?i:"".concat(i)}function T0(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function E0(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function le(i,e,t,s){function a(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(y){try{f(s.next(y))}catch(b){c(b)}}function d(y){try{f(s.throw(y))}catch(b){c(b)}}function f(y){y.done?o(y.value):a(y.value).then(h,d)}f((s=s.apply(i,e||[])).next())})}function C0(i,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(f){return function(y){return d([f,y])}}function d(f){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(s=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,a=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(y){f=[6,y],a=0}finally{s=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Hc=Object.create?(function(i,e,t,s){s===void 0&&(s=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,s,a)}):(function(i,e,t,s){s===void 0&&(s=t),i[s]=e[t]});function j0(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Hc(e,i,t)}function Sc(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],s=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _f(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var s=t.call(i),a,o=[],c;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return o}function A0(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(_f(arguments[e]));return i}function O0(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var s=Array(i),a=0,e=0;e<t;e++)for(var o=arguments[e],c=0,h=o.length;c<h;c++,a++)s[a]=o[c];return s}function R0(i,e,t){if(t||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return i.concat(o||Array.prototype.slice.call(e))}function Da(i){return this instanceof Da?(this.v=i,this):new Da(i)}function M0(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(i,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(_){return function(S){return Promise.resolve(S).then(_,b)}}function h(_,S){s[_]&&(a[_]=function(w){return new Promise(function(T,C){o.push([_,w,T,C])>1||d(_,w)})},S&&(a[_]=S(a[_])))}function d(_,S){try{f(s[_](S))}catch(w){v(o[0][3],w)}}function f(_){_.value instanceof Da?Promise.resolve(_.value.v).then(y,b):v(o[0][2],_)}function y(_){d("next",_)}function b(_){d("throw",_)}function v(_,S){_(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function k0(i){var e,t;return e={},s("next"),s("throw",function(a){throw a}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(a,o){e[a]=i[a]?function(c){return(t=!t)?{value:Da(i[a](c)),done:!1}:o?o(c):c}:o}}function D0(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof Sc=="function"?Sc(i):i[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=i[o]&&function(c){return new Promise(function(h,d){c=i[o](c),a(h,d,c.done,c.value)})}}function a(o,c,h,d){Promise.resolve(d).then(function(f){o({value:f,done:h})},c)}}function N0(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var CT=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},Id=function(i){return Id=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},Id(i)};function P0(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t=Id(i),s=0;s<t.length;s++)t[s]!=="default"&&Hc(e,i,t[s]);return CT(e,i),e}function L0(i){return i&&i.__esModule?i:{default:i}}function z0(i,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(i):s?s.value:e.get(i)}function B0(i,e,t,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!a:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(i,t):a?a.value=t:e.set(i,t),t}function U0(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function H0(i,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,a;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(a=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");a&&(s=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),i.stack.push({value:e,dispose:s,async:t})}else t&&i.stack.push({async:!0});return e}var jT=typeof SuppressedError=="function"?SuppressedError:function(i,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=i,s.suppressed=e,s};function F0(i){function e(o){i.error=i.hasError?new jT(o,i.error,"An error was suppressed during disposal."):o,i.hasError=!0}var t,s=0;function a(){for(;t=i.stack.pop();)try{if(!t.async&&s===1)return s=0,i.stack.push(t),Promise.resolve().then(a);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(o).then(a,function(c){return e(c),a()})}else s|=1}catch(c){e(c)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return a()}function I0(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,a,o,c){return s?e?".jsx":".js":a&&(!o||!c)?t:a+o+"."+c.toLowerCase()+"js"}):i}const AT={__extends:b0,__assign:xc,__rest:Ua,__decorate:v0,__param:_0,__esDecorate:x0,__runInitializers:S0,__propKey:w0,__setFunctionName:T0,__metadata:E0,__awaiter:le,__generator:C0,__createBinding:Hc,__exportStar:j0,__values:Sc,__read:_f,__spread:A0,__spreadArrays:O0,__spreadArray:R0,__await:Da,__asyncGenerator:M0,__asyncDelegator:k0,__asyncValues:D0,__makeTemplateObject:N0,__importStar:P0,__importDefault:L0,__classPrivateFieldGet:z0,__classPrivateFieldSet:B0,__classPrivateFieldIn:U0,__addDisposableResource:H0,__disposeResources:F0,__rewriteRelativeImportExtension:I0},OT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:H0,get __assign(){return xc},__asyncDelegator:k0,__asyncGenerator:M0,__asyncValues:D0,__await:Da,__awaiter:le,__classPrivateFieldGet:z0,__classPrivateFieldIn:U0,__classPrivateFieldSet:B0,__createBinding:Hc,__decorate:v0,__disposeResources:F0,__esDecorate:x0,__exportStar:j0,__extends:b0,__generator:C0,__importDefault:L0,__importStar:P0,__makeTemplateObject:N0,__metadata:E0,__param:_0,__propKey:w0,__read:_f,__rest:Ua,__rewriteRelativeImportExtension:I0,__runInitializers:S0,__setFunctionName:T0,__spread:A0,__spreadArray:R0,__spreadArrays:O0,__values:Sc,default:AT},Symbol.toStringTag,{value:"Module"})),RT=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);let Fc=class extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}},q0=class extends Fc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},qd=class extends Fc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},$d=class extends Fc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var wc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(wc||(wc={}));class MT{constructor(e,{headers:t={},customFetch:s,region:a=wc.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=RT(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return le(this,arguments,void 0,function*(t,s={}){var a;let o,c;try{const{headers:h,method:d,body:f,signal:y,timeout:b}=s;let v={},{region:_}=s;_||(_=this.region);const S=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let w;f&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(v["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(v["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let T=y;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),y?(T=c.signal,y.addEventListener("abort",()=>c.abort())):T=c.signal);const C=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:w,signal:T}).catch(N=>{throw new q0(N)}),j=C.headers.get("x-relay-error");if(j&&j==="true")throw new qd(C);if(!C.ok)throw new $d(C);let A=((a=C.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return A==="application/json"?k=yield C.json():A==="application/octet-stream"||A==="application/pdf"?k=yield C.blob():A==="text/event-stream"?k=C:A==="multipart/form-data"?k=yield C.formData():k=yield C.text(),{data:k,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof $d||h instanceof qd?h.context:void 0}}finally{o&&clearTimeout(o)}})}}const kT=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return wc},FunctionsClient:MT,FunctionsError:Fc,FunctionsFetchError:q0,FunctionsHttpError:$d,FunctionsRelayError:qd},Symbol.toStringTag,{value:"Module"})),$0=vo(kT);var jt={};const Ha=vo(OT);var Vl={},Gl={},Wl={},Yl={},Kl={},Xl={},ob;function V0(){if(ob)return Xl;ob=1,Object.defineProperty(Xl,"__esModule",{value:!0});class i extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Xl.default=i,Xl}var lb;function G0(){if(lb)return Kl;lb=1,Object.defineProperty(Kl,"__esModule",{value:!0});const e=Ha.__importDefault(V0());let t=class{constructor(a){var o,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,y,b,v;let _=null,S=null,w=null,T=d.status,C=d.statusText;if(d.ok){if(this.method!=="HEAD"){const N=await d.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=N:S=JSON.parse(N))}const A=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),k=(b=d.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(_={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,w=null,T=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await d.text();try{_=JSON.parse(A),Array.isArray(_)&&d.status===404&&(S=[],_=null,T=200,C="OK")}catch{d.status===404&&A===""?(T=204,C="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((v=_?.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,T=200,C="OK"),_&&this.shouldThrowOnError)throw new e.default(_)}return{error:_,data:S,count:w,status:T,statusText:C}});return this.shouldThrowOnError||(h=h.catch(d=>{var f,y,b,v,_,S;let w="";const T=d?.cause;if(T){const C=(f=T?.message)!==null&&f!==void 0?f:"",j=(y=T?.code)!==null&&y!==void 0?y:"";w=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,w+=`

Caused by: ${(v=T?.name)!==null&&v!==void 0?v:"Error"}: ${C}`,j&&(w+=` (${j})`),T?.stack&&(w+=`
${T.stack}`)}else w=(_=d?.stack)!==null&&_!==void 0?_:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(a,o)}returns(){return this}overrideTypes(){return this}};return Kl.default=t,Kl}var cb;function W0(){if(cb)return Yl;cb=1,Object.defineProperty(Yl,"__esModule",{value:!0});const e=Ha.__importDefault(G0());let t=class extends e.default{select(a){let o=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:c,foreignTable:h,referencedTable:d=h}={}){const f=d?`${d}.order`:"order",y=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${y?`${y},`:""}${a}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:c=o}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,o,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:c=!1,buffers:h=!1,wal:d=!1,format:f="text"}={}){var y;const b=[a?"analyze":null,o?"verbose":null,c?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${b};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};return Yl.default=t,Yl}var ub;function xf(){if(ub)return Wl;ub=1,Object.defineProperty(Wl,"__esModule",{value:!0});const e=Ha.__importDefault(W0()),t=new RegExp("[,()]");let s=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${f}fts${y}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}};return Wl.default=s,Wl}var hb;function Y0(){if(hb)return Gl;hb=1,Object.defineProperty(Gl,"__esModule",{value:!0});const e=Ha.__importDefault(xf());let t=class{constructor(a,{headers:o={},schema:c,fetch:h}){this.url=a,this.headers=new Headers(o),this.schema=c,this.fetch=h}select(a,o){const{head:c=!1,count:h}=o??{},d=c?"HEAD":"GET";let f=!1;const y=(a??"*").split("").map(b=>/\s/.test(b)&&!f?"":(b==='"'&&(f=!f),b)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:c=!0}={}){var h;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(f.length>0){const y=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:c=!1,count:h,defaultToNull:d=!0}={}){var f;const y="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const b=a.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(b.length>0){const v=[...new Set(b)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:o}={}){var c;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var o;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return Gl.default=t,Gl}var db;function DT(){if(db)return Vl;db=1,Object.defineProperty(Vl,"__esModule",{value:!0});const i=Ha,e=i.__importDefault(Y0()),t=i.__importDefault(xf());let s=class K0{constructor(o,{headers:c={},schema:h,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=h,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new K0(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:h=!1,get:d=!1,count:f}={}){var y;let b;const v=new URL(`${this.url}/rpc/${o}`);let _;h||d?(b=h?"HEAD":"GET",Object.entries(c).filter(([w,T])=>T!==void 0).map(([w,T])=>[w,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([w,T])=>{v.searchParams.append(w,T)})):(b="POST",_=c);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new t.default({method:b,url:v,headers:S,schema:this.schemaName,body:_,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Vl.default=s,Vl}var fb;function X0(){if(fb)return jt;fb=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const i=Ha,e=i.__importDefault(DT());jt.PostgrestClient=e.default;const t=i.__importDefault(Y0());jt.PostgrestQueryBuilder=t.default;const s=i.__importDefault(xf());jt.PostgrestFilterBuilder=s.default;const a=i.__importDefault(W0());jt.PostgrestTransformBuilder=a.default;const o=i.__importDefault(G0());jt.PostgrestBuilder=o.default;const c=i.__importDefault(V0());return jt.PostgrestError=c.default,jt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:c.default},jt}class Q0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const NT="2.87.1",PT=`realtime-js/${NT}`,J0="1.0.0",LT="2.0.0",gb=J0,Vd=1e4,zT=1e3,BT=100;var Es;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Es||(Es={}));var ht;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ht||(ht={}));var Sn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Sn||(Sn={}));var Gd;(function(i){i.websocket="websocket"})(Gd||(Gd={}));var Cs;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Cs||(Cs={}));class UT{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const a=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var t,s;const a=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,s){var a,o;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,y=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(y).length===0?"":JSON.stringify(y);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+f.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),w=0;S.setUint8(w++,this.KINDS.userBroadcastPush),S.setUint8(w++,d.length),S.setUint8(w++,h.length),S.setUint8(w++,c.length),S.setUint8(w++,f.length),S.setUint8(w++,b.length),S.setUint8(w++,t),Array.from(d,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(w++,C.charCodeAt(0))),Array.from(b,C=>S.setUint8(w++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+s.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(s),_.byteLength),T.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,o,c,h,d]=s;return t({join_ref:a,ref:o,topic:c,event:h,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,a)}}_decodeUserBroadcast(e,t,s){const a=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),h=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=s.decode(e.slice(d,d+a));d=d+a;const y=s.decode(e.slice(d,d+o));d=d+o;const b=s.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),_=h===this.JSON_ENCODING?JSON.parse(s.decode(v)):v,S={type:this.BROADCAST_EVENT,event:y,payload:_};return c>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class Z0{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ge||(Ge={}));const pb=(i,e,t={})=>{var s;const a=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=HT(c,i,e,a),o),{}):{}},HT=(i,e,t,s)=>{const a=e.find(h=>h.name===i),o=a?.type,c=t[i];return o&&!s.includes(o)?e_(o,c):Wd(c)},e_=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return $T(e,t)}switch(i){case Ge.bool:return FT(e);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return IT(e);case Ge.json:case Ge.jsonb:return qT(e);case Ge.timestamp:return VT(e);case Ge.abstime:case Ge.date:case Ge.daterange:case Ge.int4range:case Ge.int8range:case Ge.money:case Ge.reltime:case Ge.text:case Ge.time:case Ge.timestamptz:case Ge.timetz:case Ge.tsrange:case Ge.tstzrange:return Wd(e);default:return Wd(e)}},Wd=i=>i,FT=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},IT=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},qT=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},$T=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,s=i[t];if(i[0]==="{"&&s==="}"){let o;const c=i.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>e_(e,h))}return i},VT=i=>typeof i=="string"?i.replace(" ","T"):i,t_=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class bd{constructor(e,t,s={},a=Vd){this.channel=e,this.event=t,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Yd;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Yd||(Yd={}));let n_=class gc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gc.syncState(this.state,a,o,c),this.pendingDiffs.forEach(d=>{this.state=gc.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=gc.syncDiff(this.state,a,o,c),h())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,a){const o=this.cloneDeep(e),c=this.transformState(t),h={},d={};return this.map(o,(f,y)=>{c[f]||(d[f]=y)}),this.map(c,(f,y)=>{const b=o[f];if(b){const v=y.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),S=y.filter(T=>_.indexOf(T.presence_ref)<0),w=b.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(h[f]=S),w.length>0&&(d[f]=w)}else h[f]=y}),this.syncDiff(o,{joins:h,leaves:d},s,a)}static syncDiff(e,t,s,a){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(o,(h,d)=>{var f;const y=(f=e[h])!==null&&f!==void 0?f:[];if(e[h]=this.cloneDeep(d),y.length>0){const b=e[h].map(_=>_.presence_ref),v=y.filter(_=>b.indexOf(_.presence_ref)<0);e[h].unshift(...v)}s(h,y,d)}),this.map(c,(h,d)=>{let f=e[h];if(!f)return;const y=d.map(b=>b.presence_ref);f=f.filter(b=>y.indexOf(b.presence_ref)<0),e[h]=f,a(h,f,d),f.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const a=e[s];return"metas"in a?t[s]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[s]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Kd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Kd||(Kd={}));var Aa;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Aa||(Aa={}));var Nn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));const GT=ht;let i_=class Xr{constructor(e,t={config:{}},s){var a,o;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new bd(this,Sn.join,this.params,this.timeout),this.rejoinTimer=new Z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new n_(this),this.broadcastEndpointURL=t_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ht.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,f=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(_=>_.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Aa.PRESENCE]&&this.bindings[Aa.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},v={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(Nn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(Nn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,T=(S=w?.length)!==null&&S!==void 0?S:0,C=[];for(let j=0;j<T;j++){const A=w[j],{filter:{event:k,schema:N,table:q,filter:D}}=A,V=_&&_[j];if(V&&V.event===k&&Xr.isFilterValueEqual(V.schema,N)&&Xr.isFilterValueEqual(V.table,q)&&Xr.isFilterValueEqual(V.filter,D))C.push(Object.assign(Object.assign({},A),{id:V.id}));else{this.unsubscribe(),this.state=ht.errored,e?.(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Nn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ht.errored,e?.(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===ht.joined&&e===Aa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ht.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new bd(this,Sn.leave,{},e),s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ht.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const a=new AbortController,o=setTimeout(()=>a.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new bd(this,e,t,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>BT){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var a,o;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:f,join:y}=Sn;if(s&&[h,d,f,y].indexOf(c)>=0&&s!==this._joinRef())return;let v=this._onMessage(c,t,s);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var S,w,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(w=_.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===c}).map(_=>_.callback(v,s)):(o=this.bindings[c])===null||o===void 0||o.filter(_=>{var S,w,T,C,j,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const k=_.id,N=(S=_.filter)===null||S===void 0?void 0:S.event;return k&&((w=t.ids)===null||w===void 0?void 0:w.includes(k))&&(N==="*"||N?.toLocaleLowerCase()===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const k=(j=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return k==="*"||k===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:w,table:T,commit_timestamp:C,type:j,errors:A}=S;v=Object.assign(Object.assign({},{schema:w,table:T,commit_timestamp:C,eventType:j,new:{},old:{},errors:A}),this._getPayloadRecords(S))}_.callback(v,s)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const a=e.toLocaleLowerCase(),o={type:a,filter:t,callback:s};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Xr.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sn.close,{},e)}_onError(e){this._on(Sn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=pb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=pb(e.columns,e.old_record)),t}};const vd=()=>{},Ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WT=[1e3,2e3,5e3,1e4],YT=1e4,KT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let XT=class{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vd,this.transport=null,this.heartbeatIntervalMs=Ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vd,this.ref=0,this.reconnectTimer=null,this.vsn=gb,this.logger=vd,this.conn=null,this.sendBuffer=[],this.serializer=new UT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Gd.websocket}`,this.httpEndpoint=t_(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Q0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Cs.Connecting;case Es.open:return Cs.Open;case Es.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===s);if(a)return a;{const o=new i_(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:s,payload:a,ref:o}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${t} ${s} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zT,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:o,ref:c}=t,h=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${s} ${a} ${h}`.trim(),o),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(a,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Es.open||this.conn.readyState===Es.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${s}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([KT],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(a=>{const o={access_token:t,version:PT};t&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Sn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Z0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,a,o,c,h,d,f,y,b,v,_;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Vd,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Ql.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:vd,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:gb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>WT[S-1]||YT),this.vsn){case J0:this.encode=(y=e?.encode)!==null&&y!==void 0?y:((S,w)=>w(JSON.stringify(S))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((S,w)=>w(JSON.parse(S)));break;case LT:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const QT=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:GT,get REALTIME_LISTEN_TYPES(){return Aa},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Kd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Yd},get REALTIME_SUBSCRIBE_STATES(){return Nn},RealtimeChannel:i_,RealtimeClient:XT,RealtimePresence:n_,WebSocketFactory:Q0},Symbol.toStringTag,{value:"Module"})),s_=vo(QT);class wo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Qe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class a_ extends wo{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Tc extends wo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Sf=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),JT=()=>Response,Xd=i=>{if(Array.isArray(i))return i.map(t=>Xd(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,s])=>{const a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Xd(s)}),e},ZT=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},eE=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),_d=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},tE=(i,e,t)=>le(void 0,void 0,void 0,function*(){const s=yield JT();i instanceof s&&!t?.noResolveJson?i.json().then(a=>{const o=i.status||500,c=a?.statusCode||o+"";e(new a_(_d(a),o,c))}).catch(a=>{e(new Tc(_d(a),a))}):e(new Tc(_d(i),i))}),nE=(i,e,t,s)=>{const a={method:i,headers:e?.headers||{}};return i==="GET"||!s?a:(ZT(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function To(i,e,t,s,a,o){return le(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,nE(e,s,a,o)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>tE(d,h,s))})})}function lo(i,e,t,s){return le(this,void 0,void 0,function*(){return To(i,"GET",e,t,s)})}function xn(i,e,t,s,a){return le(this,void 0,void 0,function*(){return To(i,"POST",e,s,a,t)})}function Qd(i,e,t,s,a){return le(this,void 0,void 0,function*(){return To(i,"PUT",e,s,a,t)})}function iE(i,e,t,s){return le(this,void 0,void 0,function*(){return To(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function wf(i,e,t,s,a){return le(this,void 0,void 0,function*(){return To(i,"DELETE",e,s,a,t)})}class sE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return le(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}var r_;class aE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[r_]="BlobDownloadBuilder",this.promise=null}asStream(){return new sE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return le(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Qe(e))return{data:null,error:e};throw e}})}}r_=Symbol.toStringTag;const rE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class oE{constructor(e,t={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=Sf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,a){return le(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},mb),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(h=Object.assign(Object.assign({},h),a.headers));const f=this._removeEmptyFolders(t),y=this._getFinalPath(f),b=yield(e=="PUT"?Qd:xn)(this.fetch,`${this.url}/object/${y}`,o,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:b.Id,fullPath:b.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}})}upload(e,t,s){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,a){return le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:mb.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",f.cacheControl)):(d=s,y["cache-control"]=`max-age=${f.cacheControl}`,y["content-type"]=f.contentType);const b=yield Qd(this.fetch,h.toString(),d,{headers:y});return{data:{path:o,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Qe(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");const o=yield xn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),c=new URL(this.url+o.url),h=c.searchParams.get("token");if(!h)throw new wo("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}update(e,t,s){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return le(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}copy(e,t,s){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,s){return le(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield xn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,s){return le(this,void 0,void 0,function*(){try{const a=yield xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(e),d=()=>lo(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new aE(d,this.shouldThrowOnError)}info(e){return le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield lo(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Xd(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}exists(e){return le(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield iE(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s)&&s instanceof Tc){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const h=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${f}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}list(e,t,s){return le(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},rE),t),{prefix:e||""});return{data:yield xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}listV2(e,t){return le(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const o_="2.87.1",l_={"X-Client-Info":`storage-js/${o_}`};class lE{constructor(e,t={},s,a){this.shouldThrowOnError=!1;const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l_),t),this.fetch=Sf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return le(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield lo(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield lo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}createBucket(e){return le(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Qe(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield Qd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Qe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var co=class extends Error{constructor(i,e){super(i),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cE(i,e,t){const s=new URL(e,i);if(t)for(const[a,o]of Object.entries(t))o!==void 0&&s.searchParams.set(a,o);return s.toString()}async function uE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function hE(i){const e=i.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:a,body:o,headers:c}){const h=cE(i.baseUrl,s,a),d=await uE(i.auth),f=await e(h,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),y=await f.text(),b=(f.headers.get("content-type")||"").includes("application/json"),v=b&&y?JSON.parse(y):y;if(!f.ok){const _=b?v:void 0,S=_?.error;throw new co(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function Jl(i){return i.join("")}var dE=class{constructor(i,e=""){this.client=i,this.prefix=e}async listNamespaces(i){const e=i?{parent:Jl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,e){const t={namespace:i.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jl(i.namespace)}`}),!0}catch(e){if(e instanceof co&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(i,e){try{return await this.createNamespace(i,e)}catch(t){if(t instanceof co&&t.status===409)return;throw t}}};function ba(i){return i.join("")}var fE=class{constructor(i,e="",t){this.client=i,this.prefix=e,this.accessDelegation=t}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ba(i.namespace)}/tables`})).data.identifiers}async createTable(i,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ba(i.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(i,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ba(i.namespace)}/tables/${i.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(i,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ba(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(i){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ba(i.namespace)}/tables/${i.name}`,headers:e})).data.metadata}async tableExists(i){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ba(i.namespace)}/tables/${i.name}`,headers:e}),!0}catch(t){if(t instanceof co&&t.status===404)return!1;throw t}}async createTableIfNotExists(i,e){try{return await this.createTable(i,e)}catch(t){if(t instanceof co&&t.status===409)return await this.loadTable({namespace:i.namespace,name:e.name});throw t}}},gE=class{constructor(i){let e="v1";i.catalogName&&(e+=`/${i.catalogName}`);const t=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=hE({baseUrl:t,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new dE(this.client,e),this.tableOps=new fE(this.client,e,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,e){return this.namespaceOps.createNamespace(i,e)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,e){return this.tableOps.createTable(i,e)}async updateTable(i,e){return this.tableOps.updateTable(i,e)}async dropTable(i,e){await this.tableOps.dropTable(i,e)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,e){return this.namespaceOps.createNamespaceIfNotExists(i,e)}async createTableIfNotExists(i,e){return this.tableOps.createTableIfNotExists(i,e)}};class c_{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},l_),t),this.fetch=Sf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}listBuckets(e){return le(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield lo(this.fetch,a,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}})}from(e){if(!eE(e))throw new wo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new gE({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>le(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(o,c){const h=o[c];return typeof h!="function"?h:(...d)=>le(this,void 0,void 0,function*(){try{return{data:yield h.apply(o,d),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}})}})}}const Tf={"X-Client-Info":`storage-js/${o_}`,"Content-Type":"application/json"};class Ef extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function It(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class pc extends Ef{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class u_ extends Ef{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Jd;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Jd||(Jd={}));const Ic=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),pE=()=>Response,h_=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},mE=i=>Array.from(new Float32Array(i)),yE=(i,e)=>{if(e!==void 0&&i.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${i.float32.length}`)},yb=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),bE=(i,e,t)=>le(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!t?.noResolveJson){const a=i.status||500,o=i;if(typeof o.json=="function")o.json().then(c=>{const h=c?.statusCode||c?.code||a+"";e(new pc(yb(c),a,h))}).catch(()=>{const c=a+"",h=o.statusText||`HTTP ${a} error`;e(new pc(h,a,c))});else{const c=a+"",h=o.statusText||`HTTP ${a} error`;e(new pc(h,a,c))}}else e(new u_(yb(i),i))}),vE=(i,e,t,s)=>{const a={method:i,headers:e?.headers||{}};return s?(h_(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),t)):a};function _E(i,e,t,s,a,o){return le(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,vE(e,s,a,o)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>bE(d,h,s))})})}function en(i,e,t,s,a){return le(this,void 0,void 0,function*(){return _E(i,"POST",e,s,a,t)})}class d_{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tf),t),this.fetch=Ic(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getIndex(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}listIndexes(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}}class f_{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tf),t),this.fetch=Ic(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return le(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}listVectors(e){return le(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield en(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}queryVectors(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}deleteVectors(e){return le(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield en(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}class g_{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tf),t),this.fetch=Ic(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getBucket(e){return le(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}listBuckets(){return le(this,arguments,void 0,function*(e={}){try{return{data:yield en(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}deleteBucket(e){return le(this,void 0,void 0,function*(){try{return{data:(yield en(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}class p_ extends g_{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new m_(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return le(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return le(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return le(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return le(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class m_ extends d_{constructor(e,t,s,a){super(e,t,a),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return le(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return le(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return le(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return le(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new y_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class y_ extends f_{constructor(e,t,s,a,o){super(e,t,o),this.vectorBucketName=s,this.indexName=a}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return le(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return le(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return le(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return le(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return le(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xE extends lE{constructor(e,t={},s,a){super(e,t,s,a)}from(e){return new oE(this.url,this.headers,e,this.fetch)}get vectors(){return new p_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new c_(this.url+"/iceberg",this.headers,this.fetch)}}const SE=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:c_,StorageApiError:a_,StorageClient:xE,StorageError:wo,StorageUnknownError:Tc,StorageVectorsApiError:pc,StorageVectorsClient:p_,StorageVectorsError:Ef,get StorageVectorsErrorCode(){return Jd},StorageVectorsUnknownError:u_,VectorBucketApi:g_,VectorBucketScope:m_,VectorDataApi:f_,VectorIndexApi:d_,VectorIndexScope:y_,isPlainObject:h_,isStorageError:Qe,isStorageVectorsError:It,normalizeToFloat32:mE,resolveFetch:Ic,resolveResponse:pE,validateVectorDimension:yE},Symbol.toStringTag,{value:"Module"})),wE=vo(SE);var xd={},Fr={},bb;function TE(){return bb||(bb=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.version=void 0,Fr.version="2.87.1"),Fr}var vb;function EE(){return vb||(vb=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const e=TE();let t="";typeof Deno<"u"?t="deno":typeof document<"u"?t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?t="react-native":t="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${t}/${e.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(xd)),xd}var Sd={},_b;function CE(){return _b||(_b=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const e=a=>a?(...o)=>a(...o):(...o)=>fetch(...o);i.resolveFetch=e;const t=()=>Headers;i.resolveHeadersConstructor=t;const s=(a,o,c)=>{const h=(0,i.resolveFetch)(c),d=(0,i.resolveHeadersConstructor)();return async(f,y)=>{var b;const v=(b=await o())!==null&&b!==void 0?b:a;let _=new d(y?.headers);return _.has("apikey")||_.set("apikey",a),_.has("Authorization")||_.set("Authorization",`Bearer ${v}`),h(f,Object.assign(Object.assign({},y),{headers:_}))}};i.fetchWithAuth=s})(Sd)),Sd}var si={},xb;function jE(){if(xb)return si;xb=1,Object.defineProperty(si,"__esModule",{value:!0}),si.isBrowser=void 0,si.uuid=i,si.ensureTrailingSlash=e,si.applySettingDefaults=s,si.validateSupabaseUrl=a;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,h=o=="x"?c:c&3|8;return h.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const t=()=>typeof window<"u";si.isBrowser=t;function s(o,c){var h,d;const{db:f,auth:y,realtime:b,global:v}=o,{db:_,auth:S,realtime:w,global:T}=c,C={db:Object.assign(Object.assign({},_),f),auth:Object.assign(Object.assign({},S),y),realtime:Object.assign(Object.assign({},w),b),storage:{},global:Object.assign(Object.assign(Object.assign({},T),v),{headers:Object.assign(Object.assign({},(h=T?.headers)!==null&&h!==void 0?h:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?C.accessToken=o.accessToken:delete C.accessToken,C}function a(o){const c=o?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return si}var Ir={};const b_="2.87.1",Ca=30*1e3,Zd=3,wd=Zd*Ca,AE="http://localhost:9999",OE="supabase.auth.token",RE={"X-Client-Info":`gotrue-js/${b_}`},ef="X-Supabase-Api-Version",v_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ME=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kE=600*1e3;let Na=class extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}};function de(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let __=class extends Na{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}};function x_(i){return de(i)&&i.name==="AuthApiError"}let Hi=class extends Na{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},di=class extends Na{constructor(e,t,s,a){super(e,s,a),this.name=t,this.status=s}},Ft=class extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function S_(i){return de(i)&&i.name==="AuthSessionMissingError"}let _s=class extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Qr=class extends di{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},Jr=class extends di{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function w_(i){return de(i)&&i.name==="AuthImplicitGrantRedirectError"}let tf=class extends di{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ec=class extends di{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function mc(i){return de(i)&&i.name==="AuthRetryableFetchError"}let nf=class extends di{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}};function DE(i){return de(i)&&i.name==="AuthWeakPasswordError"}let Cc=class extends di{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sb=` 	
\r=`.split(""),NE=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<Sb.length;e+=1)i[Sb[e].charCodeAt(0)]=-2;for(let e=0;e<jc.length;e+=1)i[jc[e].charCodeAt(0)]=e;return i})();function wb(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(jc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(jc[s]),e.queuedBits-=6}}function T_(i,e,t){const s=NE[i];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Tb(i){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{zE(c,s,t)};for(let c=0;c<i.length;c+=1)T_(i.charCodeAt(c),a,o);return e.join("")}function PE(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function LE(i,e){for(let t=0;t<i.length;t+=1){let s=i.charCodeAt(t);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(i.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}PE(s,e)}}function zE(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Oa(i){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<i.length;a+=1)T_(i.charCodeAt(a),t,s);return new Uint8Array(e)}function BE(i){const e=[];return LE(i,t=>e.push(t)),new Uint8Array(e)}function js(i){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};return i.forEach(a=>wb(a,t,s)),wb(null,t,s),e.join("")}function UE(i){return Math.round(Date.now()/1e3)+i}function HE(){return Symbol("auth-callback")}const Et=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},E_=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function FE(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return t.searchParams.forEach((s,a)=>{e[a]=s}),e}const C_=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),IE=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",ja=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},ps=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Tt=async(i,e)=>{await i.removeItem(e)};class qc{constructor(){this.promise=new qc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}qc.promiseConstructor=Promise;function Td(i){const e=i.split(".");if(e.length!==3)throw new Cc("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!ME.test(e[s]))throw new Cc("JWT not in base64url format");return{header:JSON.parse(Tb(e[0])),payload:JSON.parse(Tb(e[1])),signature:Oa(e[2]),raw:{header:e[0],payload:e[1]}}}async function qE(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function $E(i,e){return new Promise((s,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await i(o);if(!e(o,null,c)){s(c);return}}catch(c){if(!e(o,c)){a(c);return}}})()})}function VE(i){return("0"+i.toString(16)).substr(-2)}function GE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,VE).join("")}async function WE(i){const t=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(s);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function YE(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await WE(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function va(i,e,t=!1){const s=GE();let a=s;t&&(a+="/PASSWORD_RECOVERY"),await ja(i,`${e}-code-verifier`,a);const o=await YE(s);return[o,s===o?"plain":"s256"]}const KE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XE(i){const e=i.headers.get(ef);if(!e||!e.match(KE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function QE(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function JE(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _a(i){if(!ZE.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ed(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eC(i,e){return new Proxy(i,{get:(t,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,a)}})}function Eb(i){return JSON.parse(JSON.stringify(i))}const xs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),tC=[502,503,504];async function Cb(i){var e;if(!IE(i))throw new Ec(xs(i),0);if(tC.includes(i.status))throw new Ec(xs(i),i.status);let t;try{t=await i.json()}catch(o){throw new Hi(xs(o),o)}let s;const a=XE(i);if(a&&a.getTime()>=v_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new nf(xs(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ft}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new nf(xs(t),i.status,t.weak_password.reasons);throw new __(xs(t),i.status||500,s)}const nC=(i,e,t,s)=>{const a={method:i,headers:e?.headers||{}};return i==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),t))};async function be(i,e,t,s){var a;const o=Object.assign({},s?.headers);o[ef]||(o[ef]=v_["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const c=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await iC(i,e,t+h,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function iC(i,e,t,s,a,o){const c=nC(e,s,a,o);let h;try{h=await i(t,Object.assign({},c))}catch(d){throw console.error(d),new Ec(xs(d),0)}if(h.ok||await Cb(h),s?.noResolveJson)return h;try{return await h.json()}catch(d){await Cb(d)}}function _n(i){var e;let t=null;rC(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=UE(i.expires_in)));const s=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:s},error:null}}function jb(i){const e=_n(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Fi(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function sC(i){return{data:i,error:null}}function aC(i){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:o}=i,c=Ua(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:o},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function Ab(i){return i}function rC(i){return i.access_token&&i.refresh_token&&i.expires_in}const yc=["global","local","others"];let Cf=class{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=C_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=yc[0]){if(yc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yc.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(de(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fi})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Ua(e,["options"]),a=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:aC,redirectTo:t?.redirectTo})}catch(t){if(de(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fi})}catch(t){if(de(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,a,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Ab});if(y.error)throw y.error;const b=await y.json(),v=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(d=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(de(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){_a(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fi})}catch(t){if(de(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){_a(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Fi})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){_a(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fi})}catch(s){if(de(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){_a(e.userId);try{const{data:t,error:s}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:s}}catch(t){if(de(t))return{data:null,error:t};throw t}}async _deleteFactor(e){_a(e.userId),_a(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,a,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},y=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Ab});if(y.error)throw y.error;const b=await y.json(),v=(c=y.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(d=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const w=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);f[`${T}Page`]=w}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(de(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(de(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(de(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(de(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(de(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(de(t))return{data:null,error:t};throw t}}};function Ob(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}const Ss={debug:!!(globalThis&&E_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let j_=class extends jf{};class oC extends jf{}async function A_(i,e,t){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,a.name);try{return await t()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,a.name)}}else{if(e===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new j_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ss.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}const Rb={};async function lC(i,e,t){var s;const a=(s=Rb[i])!==null&&s!==void 0?s:Promise.resolve(),o=Promise.race([a.catch(()=>null),e>=0?new Promise((c,h)=>{setTimeout(()=>{h(new oC(`Acquring process lock with name "${i}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await t());return Rb[i]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await a,null;throw c}),await o}function cC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function O_(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function uC(i){return parseInt(i,16)}function hC(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function dC(i){var e;const{chainId:t,domain:s,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:d,resources:f,scheme:y,uri:b,version:v}=i;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=O_(i.address),S=y?`${y}://${s}`:s,w=i.statement?`${i.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${_}

${w}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(C+=`
Expiration Time: ${a.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let j=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);j+=`
- ${A}`}C+=j}return`${T}
${C}`}class dt extends Error{constructor({message:e,code:t,cause:s,name:a}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=a??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Ac extends dt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function fC({error:i,options:e}){var t,s,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new dt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(R_(c)){if(o.rp.id!==c)return new dt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function gC({error:i,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new dt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(R_(s)){if(t.rpId!==s)return new dt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class pC{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const mC=new pC;function yC(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:t,excludeCredentials:s}=i,a=Ua(i,["challenge","user","excludeCredentials"]),o=Oa(e).buffer,c=Object.assign(Object.assign({},t),{id:Oa(t.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:o,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Oa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function bC(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:t}=i,s=Ua(i,["challenge","allowCredentials"]),a=Oa(e).buffer,o=Object.assign(Object.assign({},s),{challenge:a});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Oa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function vC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i;return{id:i.id,rawId:i.id,response:{attestationObject:js(new Uint8Array(i.response.attestationObject)),clientDataJSON:js(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function _C(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i,s=i.getClientExtensionResults(),a=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:js(new Uint8Array(a.authenticatorData)),clientDataJSON:js(new Uint8Array(a.clientDataJSON)),signature:js(new Uint8Array(a.signature)),userHandle:a.userHandle?js(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function R_(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Mb(){var i,e;return!!(Et()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function xC(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ac("Browser returned unexpected credential type",e)}:{data:null,error:new Ac("Empty credential response",e)}}catch(e){return{data:null,error:fC({error:e,options:i})}}}async function SC(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ac("Browser returned unexpected credential type",e)}:{data:null,error:new Ac("Empty credential response",e)}}catch(e){return{data:null,error:gC({error:e,options:i})}}}const wC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Oc(...i){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of i)if(a)for(const o in a){const c=a[o];if(c!==void 0)if(Array.isArray(c))s[o]=c;else if(t(c))s[o]=c;else if(e(c)){const h=s[o];e(h)?s[o]=Oc(h,c):s[o]=Oc(c)}else s[o]=c}return s}function EC(i,e){return Oc(wC,i,e||{})}function CC(i,e){return Oc(TC,i,e||{})}class jC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:a},o){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=a??mC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=EC(c.webauthn.credential_options.publicKey,o?.create),{data:y,error:b}=await xC({publicKey:f,signal:d});return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const f=CC(c.webauthn.credential_options.publicKey,o?.request),{data:y,error:b}=await SC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return y?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(c){return de(c)?{data:null,error:c}:{data:null,error:new Hi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new Na("rpId is required for WebAuthn authentication")};try{if(!Mb())return{data:null,error:new Hi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:a},{request:o});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return de(c)?{data:null,error:c}:{data:null,error:new Hi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!t)return{data:null,error:new Na("rpId is required for WebAuthn registration")};try{if(!Mb())return{data:null,error:new Hi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:a},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return de(c)?{data:null,error:c}:{data:null,error:new Hi("Unexpected error in register",c)}}}}cC();const AC={url:AE,storageKey:OE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function kb(i,e,t){return await t()}const xa={};let Af=class sf{get jwks(){var e,t;return(t=(e=xa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){xa[this.storageKey]=Object.assign(Object.assign({},xa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=xa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xa[this.storageKey]=Object.assign(Object.assign({},xa[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},AC),e);if(this.storageKey=o.storageKey,this.instanceID=(t=sf.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,sf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Et()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Cf({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=C_(o.fetch),this.lock=o.lock||kb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Et()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=A_:this.lock=kb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:E_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ob(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Ob(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${b_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Et()&&(t=FE(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Et()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),w_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return de(t)?this._returnResult({error:t}):this._returnResult({error:new Hi("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,a;try{const o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:_n}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,s,a;try{let o;if("email"in e){const{email:y,password:b,options:v}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await va(this.storage,this.storageKey)),o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:y,password:b,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},xform:_n})}else if("phone"in e){const{phone:y,password:b,options:v}=e;o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:_n})}else throw new Qr("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return await Tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:h}=e;t=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:jb})}else if("phone"in e){const{phone:o,password:c,options:h}=e;t=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:jb})}else throw new Qr("You must provide either an email or phone number and a password");const{data:s,error:a}=t;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const o=new _s;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,a,o,c,h,d,f,y,b,v;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:w,wallet:T,statement:C,options:j}=e;let A;if(Et())if(typeof T=="object")A=T;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")A=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=T}const k=new URL((t=j?.url)!==null&&t!==void 0?t:window.location.href),N=await A.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=O_(N[0]);let D=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const z=await A.request({method:"eth_chainId"});D=uC(z)}const V={domain:k.host,address:q,statement:C,uri:k.href,version:"1",chainId:D,nonce:(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(y=j?.signInWithEthereum)===null||y===void 0?void 0:y.resources};_=dC(V),S=await A.request({method:"personal_sign",params:[hC(_),q]})}try{const{data:w,error:T}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_n});if(T)throw T;if(!w||!w.session||!w.user){const C=new _s;return this._returnResult({data:{user:null,session:null},error:C})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:T})}catch(w){if(de(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var t,s,a,o,c,h,d,f,y,b,v,_;let S,w;if("message"in e)S=e.message,w=e.signature;else{const{chain:T,wallet:C,statement:j,options:A}=e;let k;if(Et())if(typeof C=="object")k=C;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))k=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=C}const N=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in k&&k.signIn){const q=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),j?{statement:j}:null));let D;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")D=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)D=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)S=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),w=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(y=A?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const q=await k.signMessage(new TextEncoder().encode(S),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=q}}try{const{data:T,error:C}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:js(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:_n});if(C)throw C;if(!T||!T.session||!T.user){const j=new _s;return this._returnResult({data:{user:null,session:null},error:j})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(de(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const t=await ps(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(t??"").split("/");try{const{data:o,error:c}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:_n});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new _s;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:a,access_token:o,nonce:c}=e,h=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:_n}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const y=new _s;return this._returnResult({data:{user:null,session:null},error:y})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,a,o,c;try{if("email"in e){const{email:h,options:d}=e;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await va(this.storage,this.storageKey));const{error:b}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:y},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:h,options:d}=e,{data:f,error:y}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:y})}throw new Qr("You must provide either an email or phone number.")}catch(h){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,s;try{let a,o;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:_n});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var t,s,a,o,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await va(this.storage,this.storageKey));const f=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:sC});return!((o=f.data)===null||o===void 0)&&o.url&&Et()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(h){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ft;const{error:a}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(de(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:o}=e,{error:c}=await be(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:a,options:o}=e,{data:c,error:h}=await be(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Qr("You must provide either an email or phone number and a type")}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<wd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await ps(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Ed()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=eC(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fi}):await this._useSession(async t=>{var s,a,o;const{data:c,error:h}=t;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Fi})})}catch(t){if(de(t))return S_(t)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:a,error:o}=s;if(o)throw o;if(!a.session)throw new Ft;const c=a.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await va(this.storage,this.storageKey));const{data:f,error:y}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Fi});if(y)throw y;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const t=Date.now()/1e3;let s=t,a=!0,o=null;const{payload:c}=Td(e.access_token);if(c.exp&&(s=c.exp,a=s<=t),a){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(de(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ft;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(de(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Et())throw new Jr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new tf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tf("No code detected.");const{data:j,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:h,expires_at:d,token_type:f}=e;if(!o||!h||!c||!f)throw new Jr("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(h);let v=y+b;d&&(v=parseInt(d));const _=v-y;_*1e3<=Ca&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const S=v-b;y-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,y):y-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,y);const{data:w,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:s,provider_refresh_token:a,access_token:o,expires_in:b,expires_at:v,refresh_token:c,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(de(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:a,error:o}=t;if(o)return this._returnResult({error:o});const c=(s=a.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(x_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=HE(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,a;try{const{data:{session:o},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await va(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:a}=await this._useSession(async o=>{var c,h,d,f,y;const{data:b,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Et()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(de(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:a,data:{session:o}}=t;if(a)throw a;const{options:c,provider:h,token:d,access_token:f,nonce:y}=e,b=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:d,access_token:f,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:_n}),{data:v,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new _s}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(a){if(await Tt(this.storage,`${this.storageKey}-code-verifier`),de(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,a;const{data:o,error:c}=t;if(c)throw c;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await $E(async a=>(a>0&&await qE(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_n})),(a,o)=>{const c=200*Math.pow(2,a);return o&&mc(o)&&Date.now()+c-s<Ca})}catch(s){if(this._debug(t,"error",s),de(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Et()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ps(this.storage,this.storageKey);if(a&&this.userStorage){let c=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ja(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c?.user)!==null&&e!==void 0?e:Ed()}else if(a&&!a.user&&!a.user){const c=await ps(this.storage,this.storageKey+"-user");c&&c?.user?(a.user=c.user,await Tt(this.storage,this.storageKey+"-user"),await ja(this.storage,this.storageKey,a)):a.user=Ed()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<wd;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${wd}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),mc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&c?.user?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new qc;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Ft;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),de(o)){const c={data:null,error:o};return mc(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Tt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await ja(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const o=Eb(a);await ja(this.storage,this.storageKey,o)}else{const a=Eb(t);await ja(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ca);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Ca);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ca}ms, refresh threshold is ${Zd} ticks`),a<=Zd&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const a=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,c]=await va(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);a.push(o.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:a,error:o}=t;return o?this._returnResult({data:null,error:o}):await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,a;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await be(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vC(e.webauthn.credential_response):_C(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:yC(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:bC(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Td(s.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(y=>y.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Ft});const c=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Et()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Ft});const c=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Et()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(e){if(de(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ft})})}catch(t){if(de(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(h=>h.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+kE>a)return s;const{data:o,error:c}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,s=o.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});s=_.session.access_token}const{header:a,payload:o,signature:c,raw:{header:h,payload:d}}=Td(s);t?.allowExpired||QE(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:_}=await this.getUser(s);if(_)throw _;return{data:{claims:o,header:a,signature:c},error:null}}const y=JE(a.alg),b=await crypto.subtle.importKey("jwk",f,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,c,BE(`${h}.${d}`)))throw new Cc("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(s){if(de(s))return this._returnResult({data:null,error:s});throw s}}};Af.nextInstanceID={};const OC=Cf,RC=Af,MC=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:OC,AuthApiError:__,AuthClient:RC,AuthError:Na,AuthImplicitGrantRedirectError:Jr,AuthInvalidCredentialsError:Qr,AuthInvalidJwtError:Cc,AuthInvalidTokenResponseError:_s,AuthPKCEGrantCodeExchangeError:tf,AuthRetryableFetchError:Ec,AuthSessionMissingError:Ft,AuthUnknownError:Hi,AuthWeakPasswordError:nf,CustomAuthError:di,GoTrueAdminApi:Cf,GoTrueClient:Af,NavigatorLockAcquireTimeoutError:j_,SIGN_OUT_SCOPES:yc,isAuthApiError:x_,isAuthError:de,isAuthImplicitGrantRedirectError:w_,isAuthRetryableFetchError:mc,isAuthSessionMissingError:S_,isAuthWeakPasswordError:DE,lockInternals:Ss,navigatorLock:A_,processLock:lC},Symbol.toStringTag,{value:"Module"})),M_=vo(MC);var Db;function kC(){if(Db)return Ir;Db=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.SupabaseAuthClient=void 0;const i=M_;let e=class extends i.AuthClient{constructor(s){super(s)}};return Ir.SupabaseAuthClient=e,Ir}var Nb;function Pb(){if(Nb)return $l;Nb=1,Object.defineProperty($l,"__esModule",{value:!0});const i=$0,e=X0(),t=s_,s=wE,a=EE(),o=CE(),c=jE(),h=kC();class d{constructor(y,b,v){var _,S,w;this.supabaseUrl=y,this.supabaseKey=b;const T=(0,c.validateSupabaseUrl)(y);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",T),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",T),this.storageUrl=new URL("storage/v1",T),this.functionsUrl=new URL("functions/v1",T);const C=`sb-${T.hostname.split(".")[0]}-auth-token`,j={db:a.DEFAULT_DB_OPTIONS,realtime:a.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},a.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:a.DEFAULT_GLOBAL_OPTIONS},A=(0,c.applySettingDefaults)(v??{},j);this.storageKey=(_=A.auth.storageKey)!==null&&_!==void 0?_:"",this.headers=(S=A.global.headers)!==null&&S!==void 0?S:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(k,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((w=A.auth)!==null&&w!==void 0?w:{},this.headers,A.global.fetch),this.fetch=(0,o.fetchWithAuth)(b,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(k=>this.realtime.setAuth(k)).catch(k=>console.warn("Failed to set initial Realtime auth token:",k)),this.rest=new e.PostgrestClient(new URL("rest/v1",T).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,b={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,b,v)}channel(y,b={config:{}}){return this.realtime.channel(y,b)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,b;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(b=(y=v.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:b,detectSessionInUrl:v,storage:_,userStorage:S,storageKey:w,flowType:T,lock:C,debug:j,throwOnError:A},k,N){const q={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},q),k),storageKey:w,autoRefreshToken:y,persistSession:b,detectSessionInUrl:v,storage:_,userStorage:S,flowType:T,lock:C,debug:j,throwOnError:A,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(D=>D.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new t.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,v)=>{this._handleTokenChanged(b,"CLIENT",v?.access_token)})}_handleTokenChanged(y,b,v){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return $l.default=d,$l}var Lb;function DC(){return Lb||(Lb=1,(function(i){var e=ii&&ii.__createBinding||(Object.create?(function(y,b,v,_){_===void 0&&(_=v);var S=Object.getOwnPropertyDescriptor(b,v);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(y,_,S)}):(function(y,b,v,_){_===void 0&&(_=v),y[_]=b[v]})),t=ii&&ii.__exportStar||function(y,b){for(var v in y)v!=="default"&&!Object.prototype.hasOwnProperty.call(b,v)&&e(b,y,v)},s=ii&&ii.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const a=s(Pb());t(M_,i);var o=X0();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=$0;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),t(s_,i);var h=Pb();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return s(h).default}});const d=(y,b,v)=>new a.default(y,b,v);i.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const b=y.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ii)),ii}var k_=DC();const D_=df(k_),NC=Fw({__proto__:null,default:D_},[k_]),{PostgrestError:uM,FunctionsHttpError:hM,FunctionsFetchError:dM,FunctionsRelayError:fM,FunctionsError:gM,FunctionRegion:pM,SupabaseClient:mM,createClient:PC,GoTrueAdminApi:yM,GoTrueClient:bM,AuthAdminApi:vM,AuthClient:_M,navigatorLock:xM,NavigatorLockAcquireTimeoutError:SM,lockInternals:wM,processLock:TM,SIGN_OUT_SCOPES:EM,AuthError:CM,AuthApiError:jM,AuthUnknownError:AM,CustomAuthError:OM,AuthSessionMissingError:RM,AuthInvalidTokenResponseError:MM,AuthInvalidCredentialsError:kM,AuthImplicitGrantRedirectError:DM,AuthPKCEGrantCodeExchangeError:NM,AuthRetryableFetchError:PM,AuthWeakPasswordError:LM,AuthInvalidJwtError:zM,isAuthError:BM,isAuthApiError:UM,isAuthSessionMissingError:HM,isAuthImplicitGrantRedirectError:FM,isAuthRetryableFetchError:IM,isAuthWeakPasswordError:qM,RealtimePresence:$M,RealtimeChannel:VM,RealtimeClient:GM,REALTIME_LISTEN_TYPES:WM,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:YM,REALTIME_PRESENCE_LISTEN_EVENTS:KM,REALTIME_SUBSCRIBE_STATES:XM,REALTIME_CHANNEL_STATES:QM}=D_||NC,LC="https://gimldhrqyzpgaxfueokt.supabase.co",zC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpbWxkaHJxeXpwZ2F4ZnVlb2t0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNzAwMzksImV4cCI6MjA4MDk0NjAzOX0.jGLt8yyu9psWRus5ksfY-dBvhTfgF3o5SHx2Ngwy0VE",Je=PC(LC,zC),BC=async()=>{const e=`INV-${new Date().getFullYear()}-`,{data:t}=await Je.from("invoices").select("invoice_no").like("invoice_no",`${e}%`).order("invoice_no",{ascending:!1}).limit(1).maybeSingle();if(t){const a=parseInt(t.invoice_no.split("-")[2])+1;return`${e}${String(a).padStart(3,"0")}`}return`${e}001`},UC=async i=>{try{const{client:e,meta:t,items:s,vatRate:a,discount:o,notes:c}=i,h=s.reduce((T,C)=>T+C.qty*C.unitPrice,0),d=Math.max(h-o,0),f=d*a/100,y=d+f;let b=null;if(e.name||e.email){const{data:T}=await Je.from("clients").select("id").eq("email",e.email).maybeSingle();if(T)b=T.id;else{const{data:C,error:j}=await Je.from("clients").insert({name:e.name,company:e.company,address:e.address,phone:e.phone,email:e.email,site_address:e.siteAddress}).select().single();if(j)throw j;b=C.id}}const v=await BC(),{data:_,error:S}=await Je.from("invoices").insert({invoice_no:v,client_id:b,project_name:t.projectName,invoice_date:t.date,due_date:t.dueDate||null,subtotal:h,discount:o,vat_rate:a,vat_amount:f,total:y,notes:c,status:"draft"}).select().single();if(S)throw S;const w=_.id;for(let T=0;T<s.length;T++){const C=s[T],j=C.qty*C.unitPrice,{data:A,error:k}=await Je.from("invoice_items").insert({invoice_id:w,category:C.category,code:C.code,description:C.description,dimensions:C.dimensions,qty:C.qty,unit_price:C.unitPrice,line_total:j,image_url:C.image||null,sort_order:T}).select().single();if(k)throw k;if(C.materials&&C.materials.length>0){const N=C.materials.map(D=>({invoice_item_id:A.id,material_name:D.name,unit:D.unit,qty_per_item:D.qty,total_qty:D.qty*C.qty,unit_cost:D.cost,total_cost:D.cost*D.qty*C.qty})),{error:q}=await Je.from("item_materials").insert(N);if(q)throw q}}return{success:!0,invoiceId:w,invoiceNo:v}}catch(e){return console.error("Error saving invoice:",e),console.error("Error details:",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),{success:!1,error:e}}},N_=async i=>{try{const{data:e,error:t}=await Je.from("invoices").select(`
        *,
        clients (
          name,
          company,
          address,
          phone,
          email,
          site_address
        )
      `).eq("id",i).single();if(t)throw t;const{data:s,error:a}=await Je.from("invoice_items").select("*").eq("invoice_id",i).order("sort_order",{ascending:!0});if(a)throw a;const o=await Promise.all(s.map(async c=>{const{data:h,error:d}=await Je.from("item_materials").select("*").eq("invoice_item_id",c.id);if(d)throw d;return{...c,materials:h||[]}}));return{success:!0,data:{invoice:e,items:o}}}catch(e){return console.error("Error fetching invoice details:",e),{success:!1,error:e}}},HC=({toast:i,onClose:e})=>{const[t,s]=L.useState(!1);L.useEffect(()=>{const d=i.duration||5e3,f=setTimeout(()=>s(!0),d-300),y=setTimeout(()=>e(i.id),d);return()=>{clearTimeout(f),clearTimeout(y)}},[i.id,i.duration,e]);const a=()=>{s(!0),setTimeout(()=>e(i.id),300)},o={success:{bg:"#065f46",border:"#10b981",icon:"#34d399"},error:{bg:"#7f1d1d",border:"#ef4444",icon:"#f87171"},info:{bg:"#1e3a5f",border:"#3b82f6",icon:"#60a5fa"},warning:{bg:"#78350f",border:"#f59e0b",icon:"#fbbf24"}},c={success:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",error:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z",info:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",warning:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},h=o[i.type];return p.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,padding:"16px 20px",background:h.bg,border:`1px solid ${h.border}`,borderRadius:12,boxShadow:"0 10px 40px rgba(0,0,0,0.4)",minWidth:320,maxWidth:420,animation:t?"slideOut 0.3s ease-out forwards":"slideIn 0.3s ease-out"},children:[p.jsx("svg",{style:{width:24,height:24,flexShrink:0,marginTop:2},fill:"none",stroke:h.icon,viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:c[i.type]})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontWeight:600,color:"#fff",fontSize:15,marginBottom:i.message?4:0},children:i.title}),i.message&&p.jsx("div",{style:{color:"rgba(255,255,255,0.8)",fontSize:14,lineHeight:1.5},children:i.message})]}),p.jsx("button",{onClick:a,style:{background:"transparent",border:"none",color:"rgba(255,255,255,0.6)",cursor:"pointer",padding:4,marginTop:-4,marginRight:-8,transition:"color 0.2s"},onMouseEnter:d=>d.currentTarget.style.color="#fff",onMouseLeave:d=>d.currentTarget.style.color="rgba(255,255,255,0.6)",children:p.jsx("svg",{style:{width:20,height:20},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},Of=({toasts:i,onClose:e})=>i.length===0?null:p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
          @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
          }
          @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
          }
        `}),p.jsx("div",{style:{position:"fixed",top:20,right:20,zIndex:9999,display:"flex",flexDirection:"column",gap:12},children:i.map(t=>p.jsx(HC,{toast:t,onClose:e},t.id))})]}),Rf=()=>{const[i,e]=L.useState([]),t=(d,f,y,b)=>{const v=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;e(_=>[..._,{id:v,type:d,title:f,message:y,duration:b}])};return{toasts:i,removeToast:d=>{e(f=>f.filter(y=>y.id!==d))},success:(d,f,y)=>t("success",d,f,y),error:(d,f,y)=>t("error",d,f,y),info:(d,f,y)=>t("info",d,f,y),warning:(d,f,y)=>t("warning",d,f,y)}},zb=({isOpen:i,title:e,message:t,confirmText:s="OK",cancelText:a="Cancel",confirmVariant:o="primary",onConfirm:c,onCancel:h})=>{const d=L.useRef(null),f=L.useRef(null);if(L.useEffect(()=>(i?(f.current?.focus(),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.body.style.overflow=""}),[i]),L.useEffect(()=>{const v=_=>{i&&_.key==="Escape"&&h()};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[i,h]),!i)return null;const y=v=>{v.target===v.currentTarget&&h()},b=o==="danger"?{background:"linear-gradient(135deg, #991b1b 0%, #dc2626 100%)",color:"#fff"}:{background:"linear-gradient(135deg, #0369a1 0%, #0ea5e9 100%)",color:"#fff"};return p.jsxs(p.Fragment,{children:[p.jsx("style",{children:`
          @keyframes modalFadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes modalSlideIn {
            from { transform: scale(0.95) translateY(-10px); opacity: 0; }
            to { transform: scale(1) translateY(0); opacity: 1; }
          }
        `}),p.jsx("div",{onClick:y,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,animation:"modalFadeIn 0.2s ease-out",padding:20},children:p.jsxs("div",{ref:d,style:{background:"linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",border:"1px solid #334155",borderRadius:16,padding:0,maxWidth:420,width:"100%",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",animation:"modalSlideIn 0.25s ease-out"},children:[p.jsxs("div",{style:{padding:"24px 24px 16px",borderBottom:"1px solid #334155"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[p.jsx("div",{style:{width:40,height:40,borderRadius:10,background:o==="danger"?"rgba(220, 38, 38, 0.15)":"rgba(14, 165, 233, 0.15)",display:"flex",alignItems:"center",justifyContent:"center"},children:o==="danger"?p.jsx("svg",{width:"22",height:"22",fill:"none",stroke:"#f87171",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):p.jsx("svg",{width:"22",height:"22",fill:"none",stroke:"#38bdf8",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),p.jsx("h2",{style:{margin:0,color:"#f1f5f9",fontSize:20,fontWeight:600},children:e})]}),p.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:15,lineHeight:1.6,paddingLeft:52},children:t})]}),p.jsxs("div",{style:{padding:"16px 24px",display:"flex",justifyContent:"flex-end",gap:12},children:[p.jsx("button",{onClick:h,style:{padding:"10px 20px",background:"#374151",border:"none",borderRadius:8,color:"#e5e7eb",fontSize:14,fontWeight:500,cursor:"pointer",transition:"background 0.2s"},onMouseEnter:v=>v.currentTarget.style.background="#4b5563",onMouseLeave:v=>v.currentTarget.style.background="#374151",children:a}),p.jsx("button",{ref:f,onClick:c,style:{padding:"10px 24px",border:"none",borderRadius:8,fontSize:14,fontWeight:600,cursor:"pointer",transition:"transform 0.15s, box-shadow 0.15s",...b},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-1px)",v.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.3)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="none"},children:s})]})]})})]})},FC=()=>{const i=Rf(),[e]=L.useState({name:"Meduza Studio Works",logoUrl:"/Company%20Logo.svg",address:"Tolon, El Sayeda Zeinab, Cairo , Egypt",phone:"+20 1146700228 / +20 1018705558",email:"info@meduzafurniture.com"}),[t,s]=L.useState({name:"Client Name",company:"Client Company",address:"Client Billing Address",phone:"+20 100 000 0000",email:"client@example.com",siteAddress:"Site / Delivery Address"}),[a,o]=L.useState({invoiceNo:"",date:new Date().toISOString().slice(0,10),dueDate:"",projectName:"Project Name"}),[c,h]=L.useState(14),[d,f]=L.useState(0),[y,b]=L.useState([]),[v,_]=L.useState(""),[S,w]=L.useState({mouskiRate:24e3,zanRate:36e3,aroRate:85e3,beechPineRate:78e3,mdf10RatePerSheet:650,mdf16RatePerSheet:1050,mdf21RatePerSheet:1350,blockboard18RatePerSheet:1650,walnutVeneerRatePerM2:310,oakVeneerRatePerM2:210,beechVeneerRatePerM2:210,hplRatePerSheet:650,lplRatePerSheet:350,finishPuMatteRatePerM2:350,finishPuHighGlossRatePerM2:420,finishNcRatePerM2:280,finishOilRatePerM2:250,glass6RatePerM2:1350,glass10RatePerM2:1750,marbleRatePerM2:4500,ply25RatePerSheet:200,ply27RatePerSheet:390,ply8RatePerSheet:1050,ply12RatePerSheet:1450,ply18RatePerSheet:2050,foamboardRatePerSheet:2100,upholsterySeatOnly:500,upholsteryFull:700,upholsteryArmFull:900,upholsterySofaLowPerM:1250,upholsterySofaHighPerM:1750,fabricLowRate:220,fabricHighRate:450,steelChassisCostPerPiece:1500,laborRatePerHour:160,defaultAccessories:1500,drawerRunnerRate:310,doorHingeRate:89,defaultProfitMargin:30,compliancePerItem:80}),[T,C]=L.useState(!1),[j,A]=L.useState(!1),[k,N]=L.useState(null),[q,D]=L.useState(!1),[V,z]=L.useState(null),[ee,W]=L.useState(!1),[B,G]=L.useState(null),[ae,re]=L.useState(!1),[U,Z]=L.useState(null),[ue,me]=L.useState(!1),[we,R]=L.useState(null),[K,ne]=L.useState(!1),[se,fe]=L.useState(!1);L.useEffect(()=>{localStorage.removeItem("invoice-preview");const Q=localStorage.getItem("invoice-draft");if(Q)try{const oe=JSON.parse(Q);oe.client&&s(oe.client),oe.meta&&o(oe.meta),oe.items&&oe.items.length>0&&b(oe.items),oe.vatRate!==void 0&&h(oe.vatRate),oe.discount!==void 0&&f(oe.discount),oe.notes!==void 0&&_(oe.notes),oe.pricingConfig&&w(oe.pricingConfig)}catch(oe){console.error("Failed to load draft:",oe)}},[]),L.useEffect(()=>{const Q={company:e,client:t,meta:a,items:y,vatRate:c,discount:d,notes:v,pricingConfig:S};localStorage.setItem("invoice-draft",JSON.stringify(Q))},[e,t,a,y,c,d,v,S]);const ge=(Q,oe,_e)=>{b(Cn=>Cn.map(gi=>gi.id===Q?{...gi,[oe]:oe==="qty"||oe==="unitPrice"?Number(_e||0):_e}:gi))},Oe=()=>{const Q={id:Date.now(),category:"Custom furniture",code:"",description:"",dimensions:"",qty:1,unitPrice:0};b(oe=>[...oe,Q])},ke=Q=>{const oe={id:Date.now(),category:Q,code:Q,description:"",dimensions:"",qty:1,unitPrice:0};b(_e=>[..._e,oe])},Ve=Q=>{b(oe=>oe.filter(_e=>_e.id!==Q))},Tn=(Q,oe)=>{const _e=oe.target.files?.[0];if(!_e)return;const Cn=new FileReader;Cn.onload=()=>{b(gi=>gi.map(Va=>Va.id===Q?{...Va,image:Cn.result}:Va))},Cn.readAsDataURL(_e)},et=()=>({company:e,client:t,meta:a,items:y,vatRate:c,discount:d,notes:v}),Yi=()=>{const Q=et();localStorage.setItem("saved-invoice",JSON.stringify(Q)),i.success("Invoice Saved","Invoice saved locally")},Ki=()=>{localStorage.removeItem("invoice-draft"),localStorage.removeItem("invoice-preview"),s({name:"Client Name",company:"Client Company",address:"Client Billing Address",phone:"+20 100 000 0000",email:"client@example.com",siteAddress:"Site / Delivery Address"}),o({invoiceNo:"",date:new Date().toISOString().slice(0,10),dueDate:"",projectName:"Project Name"}),b([]),h(14),f(0),_("")},ie=()=>{ne(!0)},bt=()=>{ne(!1),Ki()},$t=()=>{fe(!0)},En=async()=>{fe(!1);const Q=et(),oe=await UC(Q);oe.success?(i.success(`Invoice ${oe.invoiceNo} Saved!`,"View analytics in the Dashboard tab.",6e3),Ki()):(i.error("Save Failed","Failed to save invoice to database. Check the console for details."),console.error("Save failed:",oe.error))},Co=()=>{const Q=localStorage.getItem("saved-invoice");if(!Q){i.warning("No Saved Invoice","No locally saved invoice found.");return}try{const oe=JSON.parse(Q),_e=oe.items.map(Cn=>({category:Cn.category||"Custom furniture",...Cn}));s(oe.client),o(oe.meta),b(_e),h(oe.vatRate),f(oe.discount),_(oe.notes),i.success("Invoice Loaded","Invoice data restored from local storage.")}catch{i.error("Load Failed","Saved invoice data is corrupted.")}},Ia=Q=>{k&&(b(oe=>oe.map(_e=>_e.id===k?{..._e,unitPrice:Math.round(Q.price),description:Q.description,dimensions:Q.dimensions,materials:Q.materials??_e.materials}:_e)),A(!1))},qa=Q=>{V&&(b(oe=>oe.map(_e=>_e.id===V?{..._e,unitPrice:Math.round(Q.price),description:Q.description,materials:Q.materials??_e.materials}:_e)),D(!1))},$a=Q=>{we&&(b(oe=>oe.map(_e=>_e.id===we?{..._e,unitPrice:Math.round(Q.price),description:Q.description,dimensions:Q.dimensions||_e.dimensions,materials:Q.materials??_e.materials}:_e)),me(!1))},Kc=Q=>{B&&(b(oe=>oe.map(_e=>_e.id===B?{..._e,unitPrice:Math.round(Q.price),description:Q.description,dimensions:Q.dimensions||_e.dimensions,materials:Q.materials??_e.materials}:_e)),W(!1))},Xc=Q=>{U&&(b(oe=>oe.map(_e=>_e.id===U?{..._e,unitPrice:Math.round(Q.price),description:Q.description,materials:Q.materials??_e.materials}:_e)),re(!1))},Mt=Q=>!Q.dimensions||!Q.dimensions.trim()?(i.warning("Dimensions Required","Please enter item dimensions first (H x W x T cm)."),!1):!0,Qc=Q=>{Mt(Q)&&(Q.category==="Door"?(N(Q.id),A(!0)):Q.category==="Dining chair"||Q.category==="Arm chair"||Q.category==="Bar stool"||Q.category==="Bench"?(z(Q.id),D(!0)):Q.category==="Dining table"||Q.category==="Coffee table"||Q.category==="Side table"||Q.category==="Console table"?(G(Q.id),W(!0)):Q.category==="Sofa straight"||Q.category==="Sofa curved"?(Z(Q.id),re(!0)):Q.category==="Cabinet"?(R(Q.id),me(!0)):i.info("Costing Unavailable","Costing is available for doors, seating, tables, sofas and cabinets."))};return p.jsxs("div",{className:"app",children:[p.jsx(Of,{toasts:i.toasts,onClose:i.removeToast}),p.jsx(zb,{isOpen:K,title:"Clear Invoice",message:"Are you sure you want to clear all invoice data? This action cannot be undone.",confirmText:"Clear",cancelText:"Cancel",confirmVariant:"danger",onConfirm:bt,onCancel:()=>ne(!1)}),p.jsx(zb,{isOpen:se,title:"Submit Invoice",message:"Are you sure you want to add this invoice into the system? The invoice will be saved to the database.",confirmText:"Submit",cancelText:"Cancel",confirmVariant:"primary",onConfirm:En,onCancel:()=>fe(!1)}),p.jsxs("div",{className:"form-shell",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[p.jsx("h1",{className:"app-title",children:"Meduza Invoice Generator"}),p.jsx("button",{type:"button",className:"btn-outline",style:{whiteSpace:"nowrap"},onClick:()=>C(!0),children:"Pricing Settings"})]}),p.jsxs("section",{className:"card",children:[p.jsx("h2",{className:"card-title",children:"Client Info"}),p.jsx(te,{label:"Client Name",value:t.name,onChange:Q=>s({...t,name:Q})}),p.jsx(te,{label:"Client Company",value:t.company,onChange:Q=>s({...t,company:Q})}),p.jsx(te,{label:"Billing Address",value:t.address,onChange:Q=>s({...t,address:Q})}),p.jsx(te,{label:"Phone",value:t.phone,onChange:Q=>s({...t,phone:Q})}),p.jsx(te,{label:"Email",value:t.email,onChange:Q=>s({...t,email:Q})}),p.jsx(te,{label:"Site / Delivery Address",value:t.siteAddress,onChange:Q=>s({...t,siteAddress:Q})})]}),p.jsxs("section",{className:"card",children:[p.jsx("h2",{className:"card-title",children:"Invoice Details"}),p.jsx(te,{label:"Date",type:"date",value:a.date,onChange:Q=>o({...a,date:Q})}),p.jsx(te,{label:"Due Date",type:"date",value:a.dueDate,onChange:Q=>o({...a,dueDate:Q})}),p.jsx(te,{label:"Project Name",value:a.projectName,onChange:Q=>o({...a,projectName:Q})})]}),p.jsxs("section",{className:"card",children:[p.jsx("h2",{className:"card-title",children:"Quick Add Items"}),p.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Dining chair"),children:"+ Dining chair"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Arm chair"),children:"+ Arm chair"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Bar stool"),children:"+ Bar stool"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Bench"),children:"+ Bench"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Dining table"),children:"+ Dining table"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Cabinet"),children:"+ Cabinet"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Coffee table"),children:"+ Coffee table"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Side table"),children:"+ Side table"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Console table"),children:"+ Console table"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Sofa straight"),children:"+ Sofa (straight)"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Sofa curved"),children:"+ Sofa (curved)"}),p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>ke("Door"),children:"+ Door"})]})]}),p.jsxs("section",{className:"card",children:[p.jsx("h2",{className:"card-title",children:"Items"}),y.map(Q=>p.jsxs("div",{className:"item-card",children:[p.jsxs("div",{className:"item-row",children:[p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Item Type"}),p.jsxs("select",{className:"input",value:Q.category,onChange:oe=>ge(Q.id,"category",oe.target.value),children:[p.jsx("option",{value:"Door",children:"Door"}),p.jsx("option",{value:"Dining chair",children:"Dining chair"}),p.jsx("option",{value:"Arm chair",children:"Arm chair"}),p.jsx("option",{value:"Bar stool",children:"Bar stool"}),p.jsx("option",{value:"Bench",children:"Bench"}),p.jsx("option",{value:"Dining table",children:"Dining table"}),p.jsx("option",{value:"Cabinet",children:"Cabinet"}),p.jsx("option",{value:"Coffee table",children:"Coffee table"}),p.jsx("option",{value:"Side table",children:"Side table"}),p.jsx("option",{value:"Console table",children:"Console table"}),p.jsx("option",{value:"Sofa straight",children:"Sofa straight"}),p.jsx("option",{value:"Sofa curved",children:"Sofa curved"}),p.jsx("option",{value:"Custom furniture",children:"Custom furniture"})]})]}),p.jsx(te,{label:"Item Name (Invoice)",value:Q.code,onChange:oe=>ge(Q.id,"code",oe)})]}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Dimensions (H  W  T cm)",value:Q.dimensions,onChange:oe=>ge(Q.id,"dimensions",oe)}),p.jsx(te,{label:"Qty",type:"number",value:String(Q.qty),onChange:oe=>ge(Q.id,"qty",oe)}),p.jsx(te,{label:"Unit Price",type:"number",value:String(Q.unitPrice),onChange:oe=>ge(Q.id,"unitPrice",oe)})]}),p.jsx(te,{label:"Description",value:Q.description,onChange:oe=>ge(Q.id,"description",oe)}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Item Image"}),p.jsx("input",{type:"file",accept:"image/*",onChange:oe=>Tn(Q.id,oe)})]}),Q.image&&p.jsx("div",{className:"form-image-preview",children:p.jsx("img",{src:Q.image,alt:"Item Preview"})}),p.jsxs("div",{className:"item-footer",children:[p.jsxs("span",{children:["Line Total:"," ",p.jsx("strong",{children:(Q.qty*Q.unitPrice).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),p.jsxs("div",{style:{display:"flex",gap:8},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Qc(Q),children:"Costing"}),p.jsx("button",{type:"button",className:"btn-delete",onClick:()=>Ve(Q.id),children:"Remove"})]})]})]},Q.id)),p.jsx("button",{type:"button",className:"btn-outline",onClick:Oe,children:"+ Add Item"})]}),p.jsxs("section",{className:"card",children:[p.jsx("h2",{className:"card-title",children:"Totals & Tax"}),p.jsx(te,{label:"Discount (EGP)",type:"number",value:String(d),onChange:Q=>f(Number(Q||0))}),p.jsx(te,{label:"VAT %",type:"number",value:String(c),onChange:Q=>h(Number(Q||0))})]}),p.jsxs("section",{className:"card",children:[p.jsx("h2",{className:"card-title",children:"Notes / Terms"}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Notes"}),p.jsx("textarea",{className:"textarea",value:v,onChange:Q=>_(Q.target.value),rows:4})]})]}),p.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[p.jsx("button",{className:"btn-outline",onClick:Yi,children:"Save Locally"}),p.jsx("button",{className:"btn-outline",onClick:Co,children:"Load Local"}),p.jsx("button",{className:"btn-outline",onClick:ie,style:{marginLeft:"auto",color:"#dc2626"},children:"Clear Form"})]}),p.jsx("button",{className:"btn-primary",onClick:$t,children:"Submit"})]}),p.jsx(IC,{isOpen:T,config:S,onChange:w,onClose:()=>C(!1)}),p.jsx(qC,{isOpen:j,onClose:()=>A(!1),onApply:Ia,pricing:S}),p.jsx($C,{isOpen:q,onClose:()=>D(!1),onApply:qa,pricing:S}),p.jsx(VC,{isOpen:ee,onClose:()=>W(!1),onApply:Kc,pricing:S}),p.jsx(GC,{isOpen:ae,onClose:()=>re(!1),onApply:Xc,pricing:S}),p.jsx(WC,{isOpen:ue,onClose:()=>me(!1),onApply:$a,pricing:S})]})},IC=({isOpen:i,config:e,onChange:t,onClose:s})=>{const[a,o]=L.useState(e),c=(d,f)=>{o(y=>({...y,[d]:Number(f||0)}))},h=()=>{t(a),s()};return i?p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal-card",children:[p.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Pricing Settings"}),p.jsx("h3",{className:"card-title",style:{fontSize:12},children:"Natural Wood (EGP / m)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Mouski",type:"number",value:String(a.mouskiRate),onChange:d=>c("mouskiRate",d)}),p.jsx(te,{label:"Zan (Beech)",type:"number",value:String(a.zanRate),onChange:d=>c("zanRate",d)})]}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Aro (Oak)",type:"number",value:String(a.aroRate),onChange:d=>c("aroRate",d)}),p.jsx(te,{label:"Beech Pine",type:"number",value:String(a.beechPineRate),onChange:d=>c("beechPineRate",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"MDF Panels (EGP / sheet 122244)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"MDF 10 mm",type:"number",value:String(a.mdf10RatePerSheet),onChange:d=>c("mdf10RatePerSheet",d)}),p.jsx(te,{label:"MDF 16 mm",type:"number",value:String(a.mdf16RatePerSheet),onChange:d=>c("mdf16RatePerSheet",d)}),p.jsx(te,{label:"MDF 21 mm",type:"number",value:String(a.mdf21RatePerSheet),onChange:d=>c("mdf21RatePerSheet",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Blockboard & Marble"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Blockboard 18mm (sheet)",type:"number",value:String(a.blockboard18RatePerSheet),onChange:d=>c("blockboard18RatePerSheet",d)}),p.jsx(te,{label:"Marble (EGP / m)",type:"number",value:String(a.marbleRatePerM2),onChange:d=>c("marbleRatePerM2",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Veneer (EGP / m)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Walnut",type:"number",value:String(a.walnutVeneerRatePerM2),onChange:d=>c("walnutVeneerRatePerM2",d)}),p.jsx(te,{label:"Oak",type:"number",value:String(a.oakVeneerRatePerM2),onChange:d=>c("oakVeneerRatePerM2",d)}),p.jsx(te,{label:"Beech",type:"number",value:String(a.beechVeneerRatePerM2),onChange:d=>c("beechVeneerRatePerM2",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"HPL / LPL (EGP / sheet 122244)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"HPL",type:"number",value:String(a.hplRatePerSheet),onChange:d=>c("hplRatePerSheet",d)}),p.jsx(te,{label:"LPL",type:"number",value:String(a.lplRatePerSheet),onChange:d=>c("lplRatePerSheet",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Finish (EGP / m / face)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"PU matte",type:"number",value:String(a.finishPuMatteRatePerM2),onChange:d=>c("finishPuMatteRatePerM2",d)}),p.jsx(te,{label:"PU high gloss",type:"number",value:String(a.finishPuHighGlossRatePerM2),onChange:d=>c("finishPuHighGlossRatePerM2",d)})]}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"NC",type:"number",value:String(a.finishNcRatePerM2),onChange:d=>c("finishNcRatePerM2",d)}),p.jsx(te,{label:"Oil / stain",type:"number",value:String(a.finishOilRatePerM2),onChange:d=>c("finishOilRatePerM2",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Glass (EGP / m)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Glass 6mm white",type:"number",value:String(a.glass6RatePerM2),onChange:d=>c("glass6RatePerM2",d)}),p.jsx(te,{label:"Glass 10mm white",type:"number",value:String(a.glass10RatePerM2),onChange:d=>c("glass10RatePerM2",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Ply wood (EGP / sheet 122244)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"PLY 2.5mm",type:"number",value:String(a.ply25RatePerSheet),onChange:d=>c("ply25RatePerSheet",d)}),p.jsx(te,{label:"PLY 2.7mm",type:"number",value:String(a.ply27RatePerSheet),onChange:d=>c("ply27RatePerSheet",d)})]}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"PLY 8mm",type:"number",value:String(a.ply8RatePerSheet),onChange:d=>c("ply8RatePerSheet",d)}),p.jsx(te,{label:"PLY 12mm",type:"number",value:String(a.ply12RatePerSheet),onChange:d=>c("ply12RatePerSheet",d)}),p.jsx(te,{label:"PLY 18mm",type:"number",value:String(a.ply18RatePerSheet),onChange:d=>c("ply18RatePerSheet",d)}),p.jsx(te,{label:"Foamboard 18mm (sheet)",type:"number",value:String(a.foamboardRatePerSheet),onChange:d=>c("foamboardRatePerSheet",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (chairs / benches)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Seat only",type:"number",value:String(a.upholsterySeatOnly),onChange:d=>c("upholsterySeatOnly",d)}),p.jsx(te,{label:"Full seat",type:"number",value:String(a.upholsteryFull),onChange:d=>c("upholsteryFull",d)}),p.jsx(te,{label:"Full arm chair",type:"number",value:String(a.upholsteryArmFull),onChange:d=>c("upholsteryArmFull",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (sofas)  per meter"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Sofa upholstery low / m",type:"number",value:String(a.upholsterySofaLowPerM),onChange:d=>c("upholsterySofaLowPerM",d)}),p.jsx(te,{label:"Sofa upholstery high / m",type:"number",value:String(a.upholsterySofaHighPerM),onChange:d=>c("upholsterySofaHighPerM",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Fabric (EGP / meter)"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Fabric low (220)",type:"number",value:String(a.fabricLowRate),onChange:d=>c("fabricLowRate",d)}),p.jsx(te,{label:"Fabric high (450)",type:"number",value:String(a.fabricHighRate),onChange:d=>c("fabricHighRate",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Steel chassis"}),p.jsx("div",{className:"item-row",children:p.jsx(te,{label:"Steel chassis / piece",type:"number",value:String(a.steelChassisCostPerPiece),onChange:d=>c("steelChassisCostPerPiece",d)})}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Hardware"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Drawer runner / drawer",type:"number",value:String(a.drawerRunnerRate),onChange:d=>c("drawerRunnerRate",d)}),p.jsx(te,{label:"Door hinge / piece",type:"number",value:String(a.doorHingeRate),onChange:d=>c("doorHingeRate",d)})]}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Labor"}),p.jsx("div",{className:"item-row",children:p.jsx(te,{label:"Labor rate (EGP / hour)",type:"number",value:String(a.laborRatePerHour),onChange:d=>c("laborRatePerHour",d)})}),p.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Defaults & Compliance"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Default accessories (EGP)",type:"number",value:String(a.defaultAccessories),onChange:d=>c("defaultAccessories",d)}),p.jsx(te,{label:"Default profit margin %",type:"number",value:String(a.defaultProfitMargin),onChange:d=>c("defaultProfitMargin",d)}),p.jsx(te,{label:"Compliance / item (EGP)",type:"number",value:String(a.compliancePerItem),onChange:d=>c("compliancePerItem",d)})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:s,children:"Cancel"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:h,children:"Save"})]})]})}):null},qC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[a,o]=L.useState({heightCm:220,widthCm:90,thicknessCm:4,veneerType:"Oak",finishType:"PU matte",woodType:"Mouski",glassType:"None",glassAreaM2:0,accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,hasSteelChassis:!1,profitMargin:s.defaultProfitMargin}),c=(G,ae)=>{o(typeof ae=="boolean"?re=>({...re,[G]:ae}):re=>({...re,[G]:typeof re[G]=="number"?Number(ae||0):ae}))},h=a.heightCm/100*(a.widthCm/100),d=h*2,f=h*(a.thicknessCm/100),y=.045*(a.heightCm/220)*(a.widthCm/90);let b=s.mouskiRate;a.woodType==="Zan"&&(b=s.zanRate),a.woodType==="Aro"&&(b=s.aroRate),a.woodType==="BeechPine"&&(b=s.beechPineRate);const v=y*b,_=1.22*2.44,S=d/_,w=S*s.mdf10RatePerSheet;let T=0,C=0;if(a.veneerType==="Walnut")T=d*s.walnutVeneerRatePerM2;else if(a.veneerType==="Oak")T=d*s.oakVeneerRatePerM2;else if(a.veneerType==="Beech")T=d*s.beechVeneerRatePerM2;else if(a.veneerType==="HPL"||a.veneerType==="LPL"){const G=d/_;a.veneerType==="HPL"?T=G*s.hplRatePerSheet:a.veneerType==="LPL"&&(T=G*s.lplRatePerSheet),C=0}if(a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"){let G=0;a.finishType==="PU matte"?G=s.finishPuMatteRatePerM2:a.finishType==="PU high gloss"?G=s.finishPuHighGlossRatePerM2:a.finishType==="NC"?G=s.finishNcRatePerM2:a.finishType==="Oil / stain"&&(G=s.finishOilRatePerM2),C=d*G}let j=0;a.glassType==="Glass6"?j=a.glassAreaM2*s.glass6RatePerM2:a.glassType==="Glass10"&&(j=a.glassAreaM2*s.glass10RatePerM2);const A=a.hasSteelChassis?s.steelChassisCostPerPiece:0,k=a.laborHours*s.laborRatePerHour,N=v+w+T+C+j+A+a.accessoriesCost+a.overheadCost+k,q=N*a.profitMargin/100,D=N+q,V=a.veneerType==="HPL"||a.veneerType==="LPL",z=a.glassType==="Glass6"||a.glassType==="Glass10",ee=()=>{const G=[];let ae="Mouski";a.woodType==="Zan"?ae="Zan (Beech)":a.woodType==="Aro"?ae="Aro (Oak)":a.woodType==="BeechPine"&&(ae="Beech pine"),G.push(`Wood: ${ae}`);let re="";return a.veneerType==="Walnut"?re="Walnut veneer":a.veneerType==="Oak"?re="Oak veneer":a.veneerType==="Beech"?re="Beech veneer":a.veneerType==="HPL"?re="HPL facing":a.veneerType==="LPL"&&(re="LPL facing"),G.push(`Veneer: ${re}`),a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"?G.push(`Finish: ${a.finishType}`):G.push("Finish: none (HPL / LPL)"),a.glassType==="Glass6"?G.push(`Glass: 6mm white, ${a.glassAreaM2.toFixed(2)} m`):a.glassType==="Glass10"?G.push(`Glass: 10mm white, ${a.glassAreaM2.toFixed(2)} m`):G.push("Glass: none"),a.hasSteelChassis&&G.push("Steel chassis: yes"),G.join("  ")},W=[];if(y>0){let G="Mouski";a.woodType==="Zan"?G="Zan (Beech)":a.woodType==="Aro"?G="Aro (Oak)":a.woodType==="BeechPine"&&(G="Beech pine"),W.push({name:`Natural wood frame (${G})`,unit:"m",qty:parseFloat(y.toFixed(3)),cost:b})}if(S>0&&W.push({name:"MDF 10mm (door faces)",unit:"sheet",qty:parseFloat(S.toFixed(3)),cost:s.mdf10RatePerSheet}),a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"){let G=s.walnutVeneerRatePerM2;a.veneerType==="Oak"&&(G=s.oakVeneerRatePerM2),a.veneerType==="Beech"&&(G=s.beechVeneerRatePerM2),W.push({name:`${a.veneerType} veneer`,unit:"m",qty:parseFloat(d.toFixed(3)),cost:G});let ae=0;a.finishType==="PU matte"?ae=s.finishPuMatteRatePerM2:a.finishType==="PU high gloss"?ae=s.finishPuHighGlossRatePerM2:a.finishType==="NC"?ae=s.finishNcRatePerM2:a.finishType==="Oil / stain"&&(ae=s.finishOilRatePerM2),ae>0&&W.push({name:`Finish (${a.finishType})`,unit:"m",qty:parseFloat(d.toFixed(3)),cost:ae})}else if(a.veneerType==="HPL"||a.veneerType==="LPL"){const G=d/_,ae=a.veneerType==="HPL"?s.hplRatePerSheet:s.lplRatePerSheet;W.push({name:`${a.veneerType} laminate`,unit:"sheet",qty:parseFloat(G.toFixed(3)),cost:ae})}if(a.glassAreaM2>0&&(a.glassType==="Glass6"||a.glassType==="Glass10")){const G=a.glassType==="Glass6"?s.glass6RatePerM2:s.glass10RatePerM2;W.push({name:`Glass ${a.glassType==="Glass6"?"6mm":"10mm"}`,unit:"m",qty:parseFloat(a.glassAreaM2.toFixed(3)),cost:G})}a.hasSteelChassis&&W.push({name:"Steel chassis",unit:"piece",qty:1,cost:s.steelChassisCostPerPiece}),a.accessoriesCost>0&&W.push({name:"Accessories",unit:"EGP",qty:1,cost:a.accessoriesCost}),a.overheadCost>0&&W.push({name:"Overhead",unit:"EGP",qty:1,cost:a.overheadCost}),a.laborHours>0&&W.push({name:"Labor",unit:"hour",qty:a.laborHours,cost:s.laborRatePerHour});const B=()=>{const G=ee(),ae=`${a.heightCm}${a.widthCm}${a.thicknessCm} cm`;t({price:D,description:G,dimensions:ae,materials:W})};return i?p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal-card",children:[p.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Door Costing"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Height (cm)",type:"number",value:String(a.heightCm),onChange:G=>c("heightCm",G)}),p.jsx(te,{label:"Width (cm)",type:"number",value:String(a.widthCm),onChange:G=>c("widthCm",G)}),p.jsx(te,{label:"Thickness (cm)",type:"number",value:String(a.thicknessCm),onChange:G=>c("thicknessCm",G)})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Frame wood type"}),p.jsxs("select",{className:"input",value:a.woodType,onChange:G=>c("woodType",G.target.value),children:[p.jsx("option",{value:"Mouski",children:"Mouski"}),p.jsx("option",{value:"Zan",children:"Zan (Beech)"}),p.jsx("option",{value:"Aro",children:"Aro (Oak)"}),p.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Facing / Skin Type"}),p.jsxs("select",{className:"input",value:a.veneerType,onChange:G=>c("veneerType",G.target.value),children:[p.jsx("option",{value:"Walnut",children:"Walnut veneer"}),p.jsx("option",{value:"Oak",children:"Oak veneer"}),p.jsx("option",{value:"Beech",children:"Beech veneer"}),p.jsx("option",{value:"HPL",children:"HPL"}),p.jsx("option",{value:"LPL",children:"LPL"})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Finish Type"}),p.jsxs("select",{className:"input",value:a.finishType,onChange:G=>c("finishType",G.target.value),disabled:V,children:[p.jsx("option",{children:"PU matte"}),p.jsx("option",{children:"PU high gloss"}),p.jsx("option",{children:"NC"}),p.jsx("option",{children:"Oil / stain"})]}),V&&p.jsx("span",{style:{fontSize:10,color:"#9ca3af",marginTop:2,display:"block"},children:"HPL / LPL     (Finish cost = 0)"})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Glass"}),p.jsxs("select",{className:"input",value:a.glassType,onChange:G=>c("glassType",G.target.value),children:[p.jsx("option",{value:"None",children:"No glass"}),p.jsx("option",{value:"Glass6",children:"Glass 6mm white"}),p.jsx("option",{value:"Glass10",children:"Glass 10mm white"})]})]}),z&&p.jsx(te,{label:"Glass area (m)",type:"number",value:String(a.glassAreaM2),onChange:G=>c("glassAreaM2",G)}),p.jsx(te,{label:"Accessories (EGP)",type:"number",value:String(a.accessoriesCost),onChange:G=>c("accessoriesCost",G)}),p.jsx(te,{label:"Overhead (EGP)",type:"number",value:String(a.overheadCost),onChange:G=>c("overheadCost",G)}),p.jsx(te,{label:"Labor hours",type:"number",value:String(a.laborHours),onChange:G=>c("laborHours",G)}),p.jsxs("label",{className:"field field-inline",children:[p.jsx("span",{className:"field-label",children:"Steel chassis"}),p.jsx("input",{type:"checkbox",checked:a.hasSteelChassis,onChange:G=>c("hasSteelChassis",G.target.checked)}),p.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),p.jsx(te,{label:"Profit Margin %",type:"number",value:String(a.profitMargin),onChange:G=>c("profitMargin",G)}),p.jsxs("div",{style:{fontSize:11,marginTop:8},children:[p.jsxs("div",{children:["Leaf area (one face): ",h.toFixed(2)," m"]}),p.jsxs("div",{children:["Area both faces: ",d.toFixed(2)," m"]}),p.jsxs("div",{children:["Leaf volume: ",f.toFixed(3)," m"]}),p.jsxs("div",{children:["Frame volume (natural wood): ",y.toFixed(3)," m"]}),p.jsxs("div",{children:["Natural wood cost: ",v.toFixed(0)," EGP"]}),p.jsxs("div",{children:["MDF 10mm (both faces): ",w.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Skin / veneer / HPL / LPL: ",T.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Finish cost: ",C.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Glass cost: ",j.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Accessories: ",a.accessoriesCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Overhead: ",a.overheadCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Labor: ",a.laborHours.toFixed(2)," h "," ",s.laborRatePerHour," = ",k.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Steel chassis: ",A.toFixed(0)," EGP"]}),p.jsx("div",{style:{marginTop:4},children:p.jsxs("strong",{children:["Material cost: ",N.toFixed(0)," EGP"]})}),p.jsxs("div",{children:["Profit (",a.profitMargin,"%): ",q.toFixed(0)," EGP"]}),p.jsx("div",{children:p.jsxs("strong",{children:["Suggested selling price / door: ",D.toFixed(0)," EGP"]})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:B,children:"Apply to Item"})]})]})}):null},$C=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const a=(B,G)=>B==="Dining chair"?G==="Light"?.025:.035:B==="Bar stool"?G==="Light"?.03:.04:B==="Bench"?G==="Light"?.035:.05:G==="Light"?.04:.06,o=(B,G)=>B==="Dining chair"?G==="Light"?3:4:B==="Bar stool"?G==="Light"?3:4.5:B==="Bench"?G==="Light"?3.5:5:G==="Light"?4:5.5,[c,h]=L.useState(()=>{const B="Dining chair",G="Light";return{itemType:B,detailLevel:G,solidVolumeM3:a(B,G),woodType:"Mouski",hasPly:!1,plyThickness:"2.7",plySheets:2,areaM2:1.2,veneerType:"None",finishType:"PU matte",upholsteryType:"Seat only",fabricType:"Low",fabricMeters:1.5,hasSteelChassis:!1,overheadCost:350,laborHours:o(B,G),profitMargin:s.defaultProfitMargin}}),d=(B,G)=>{h(ae=>{const re={...ae,[B]:G};if(B==="itemType"||B==="detailLevel"){const U=B==="itemType"?G:re.itemType,Z=B==="detailLevel"?G:re.detailLevel;re.solidVolumeM3=a(U,Z),re.laborHours=o(U,Z)}return re})};let f=s.mouskiRate;c.woodType==="Zan"&&(f=s.zanRate),c.woodType==="Aro"&&(f=s.aroRate),c.woodType==="BeechPine"&&(f=s.beechPineRate);const y=c.solidVolumeM3*f;let b=0;c.plyThickness==="2.5"?b=s.ply25RatePerSheet:c.plyThickness==="2.7"?b=s.ply27RatePerSheet:c.plyThickness==="8"?b=s.ply8RatePerSheet:c.plyThickness==="12"?b=s.ply12RatePerSheet:c.plyThickness==="18"&&(b=s.ply18RatePerSheet);const v=c.hasPly?c.plySheets*b:0;let _=0;c.veneerType==="Walnut"?_=s.walnutVeneerRatePerM2:c.veneerType==="Oak"?_=s.oakVeneerRatePerM2:c.veneerType==="Beech"&&(_=s.beechVeneerRatePerM2);const S=c.veneerType==="None"?0:c.areaM2*_;let w=0;c.finishType==="PU matte"?w=s.finishPuMatteRatePerM2:c.finishType==="PU high gloss"?w=s.finishPuHighGlossRatePerM2:c.finishType==="NC"?w=s.finishNcRatePerM2:c.finishType==="Oil / stain"&&(w=s.finishOilRatePerM2);const T=c.areaM2*w;let C=0;c.upholsteryType==="Seat only"?C=s.upholsterySeatOnly:c.upholsteryType==="Full"?C=s.upholsteryFull:c.upholsteryType==="Full arm chair"&&(C=s.upholsteryArmFull);let j=0;c.fabricType==="Low"?j=s.fabricLowRate:c.fabricType==="High"&&(j=s.fabricHighRate);const A=c.upholsteryType==="None"?0:c.fabricMeters*j,k=c.hasSteelChassis?s.steelChassisCostPerPiece:0,N=c.laborHours*s.laborRatePerHour,q=y+v+S+T+C+A+c.overheadCost+N+k,D=q*c.profitMargin/100,V=q+D,z=()=>{const B=[];let G="Mouski";c.woodType==="Zan"?G="Zan (Beech)":c.woodType==="Aro"?G="Aro (Oak)":c.woodType==="BeechPine"&&(G="Beech pine"),B.push(`Wood: ${G}`);let ae="none";if(c.veneerType==="Walnut"?ae="Walnut veneer":c.veneerType==="Oak"?ae="Oak veneer":c.veneerType==="Beech"&&(ae="Beech veneer"),B.push(`Veneer: ${ae}`),B.push(`Finish: ${c.finishType}`),c.upholsteryType==="None")B.push("Fabric: none");else{const re=c.fabricType==="Low"?"Low grade":"High grade";B.push(`Fabric: ${re} (${j} EGP/m, ${c.fabricMeters.toFixed(2)} m)`)}return B.join("  ")},ee=[];if(c.solidVolumeM3>0){let B="Mouski";c.woodType==="Zan"?B="Zan (Beech)":c.woodType==="Aro"?B="Aro (Oak)":c.woodType==="BeechPine"&&(B="Beech pine"),ee.push({name:`Natural solid wood (${B})`,unit:"m",qty:parseFloat(c.solidVolumeM3.toFixed(3)),cost:f})}c.hasPly&&c.plySheets>0&&ee.push({name:`Plywood ${c.plyThickness}mm`,unit:"sheet",qty:c.plySheets,cost:b}),c.veneerType!=="None"&&c.areaM2>0&&ee.push({name:`${c.veneerType} veneer`,unit:"m",qty:parseFloat(c.areaM2.toFixed(3)),cost:_}),c.veneerType!=="None"&&c.areaM2>0&&w>0&&ee.push({name:`Finish (${c.finishType})`,unit:"m",qty:parseFloat(c.areaM2.toFixed(3)),cost:w}),c.upholsteryType!=="None"&&ee.push({name:`Upholstery (${c.upholsteryType})`,unit:"piece",qty:1,cost:C}),c.upholsteryType!=="None"&&c.fabricMeters>0&&ee.push({name:`Fabric (${c.fabricType} grade)`,unit:"meter",qty:c.fabricMeters,cost:j}),c.hasSteelChassis&&ee.push({name:"Steel chassis",unit:"piece",qty:1,cost:s.steelChassisCostPerPiece}),c.overheadCost>0&&ee.push({name:"Overhead",unit:"EGP",qty:1,cost:c.overheadCost}),c.laborHours>0&&ee.push({name:"Labor",unit:"hour",qty:c.laborHours,cost:s.laborRatePerHour});const W=()=>{const B=z();t({price:V,description:B,dimensions:"",materials:ee})};return i?p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal-card",children:[p.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Seating Costing (Chairs / Bench / Bar stool)"}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Item type"}),p.jsxs("select",{className:"input",value:c.itemType,onChange:B=>d("itemType",B.target.value),children:[p.jsx("option",{children:"Dining chair"}),p.jsx("option",{children:"Bar stool"}),p.jsx("option",{children:"Bench"}),p.jsx("option",{children:"Arm chair"})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Solid wood details"}),p.jsxs("select",{className:"input",value:c.detailLevel,onChange:B=>d("detailLevel",B.target.value),children:[p.jsx("option",{value:"Light",children:"Simple details (less wood)"}),p.jsx("option",{value:"Heavy",children:"Rich details (more wood)"})]}),p.jsxs("span",{className:"field-hint",children:["Volume: ",c.solidVolumeM3.toFixed(3)," m"]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Wood type"}),p.jsxs("select",{className:"input",value:c.woodType,onChange:B=>d("woodType",B.target.value),children:[p.jsx("option",{value:"Mouski",children:"Mouski"}),p.jsx("option",{value:"Zan",children:"Zan (Beech)"}),p.jsx("option",{value:"Aro",children:"Aro (Oak)"}),p.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),p.jsxs("label",{className:"field field-inline",children:[p.jsx("span",{className:"field-label",children:"Curved back / ply layers"}),p.jsx("input",{type:"checkbox",checked:c.hasPly,onChange:B=>d("hasPly",B.target.checked)})]}),c.hasPly&&p.jsxs("div",{className:"item-row",children:[p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Ply thickness"}),p.jsxs("select",{className:"input",value:c.plyThickness,onChange:B=>d("plyThickness",B.target.value),children:[p.jsx("option",{value:"2.5",children:"2.5 mm"}),p.jsx("option",{value:"2.7",children:"2.7 mm"}),p.jsx("option",{value:"8",children:"8 mm"}),p.jsx("option",{value:"12",children:"12 mm"}),p.jsx("option",{value:"18",children:"18 mm"})]})]}),p.jsx(te,{label:"Ply sheets (pcs)",type:"number",value:String(c.plySheets),onChange:B=>d("plySheets",Number(B||0))})]}),p.jsxs("div",{className:"item-row",children:[p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Veneer"}),p.jsxs("select",{className:"input",value:c.veneerType,onChange:B=>d("veneerType",B.target.value),children:[p.jsx("option",{value:"None",children:"None"}),p.jsx("option",{value:"Walnut",children:"Walnut veneer"}),p.jsx("option",{value:"Oak",children:"Oak veneer"}),p.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),p.jsx(te,{label:"Area for veneer/finish (m)",type:"number",value:String(c.areaM2),onChange:B=>d("areaM2",Number(B||0))})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Finish Type"}),p.jsxs("select",{className:"input",value:c.finishType,onChange:B=>d("finishType",B.target.value),children:[p.jsx("option",{children:"PU matte"}),p.jsx("option",{children:"PU high gloss"}),p.jsx("option",{children:"NC"}),p.jsx("option",{children:"Oil / stain"})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Upholstery"}),p.jsxs("select",{className:"input",value:c.upholsteryType,onChange:B=>d("upholsteryType",B.target.value),children:[p.jsx("option",{children:"None"}),p.jsx("option",{children:"Seat only"}),p.jsx("option",{children:"Full"}),p.jsx("option",{children:"Full arm chair"})]})]}),c.upholsteryType!=="None"&&p.jsxs("div",{className:"item-row",children:[p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Fabric type"}),p.jsxs("select",{className:"input",value:c.fabricType,onChange:B=>d("fabricType",B.target.value),children:[p.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),p.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),p.jsx(te,{label:"Fabric length (m)",type:"number",value:String(c.fabricMeters),onChange:B=>d("fabricMeters",Number(B||0))})]}),p.jsxs("label",{className:"field field-inline",children:[p.jsx("span",{className:"field-label",children:"Steel chassis"}),p.jsx("input",{type:"checkbox",checked:c.hasSteelChassis,onChange:B=>d("hasSteelChassis",B.target.checked)}),p.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),p.jsx(te,{label:"Overhead (EGP)",type:"number",value:String(c.overheadCost),onChange:B=>d("overheadCost",Number(B||0))}),p.jsx(te,{label:"Labor hours",type:"number",value:String(c.laborHours),onChange:B=>d("laborHours",Number(B||0))}),p.jsx(te,{label:"Profit Margin %",type:"number",value:String(c.profitMargin),onChange:B=>d("profitMargin",Number(B||0))}),p.jsxs("div",{style:{fontSize:11,marginTop:8},children:[p.jsxs("div",{children:["Natural wood cost: ",y.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Ply cost: ",v.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Veneer cost: ",S.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Finish cost: ",T.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Upholstery labor: ",C.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Fabric cost: ",A.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Steel chassis: ",k.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Overhead: ",c.overheadCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Labor: ",c.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",N.toFixed(0)," EGP"]}),p.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",q.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",c.profitMargin,"%): ",D.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / piece: ",V.toFixed(0)," EGP"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:W,children:"Apply to Item"})]})]})}):null},VC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[a,o]=L.useState({lengthCm:220,widthCm:110,heightCm:74,legMaterial:"Wood",woodType:"Mouski",topMaterial:"Marble",veneerType:"None",finishType:"PU matte",overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(W,B)=>{o(G=>({...G,[W]:B}))},h=1.22*2.44,d=a.lengthCm/100*(a.widthCm/100);let f=0;a.legMaterial==="Wood"&&(f=.35*(a.lengthCm/220)*(a.widthCm/110)*(a.heightCm/74));let y=s.mouskiRate;a.woodType==="Zan"&&(y=s.zanRate),a.woodType==="Aro"&&(y=s.aroRate),a.woodType==="BeechPine"&&(y=s.beechPineRate);const b=f*y;let v=0,_=0,S=0;a.topMaterial==="MDF16"?v=d/h*s.mdf16RatePerSheet:a.topMaterial==="MDF21"?v=d/h*s.mdf21RatePerSheet:a.topMaterial==="Blockboard18"?v=d/h*s.blockboard18RatePerSheet:a.topMaterial==="Marble"?_=d*s.marbleRatePerM2:a.topMaterial==="Glass6"?S=d*s.glass6RatePerM2:a.topMaterial==="Glass10"&&(S=d*s.glass10RatePerM2);const w=a.topMaterial==="MDF16"||a.topMaterial==="MDF21"||a.topMaterial==="Blockboard18";let T=0;a.veneerType==="Walnut"?T=s.walnutVeneerRatePerM2:a.veneerType==="Oak"?T=s.oakVeneerRatePerM2:a.veneerType==="Beech"&&(T=s.beechVeneerRatePerM2);const C=w&&a.veneerType!=="None"?d*T:0;let j=0;a.finishType==="PU matte"?j=s.finishPuMatteRatePerM2:a.finishType==="PU high gloss"?j=s.finishPuHighGlossRatePerM2:a.finishType==="NC"?j=s.finishNcRatePerM2:a.finishType==="Oil / stain"&&(j=s.finishOilRatePerM2);const A=w&&a.veneerType!=="None"?d*j:0,k=a.laborHours*s.laborRatePerHour,N=b+v+_+S+C+A+a.overheadCost+k,q=N*a.profitMargin/100,D=N+q,V=()=>{const W=[];let B="";a.topMaterial==="MDF16"?B="MDF 16mm":a.topMaterial==="MDF21"?B="MDF 21mm":a.topMaterial==="Blockboard18"?B="Blockboard 18mm":a.topMaterial==="Marble"?B="Marble top":a.topMaterial==="Glass6"?B="Glass 6mm top":a.topMaterial==="Glass10"&&(B="Glass 10mm top");let G="Steel";if(a.legMaterial==="Wood"){let ae="Mouski";a.woodType==="Zan"?ae="Zan (Beech)":a.woodType==="Aro"?ae="Aro (Oak)":a.woodType==="BeechPine"&&(ae="Beech pine"),G=ae}if(W.push(`Top: ${B}`),W.push(`Legs: ${G}`),w&&a.veneerType!=="None"){let ae="";a.veneerType==="Walnut"?ae="Walnut veneer":a.veneerType==="Oak"?ae="Oak veneer":a.veneerType==="Beech"&&(ae="Beech veneer"),W.push(`Veneer: ${ae}`),W.push(`Finish: ${a.finishType}`)}return W.join("  ")},z=[];if(a.legMaterial==="Wood"&&f>0){let W="Mouski";a.woodType==="Zan"?W="Zan (Beech)":a.woodType==="Aro"?W="Aro (Oak)":a.woodType==="BeechPine"&&(W="Beech pine"),z.push({name:`Table legs wood (${W})`,unit:"m",qty:parseFloat(f.toFixed(3)),cost:y})}if(a.topMaterial==="MDF16"||a.topMaterial==="MDF21"||a.topMaterial==="Blockboard18"){const W=d/h;let B="MDF 16mm",G=s.mdf16RatePerSheet;a.topMaterial==="MDF21"?(B="MDF 21mm",G=s.mdf21RatePerSheet):a.topMaterial==="Blockboard18"&&(B="Blockboard 18mm",G=s.blockboard18RatePerSheet),z.push({name:`Table top (${B})`,unit:"sheet",qty:parseFloat(W.toFixed(3)),cost:G})}if(a.topMaterial==="Marble"&&z.push({name:"Marble top",unit:"m",qty:parseFloat(d.toFixed(3)),cost:s.marbleRatePerM2}),a.topMaterial==="Glass6"||a.topMaterial==="Glass10"){const W=a.topMaterial==="Glass6"?"6mm":"10mm",B=a.topMaterial==="Glass6"?s.glass6RatePerM2:s.glass10RatePerM2;z.push({name:`Glass top ${W}`,unit:"m",qty:parseFloat(d.toFixed(3)),cost:B})}w&&a.veneerType!=="None"&&z.push({name:`${a.veneerType} veneer`,unit:"m",qty:parseFloat(d.toFixed(3)),cost:T}),w&&a.veneerType!=="None"&&j>0&&z.push({name:`Finish (${a.finishType})`,unit:"m",qty:parseFloat(d.toFixed(3)),cost:j}),a.overheadCost>0&&z.push({name:"Overhead",unit:"EGP",qty:1,cost:a.overheadCost}),a.laborHours>0&&z.push({name:"Labor",unit:"hour",qty:a.laborHours,cost:s.laborRatePerHour});const ee=()=>{const W=V(),B=`${a.lengthCm}${a.widthCm}${a.heightCm} cm`;t({price:D,description:W,dimensions:B,materials:z})};return i?p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal-card",children:[p.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Table Costing"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Length (cm)",type:"number",value:String(a.lengthCm),onChange:W=>c("lengthCm",Number(W||0))}),p.jsx(te,{label:"Width (cm)",type:"number",value:String(a.widthCm),onChange:W=>c("widthCm",Number(W||0))}),p.jsx(te,{label:"Height (cm)",type:"number",value:String(a.heightCm),onChange:W=>c("heightCm",Number(W||0))})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Leg material"}),p.jsxs("select",{className:"input",value:a.legMaterial,onChange:W=>c("legMaterial",W.target.value),children:[p.jsx("option",{value:"Wood",children:"Wood"}),p.jsx("option",{value:"Steel",children:"Steel"})]})]}),a.legMaterial==="Wood"&&p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Leg wood type"}),p.jsxs("select",{className:"input",value:a.woodType,onChange:W=>c("woodType",W.target.value),children:[p.jsx("option",{value:"Mouski",children:"Mouski"}),p.jsx("option",{value:"Zan",children:"Zan (Beech)"}),p.jsx("option",{value:"Aro",children:"Aro (Oak)"}),p.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Top material"}),p.jsxs("select",{className:"input",value:a.topMaterial,onChange:W=>c("topMaterial",W.target.value),children:[p.jsx("option",{value:"MDF16",children:"MDF 16mm"}),p.jsx("option",{value:"MDF21",children:"MDF 21mm"}),p.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),p.jsx("option",{value:"Marble",children:"Marble"}),p.jsx("option",{value:"Glass6",children:"Glass 6mm"}),p.jsx("option",{value:"Glass10",children:"Glass 10mm"})]})]}),w&&p.jsxs(p.Fragment,{children:[p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Veneer"}),p.jsxs("select",{className:"input",value:a.veneerType,onChange:W=>c("veneerType",W.target.value),children:[p.jsx("option",{value:"None",children:"None"}),p.jsx("option",{value:"Walnut",children:"Walnut veneer"}),p.jsx("option",{value:"Oak",children:"Oak veneer"}),p.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),a.veneerType!=="None"&&p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Finish Type"}),p.jsxs("select",{className:"input",value:a.finishType,onChange:W=>c("finishType",W.target.value),children:[p.jsx("option",{children:"PU matte"}),p.jsx("option",{children:"PU high gloss"}),p.jsx("option",{children:"NC"}),p.jsx("option",{children:"Oil / stain"})]}),p.jsx("span",{className:"field-hint",children:"Finish is applied on the veneered wooden top area."})]})]}),!w&&p.jsx("span",{className:"field-hint",style:{marginTop:4,display:"block"},children:"Marble / glass tops do not take veneer or finish here."}),p.jsx(te,{label:"Overhead (EGP)",type:"number",value:String(a.overheadCost),onChange:W=>c("overheadCost",Number(W||0))}),p.jsx(te,{label:"Labor hours",type:"number",value:String(a.laborHours),onChange:W=>c("laborHours",Number(W||0))}),p.jsx(te,{label:"Profit Margin %",type:"number",value:String(a.profitMargin),onChange:W=>c("profitMargin",Number(W||0))}),p.jsxs("div",{style:{fontSize:11,marginTop:8},children:[p.jsxs("div",{children:["Top area: ",d.toFixed(2)," m"]}),p.jsxs("div",{children:["Legs wood volume: ",f.toFixed(3)," m"]}),p.jsxs("div",{children:["Legs wood cost: ",b.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Top core cost: ",v.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Marble cost: ",_.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Glass cost: ",S.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Veneer cost: ",C.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Finish cost: ",A.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Overhead: ",a.overheadCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Labor: ",a.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",k.toFixed(0)," EGP"]}),p.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",N.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",a.profitMargin,"%): ",q.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / table: ",D.toFixed(0)," EGP"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:ee,children:"Apply to Item"})]})]})}):null},GC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[a,o]=L.useState({sofaType:"Straight",lengthM:2.5,woodType:"Mouski",solidVolumePerM3:.06,veneerType:"None",veneerAreaM2:4,finishType:"PU matte",upholsteryQuality:"Low",fabricGrade:"Low",fabricMeters:8,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(z,ee)=>{o(W=>{const B={...W,[z]:ee};return z==="sofaType"&&(B.solidVolumePerM3=ee==="Straight"?.06:.08),B})};let h=s.mouskiRate;a.woodType==="Zan"&&(h=s.zanRate),a.woodType==="Aro"&&(h=s.aroRate),a.woodType==="BeechPine"&&(h=s.beechPineRate);const d=a.lengthM*a.solidVolumePerM3,f=d*h;let y=0;a.veneerType==="Walnut"?y=s.walnutVeneerRatePerM2:a.veneerType==="Oak"?y=s.oakVeneerRatePerM2:a.veneerType==="Beech"&&(y=s.beechVeneerRatePerM2);const b=a.veneerType==="None"?0:a.veneerAreaM2*y;let v=0;a.finishType==="PU matte"?v=s.finishPuMatteRatePerM2:a.finishType==="PU high gloss"?v=s.finishPuHighGlossRatePerM2:a.finishType==="NC"?v=s.finishNcRatePerM2:a.finishType==="Oil / stain"&&(v=s.finishOilRatePerM2);const _=a.veneerType==="None"?0:a.veneerAreaM2*v;let S=0;a.upholsteryQuality==="Low"?S=s.upholsterySofaLowPerM:a.upholsteryQuality==="High"&&(S=s.upholsterySofaHighPerM);const w=a.upholsteryQuality==="None"?0:a.lengthM*S;let T=0;a.fabricGrade==="Low"?T=s.fabricLowRate:a.fabricGrade==="High"&&(T=s.fabricHighRate);const C=a.upholsteryQuality==="None"?0:a.fabricMeters*T,j=a.laborHours*s.laborRatePerHour,A=f+b+_+w+C+a.overheadCost+j,k=A*a.profitMargin/100,N=A+k,q=()=>{const z=[];let ee="Mouski";a.woodType==="Zan"?ee="Zan (Beech)":a.woodType==="Aro"?ee="Aro (Oak)":a.woodType==="BeechPine"&&(ee="Beech pine"),z.push(`Wood: ${ee}`);let W="none";if(a.veneerType==="Walnut"?W="Walnut veneer":a.veneerType==="Oak"?W="Oak veneer":a.veneerType==="Beech"&&(W="Beech veneer"),z.push(`Veneer: ${W}`),z.push(`Finish: ${a.veneerType==="None"?"none":a.finishType}`),a.upholsteryQuality==="None")z.push("Fabric: none");else{const B=a.fabricGrade==="Low"?"Low grade":"High grade";z.push(`Fabric: ${B} (${T} EGP/m, ${a.fabricMeters.toFixed(2)} m)`)}return z.join("  ")},D=[];if(d>0){let z="Mouski";a.woodType==="Zan"?z="Zan (Beech)":a.woodType==="Aro"?z="Aro (Oak)":a.woodType==="BeechPine"&&(z="Beech pine"),D.push({name:`Natural solid wood (${z})`,unit:"m",qty:parseFloat(d.toFixed(3)),cost:h})}a.veneerType!=="None"&&a.veneerAreaM2>0&&D.push({name:`${a.veneerType} veneer`,unit:"m",qty:parseFloat(a.veneerAreaM2.toFixed(3)),cost:y}),a.veneerType!=="None"&&a.veneerAreaM2>0&&v>0&&D.push({name:`Finish (${a.finishType})`,unit:"m",qty:parseFloat(a.veneerAreaM2.toFixed(3)),cost:v}),a.upholsteryQuality!=="None"&&D.push({name:`Upholstery (${a.upholsteryQuality} quality)`,unit:"meter",qty:a.lengthM,cost:S}),a.upholsteryQuality!=="None"&&a.fabricMeters>0&&D.push({name:`Fabric (${a.fabricGrade} grade)`,unit:"meter",qty:a.fabricMeters,cost:T}),a.overheadCost>0&&D.push({name:"Overhead",unit:"EGP",qty:1,cost:a.overheadCost}),a.laborHours>0&&D.push({name:"Labor",unit:"hour",qty:a.laborHours,cost:s.laborRatePerHour});const V=()=>{const z=q();t({price:N,description:z,dimensions:"",materials:D})};return i?p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal-card",children:[p.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Sofa Costing (per meter)"}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Sofa type"}),p.jsxs("select",{className:"input",value:a.sofaType,onChange:z=>c("sofaType",z.target.value),children:[p.jsx("option",{value:"Straight",children:"Straight"}),p.jsx("option",{value:"Curved",children:"Curved"})]}),p.jsx("span",{className:"field-hint",children:"Curved sofas take more wood and labor."})]}),p.jsx(te,{label:"Length (m)",type:"number",value:String(a.lengthM),onChange:z=>c("lengthM",Number(z||0))}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Wood type"}),p.jsxs("select",{className:"input",value:a.woodType,onChange:z=>c("woodType",z.target.value),children:[p.jsx("option",{value:"Mouski",children:"Mouski"}),p.jsx("option",{value:"Zan",children:"Zan (Beech)"}),p.jsx("option",{value:"Aro",children:"Aro (Oak)"}),p.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Veneer"}),p.jsxs("select",{className:"input",value:a.veneerType,onChange:z=>c("veneerType",z.target.value),children:[p.jsx("option",{value:"None",children:"None"}),p.jsx("option",{value:"Walnut",children:"Walnut veneer"}),p.jsx("option",{value:"Oak",children:"Oak veneer"}),p.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),a.veneerType!=="None"&&p.jsxs(p.Fragment,{children:[p.jsx(te,{label:"Veneer / finish area (m)",type:"number",value:String(a.veneerAreaM2),onChange:z=>c("veneerAreaM2",Number(z||0))}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Finish Type"}),p.jsxs("select",{className:"input",value:a.finishType,onChange:z=>c("finishType",z.target.value),children:[p.jsx("option",{children:"PU matte"}),p.jsx("option",{children:"PU high gloss"}),p.jsx("option",{children:"NC"}),p.jsx("option",{children:"Oil / stain"})]})]})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Upholstery quality"}),p.jsxs("select",{className:"input",value:a.upholsteryQuality,onChange:z=>c("upholsteryQuality",z.target.value),children:[p.jsx("option",{value:"None",children:"None"}),p.jsx("option",{value:"Low",children:"Low (1250 EGP/m default)"}),p.jsx("option",{value:"High",children:"High (1750 EGP/m default)"})]})]}),a.upholsteryQuality!=="None"&&p.jsxs(p.Fragment,{children:[p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Fabric grade"}),p.jsxs("select",{className:"input",value:a.fabricGrade,onChange:z=>c("fabricGrade",z.target.value),children:[p.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),p.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),p.jsx(te,{label:"Fabric length (m)",type:"number",value:String(a.fabricMeters),onChange:z=>c("fabricMeters",Number(z||0))})]}),p.jsx(te,{label:"Overhead (EGP)",type:"number",value:String(a.overheadCost),onChange:z=>c("overheadCost",Number(z||0))}),p.jsx(te,{label:"Labor hours",type:"number",value:String(a.laborHours),onChange:z=>c("laborHours",Number(z||0))}),p.jsx(te,{label:"Profit Margin %",type:"number",value:String(a.profitMargin),onChange:z=>c("profitMargin",Number(z||0))}),p.jsxs("div",{style:{fontSize:11,marginTop:8},children:[p.jsxs("div",{children:["Wood volume: ",d.toFixed(3)," m"]}),p.jsxs("div",{children:["Wood cost: ",f.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Veneer cost: ",b.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Finish cost: ",_.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Upholstery cost: ",w.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Fabric cost: ",C.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Overhead: ",a.overheadCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Labor: ",a.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",j.toFixed(0)," EGP"]}),p.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",A.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",a.profitMargin,"%): ",k.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / sofa: ",N.toFixed(0)," EGP"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:V,children:"Apply to Item"})]})]})}):null},WC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[a,o]=L.useState({widthCm:80,heightCm:220,depthCm:40,bodyMaterial:"MDF16",faceMaterial:"MDF16",doorsCount:2,shelvesCount:4,drawersCount:0,veneerType:"None",finishType:"PU matte",accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(ie,bt)=>{o($t=>({...$t,[ie]:bt}))},h=1.22*2.44,d=a.widthCm/100,f=a.heightCm/100,y=a.depthCm/100,b=2*f*y,v=2*d*y,_=d*f*.3,S=b+v+_,w=d*f,T=d*y,C=a.shelvesCount*T,j=S+C;let A=s.mdf16RatePerSheet;a.bodyMaterial==="MDF21"?A=s.mdf21RatePerSheet:a.bodyMaterial==="Blockboard18"?A=s.blockboard18RatePerSheet:a.bodyMaterial==="Ply18"?A=s.ply18RatePerSheet:a.bodyMaterial==="Foamboard"&&(A=s.foamboardRatePerSheet);const k=j/h,N=k*A,q=w/h,D=q*s.mdf10RatePerSheet,V=w;let z=s.mdf16RatePerSheet;a.faceMaterial==="MDF21"?z=s.mdf21RatePerSheet:a.faceMaterial==="Blockboard18"?z=s.blockboard18RatePerSheet:a.faceMaterial==="Ply18"?z=s.ply18RatePerSheet:a.faceMaterial==="Foamboard"&&(z=s.foamboardRatePerSheet);const ee=V/h,W=ee*z,G=d*f+S*.4;let ae=0,re=0,U=0;if(a.veneerType==="Walnut"?U=s.walnutVeneerRatePerM2:a.veneerType==="Oak"?U=s.oakVeneerRatePerM2:a.veneerType==="Beech"&&(U=s.beechVeneerRatePerM2),a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"){ae=G*U;let ie=0;a.finishType==="PU matte"?ie=s.finishPuMatteRatePerM2:a.finishType==="PU high gloss"?ie=s.finishPuHighGlossRatePerM2:a.finishType==="NC"?ie=s.finishNcRatePerM2:a.finishType==="Oil / stain"&&(ie=s.finishOilRatePerM2),re=G*ie}else if(a.veneerType==="HPL"||a.veneerType==="LPL"){const ie=G/h;a.veneerType==="HPL"?ae=ie*s.hplRatePerSheet:ae=ie*s.lplRatePerSheet,re=0}const Z=2*(.4*.18)+2*(.3*.18),ue=.4*.3,me=a.drawersCount*Z/h,we=a.drawersCount*ue/h,R=me*s.ply12RatePerSheet,K=we*s.mdf10RatePerSheet,ne=a.drawersCount*s.drawerRunnerRate;let se=2;a.heightCm>60&&a.heightCm<=120?se=3:a.heightCm>120&&a.heightCm<=200?se=4:a.heightCm>200&&a.heightCm<=300&&(se=5);const fe=a.doorsCount*se,ge=fe*s.doorHingeRate,Oe=a.laborHours*s.laborRatePerHour,ke=N+D+W+R+K+ne+ae+re+ge+a.accessoriesCost+a.overheadCost+Oe,Ve=ke*a.profitMargin/100,Tn=ke+Ve,et=[];if(k>0){let ie="MDF 16mm";a.bodyMaterial==="MDF21"?ie="MDF 21mm":a.bodyMaterial==="Blockboard18"?ie="Blockboard 18mm":a.bodyMaterial==="Ply18"?ie="Plywood 18mm":a.bodyMaterial==="Foamboard"&&(ie="Foamboard 18mm"),et.push({name:`Cabinet body core (${ie})`,unit:"sheet",qty:parseFloat(k.toFixed(3)),cost:A})}if(q>0&&et.push({name:"Back (MDF 10mm)",unit:"sheet",qty:parseFloat(q.toFixed(3)),cost:s.mdf10RatePerSheet}),ee>0){let ie="MDF 16mm";a.faceMaterial==="MDF21"?ie="MDF 21mm":a.faceMaterial==="Blockboard18"?ie="Blockboard 18mm":a.faceMaterial==="Ply18"?ie="Plywood 18mm":a.faceMaterial==="Foamboard"&&(ie="Foamboard 18mm"),et.push({name:`Face panel (${ie})`,unit:"sheet",qty:parseFloat(ee.toFixed(3)),cost:z})}if(a.drawersCount>0&&(et.push({name:"Drawer boxes PLY 12mm",unit:"sheet",qty:parseFloat(me.toFixed(3)),cost:s.ply12RatePerSheet}),et.push({name:"Drawer bottoms MDF 10mm",unit:"sheet",qty:parseFloat(we.toFixed(3)),cost:s.mdf10RatePerSheet}),et.push({name:"Drawer runners",unit:"pair",qty:a.drawersCount,cost:s.drawerRunnerRate})),a.veneerType!=="None")if(a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"){et.push({name:`Veneer (${a.veneerType})`,unit:"m",qty:parseFloat(G.toFixed(2)),cost:U});let ie=0;a.finishType==="PU matte"?ie=s.finishPuMatteRatePerM2:a.finishType==="PU high gloss"?ie=s.finishPuHighGlossRatePerM2:a.finishType==="NC"?ie=s.finishNcRatePerM2:a.finishType==="Oil / stain"&&(ie=s.finishOilRatePerM2),et.push({name:`Finish (${a.finishType})`,unit:"m",qty:parseFloat(G.toFixed(2)),cost:ie})}else{const ie=G/h,bt=a.veneerType==="HPL"?s.hplRatePerSheet:s.lplRatePerSheet;et.push({name:`Laminate (${a.veneerType})`,unit:"sheet",qty:parseFloat(ie.toFixed(3)),cost:bt})}fe>0&&et.push({name:"Door hinges",unit:"pcs",qty:fe,cost:s.doorHingeRate}),a.accessoriesCost>0&&et.push({name:"Accessories (handles, screws, etc.)",unit:"EGP",qty:1,cost:a.accessoriesCost}),a.overheadCost>0&&et.push({name:"Overhead",unit:"EGP",qty:1,cost:a.overheadCost}),a.laborHours>0&&et.push({name:"Labor",unit:"hour",qty:a.laborHours,cost:s.laborRatePerHour});const Yi=()=>{const ie=[];let bt="MDF 16mm";a.bodyMaterial==="MDF21"?bt="MDF 21mm":a.bodyMaterial==="Blockboard18"?bt="Blockboard 18mm":a.bodyMaterial==="Ply18"?bt="Plywood 18mm":a.bodyMaterial==="Foamboard"&&(bt="Foamboard 18mm"),ie.push(`Body: ${bt}`),ie.push("Back: MDF 10mm");let $t="MDF 16mm";a.faceMaterial==="MDF21"?$t="MDF 21mm":a.faceMaterial==="Blockboard18"?$t="Blockboard 18mm":a.faceMaterial==="Ply18"?$t="Plywood 18mm":a.faceMaterial==="Foamboard"&&($t="Foamboard 18mm"),ie.push(`Face: ${$t}`),ie.push(`Doors: ${a.doorsCount} pcs`),ie.push(`Shelves: ${a.shelvesCount} pcs`),ie.push(`Drawers: ${a.drawersCount} pcs`);let En="none";return a.veneerType==="Walnut"?En="Walnut veneer":a.veneerType==="Oak"?En="Oak veneer":a.veneerType==="Beech"?En="Beech veneer":a.veneerType==="HPL"?En="HPL laminate":a.veneerType==="LPL"&&(En="LPL laminate"),ie.push(`Facing: ${En}`),a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"?ie.push(`Finish: ${a.finishType}`):a.veneerType==="None"?ie.push("Finish: none"):ie.push("Finish: integrated (HPL/LPL)"),ie.push(`Hinges: ${fe} pcs`),ie.join("  ")},Ki=()=>{const ie=Yi(),bt=`${a.heightCm}${a.widthCm}${a.depthCm} cm`;t({price:Tn,description:ie,dimensions:bt,materials:et})};return i?p.jsx("div",{className:"modal-backdrop",children:p.jsxs("div",{className:"modal-card",children:[p.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Cabinet Costing"}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Width (cm)",type:"number",value:String(a.widthCm),onChange:ie=>c("widthCm",Number(ie||0))}),p.jsx(te,{label:"Height (cm)",type:"number",value:String(a.heightCm),onChange:ie=>c("heightCm",Number(ie||0))}),p.jsx(te,{label:"Depth (cm)",type:"number",value:String(a.depthCm),onChange:ie=>c("depthCm",Number(ie||0))})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Body panel material"}),p.jsxs("select",{className:"input",value:a.bodyMaterial,onChange:ie=>c("bodyMaterial",ie.target.value),children:[p.jsx("option",{value:"MDF16",children:"MDF 16mm"}),p.jsx("option",{value:"MDF21",children:"MDF 21mm"}),p.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),p.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),p.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),p.jsx("span",{className:"field-hint",children:"Body panels (sides, top, bottom, dividers, shelves core)."})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Face panel material"}),p.jsxs("select",{className:"input",value:a.faceMaterial,onChange:ie=>c("faceMaterial",ie.target.value),children:[p.jsx("option",{value:"MDF16",children:"MDF 16mm"}),p.jsx("option",{value:"MDF21",children:"MDF 21mm"}),p.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),p.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),p.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),p.jsx("span",{className:"field-hint",children:"Face panel area is same as back (width  height)."})]}),p.jsxs("div",{className:"item-row",children:[p.jsx(te,{label:"Doors (pcs)",type:"number",value:String(a.doorsCount),onChange:ie=>c("doorsCount",Number(ie||0))}),p.jsx(te,{label:"Shelves (pcs)",type:"number",value:String(a.shelvesCount),onChange:ie=>c("shelvesCount",Number(ie||0))}),p.jsx(te,{label:"Drawers (pcs)",type:"number",value:String(a.drawersCount),onChange:ie=>c("drawersCount",Number(ie||0))})]}),p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Facing / Veneer"}),p.jsxs("select",{className:"input",value:a.veneerType,onChange:ie=>c("veneerType",ie.target.value),children:[p.jsx("option",{value:"None",children:"None"}),p.jsx("option",{value:"Walnut",children:"Walnut veneer"}),p.jsx("option",{value:"Oak",children:"Oak veneer"}),p.jsx("option",{value:"Beech",children:"Beech veneer"}),p.jsx("option",{value:"HPL",children:"HPL"}),p.jsx("option",{value:"LPL",children:"LPL"})]})]}),a.veneerType==="Walnut"||a.veneerType==="Oak"||a.veneerType==="Beech"?p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:"Finish Type"}),p.jsxs("select",{className:"input",value:a.finishType,onChange:ie=>c("finishType",ie.target.value),children:[p.jsx("option",{children:"PU matte"}),p.jsx("option",{children:"PU high gloss"}),p.jsx("option",{children:"NC"}),p.jsx("option",{children:"Oil / stain"})]})]}):null,p.jsx(te,{label:"Accessories (EGP)",type:"number",value:String(a.accessoriesCost),onChange:ie=>c("accessoriesCost",Number(ie||0))}),p.jsx(te,{label:"Overhead (EGP)",type:"number",value:String(a.overheadCost),onChange:ie=>c("overheadCost",Number(ie||0))}),p.jsx(te,{label:"Labor hours",type:"number",value:String(a.laborHours),onChange:ie=>c("laborHours",Number(ie||0))}),p.jsx(te,{label:"Profit Margin %",type:"number",value:String(a.profitMargin),onChange:ie=>c("profitMargin",Number(ie||0))}),p.jsxs("div",{style:{fontSize:11,marginTop:8},children:[p.jsxs("div",{children:["Body area (approx): ",S.toFixed(2)," m"]}),p.jsxs("div",{children:["Shelves area: ",C.toFixed(2)," m"]}),p.jsxs("div",{children:["Core area total: ",j.toFixed(2)," m"]}),p.jsxs("div",{children:["Back area: ",w.toFixed(2)," m"]}),p.jsxs("div",{children:["Face area: ",V.toFixed(2)," m"]}),p.jsxs("div",{children:["Core sheets: ",k.toFixed(3)]}),p.jsxs("div",{children:["Back sheets: ",q.toFixed(3)]}),p.jsxs("div",{children:["Face sheets: ",ee.toFixed(3)]}),p.jsxs("div",{children:["Body core cost: ",N.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Back cost: ",D.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Face cost: ",W.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Veneer / laminate cost: ",ae.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Finish cost: ",re.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Drawers PLY cost: ",R.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Drawers MDF cost: ",K.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Drawer runners: ",ne.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Hinges cost: ",ge.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Accessories: ",a.accessoriesCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Overhead: ",a.overheadCost.toFixed(0)," EGP"]}),p.jsxs("div",{children:["Labor: ",a.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",Oe.toFixed(0)," EGP"]}),p.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",ke.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",a.profitMargin,"%): ",Ve.toFixed(0)," EGP"]}),p.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / cabinet: ",Tn.toFixed(0)," EGP"]})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[p.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:Ki,children:"Apply to Item"})]})]})}):null},te=({label:i,value:e,onChange:t,type:s="text"})=>p.jsxs("label",{className:"field",children:[p.jsx("span",{className:"field-label",children:i}),p.jsx("input",{className:"input",type:s,value:e,onChange:a=>t(a.target.value)})]});function Eo(i){return i+.5|0}const Ii=(i,e,t)=>Math.max(Math.min(i,t),e);function Zr(i){return Ii(Eo(i*2.55),0,255)}function Gi(i){return Ii(Eo(i*255),0,255)}function li(i){return Ii(Eo(i/2.55)/100,0,1)}function Bb(i){return Ii(Eo(i*100),0,100)}const dn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},af=[..."0123456789ABCDEF"],YC=i=>af[i&15],KC=i=>af[(i&240)>>4]+af[i&15],Zl=i=>(i&240)>>4===(i&15),XC=i=>Zl(i.r)&&Zl(i.g)&&Zl(i.b)&&Zl(i.a);function QC(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&dn[i[1]]*17,g:255&dn[i[2]]*17,b:255&dn[i[3]]*17,a:e===5?dn[i[4]]*17:255}:(e===7||e===9)&&(t={r:dn[i[1]]<<4|dn[i[2]],g:dn[i[3]]<<4|dn[i[4]],b:dn[i[5]]<<4|dn[i[6]],a:e===9?dn[i[7]]<<4|dn[i[8]]:255})),t}const JC=(i,e)=>i<255?e(i):"";function ZC(i){var e=XC(i)?YC:KC;return i?"#"+e(i.r)+e(i.g)+e(i.b)+JC(i.a,e):void 0}const ej=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function P_(i,e,t){const s=e*Math.min(t,1-t),a=(o,c=(o+i/30)%12)=>t-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function tj(i,e,t){const s=(a,o=(a+i/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function nj(i,e,t){const s=P_(i,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)s[a]*=1-e-t,s[a]+=e;return s}function ij(i,e,t,s,a){return i===a?(e-t)/s+(e<t?6:0):e===a?(t-i)/s+2:(i-e)/s+4}function Mf(i){const t=i.r/255,s=i.g/255,a=i.b/255,o=Math.max(t,s,a),c=Math.min(t,s,a),h=(o+c)/2;let d,f,y;return o!==c&&(y=o-c,f=h>.5?y/(2-o-c):y/(o+c),d=ij(t,s,a,y,o),d=d*60+.5),[d|0,f||0,h]}function kf(i,e,t,s){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,s)).map(Gi)}function Df(i,e,t){return kf(P_,i,e,t)}function sj(i,e,t){return kf(nj,i,e,t)}function aj(i,e,t){return kf(tj,i,e,t)}function L_(i){return(i%360+360)%360}function rj(i){const e=ej.exec(i);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?Zr(+e[5]):Gi(+e[5]));const a=L_(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=sj(a,o,c):e[1]==="hsv"?s=aj(a,o,c):s=Df(a,o,c),{r:s[0],g:s[1],b:s[2],a:t}}function oj(i,e){var t=Mf(i);t[0]=L_(t[0]+e),t=Df(t),i.r=t[0],i.g=t[1],i.b=t[2]}function lj(i){if(!i)return;const e=Mf(i),t=e[0],s=Bb(e[1]),a=Bb(e[2]);return i.a<255?`hsla(${t}, ${s}%, ${a}%, ${li(i.a)})`:`hsl(${t}, ${s}%, ${a}%)`}const Ub={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cj(){const i={},e=Object.keys(Hb),t=Object.keys(Ub);let s,a,o,c,h;for(s=0;s<e.length;s++){for(c=h=e[s],a=0;a<t.length;a++)o=t[a],h=h.replace(o,Ub[o]);o=parseInt(Hb[c],16),i[h]=[o>>16&255,o>>8&255,o&255]}return i}let ec;function uj(i){ec||(ec=cj(),ec.transparent=[0,0,0,0]);const e=ec[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dj(i){const e=hj.exec(i);let t=255,s,a,o;if(e){if(e[7]!==s){const c=+e[7];t=e[8]?Zr(c):Ii(c*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?Zr(s):Ii(s,0,255)),a=255&(e[4]?Zr(a):Ii(a,0,255)),o=255&(e[6]?Zr(o):Ii(o,0,255)),{r:s,g:a,b:o,a:t}}}function fj(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${li(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Cd=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Sa=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function gj(i,e,t){const s=Sa(li(i.r)),a=Sa(li(i.g)),o=Sa(li(i.b));return{r:Gi(Cd(s+t*(Sa(li(e.r))-s))),g:Gi(Cd(a+t*(Sa(li(e.g))-a))),b:Gi(Cd(o+t*(Sa(li(e.b))-o))),a:i.a+t*(e.a-i.a)}}function tc(i,e,t){if(i){let s=Mf(i);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=Df(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function z_(i,e){return i&&Object.assign(e||{},i)}function Fb(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Gi(i[3]))):(e=z_(i,{r:0,g:0,b:0,a:1}),e.a=Gi(e.a)),e}function pj(i){return i.charAt(0)==="r"?dj(i):rj(i)}class uo{constructor(e){if(e instanceof uo)return e;const t=typeof e;let s;t==="object"?s=Fb(e):t==="string"&&(s=QC(e)||uj(e)||pj(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=z_(this._rgb);return e&&(e.a=li(e.a)),e}set rgb(e){this._rgb=Fb(e)}rgbString(){return this._valid?fj(this._rgb):void 0}hexString(){return this._valid?ZC(this._rgb):void 0}hslString(){return this._valid?lj(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,a=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,d=s.a-a.a,f=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-f,s.r=255&f*s.r+o*a.r+.5,s.g=255&f*s.g+o*a.g+.5,s.b=255&f*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=gj(this._rgb,e._rgb,t)),this}clone(){return new uo(this.rgb)}alpha(e){return this._rgb.a=Gi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Eo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tc(this._rgb,2,e),this}darken(e){return tc(this._rgb,2,-e),this}saturate(e){return tc(this._rgb,1,e),this}desaturate(e){return tc(this._rgb,1,-e),this}rotate(e){return oj(this._rgb,e),this}}function ai(){}const mj=(()=>{let i=0;return()=>i++})();function Le(i){return i==null}function gt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Me(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function pn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Mn(i,e){return pn(i)?i:e}function Te(i,e){return typeof i>"u"?e:i}const yj=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,B_=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function Ke(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function Ue(i,e,t,s){let a,o,c;if(gt(i))for(o=i.length,a=0;a<o;a++)e.call(t,i[a],a);else if(Me(i))for(c=Object.keys(i),o=c.length,a=0;a<o;a++)e.call(t,i[c[a]],c[a])}function Rc(i,e){let t,s,a,o;if(!i||!e||i.length!==e.length)return!1;for(t=0,s=i.length;t<s;++t)if(a=i[t],o=e[t],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Mc(i){if(gt(i))return i.map(Mc);if(Me(i)){const e=Object.create(null),t=Object.keys(i),s=t.length;let a=0;for(;a<s;++a)e[t[a]]=Mc(i[t[a]]);return e}return i}function U_(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function bj(i,e,t,s){if(!U_(i))return;const a=e[i],o=t[i];Me(a)&&Me(o)?ho(a,o,s):e[i]=Mc(o)}function ho(i,e,t){const s=gt(e)?e:[e],a=s.length;if(!Me(i))return i;t=t||{};const o=t.merger||bj;let c;for(let h=0;h<a;++h){if(c=s[h],!Me(c))continue;const d=Object.keys(c);for(let f=0,y=d.length;f<y;++f)o(d[f],i,c,t)}return i}function io(i,e){return ho(i,e,{merger:vj})}function vj(i,e,t){if(!U_(i))return;const s=e[i],a=t[i];Me(s)&&Me(a)?io(s,a):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Mc(a))}const Ib={"":i=>i,x:i=>i.x,y:i=>i.y};function _j(i){const e=i.split("."),t=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function xj(i){const e=_j(i);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function Ms(i,e){return(Ib[e]||(Ib[e]=xj(e)))(i)}function Nf(i){return i.charAt(0).toUpperCase()+i.slice(1)}const fo=i=>typeof i<"u",Wi=i=>typeof i=="function",qb=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function Sj(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const He=Math.PI,it=2*He,wj=it+He,kc=Number.POSITIVE_INFINITY,Tj=He/180,pt=He/2,ms=He/4,$b=He*2/3,H_=Math.log10,Pn=Math.sign;function so(i,e,t){return Math.abs(i-e)<t}function Vb(i){const e=Math.round(i);i=so(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(H_(i))),s=i/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function Ej(i){const e=[],t=Math.sqrt(i);let s;for(s=1;s<t;s++)i%s===0&&(e.push(s),e.push(i/s));return t===(t|0)&&e.push(t),e.sort((a,o)=>a-o).pop(),e}function Cj(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function go(i){return!Cj(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function jj(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function Aj(i,e,t){let s,a,o;for(s=0,a=i.length;s<a;s++)o=i[s][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ci(i){return i*(He/180)}function Oj(i){return i*(180/He)}function Gb(i){if(!pn(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function F_(i,e){const t=e.x-i.x,s=e.y-i.y,a=Math.sqrt(t*t+s*s);let o=Math.atan2(s,t);return o<-.5*He&&(o+=it),{angle:o,distance:a}}function rf(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function Rj(i,e){return(i-e+wj)%it-He}function wn(i){return(i%it+it)%it}function po(i,e,t,s){const a=wn(i),o=wn(e),c=wn(t),h=wn(o-a),d=wn(c-a),f=wn(a-o),y=wn(a-c);return a===o||a===c||s&&o===c||h>d&&f<y}function Ot(i,e,t){return Math.max(e,Math.min(t,i))}function Mj(i){return Ot(i,-32768,32767)}function qi(i,e,t,s=1e-6){return i>=Math.min(e,t)-s&&i<=Math.max(e,t)+s}function Pf(i,e,t){t=t||(c=>i[c]<e);let s=i.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,t(o)?a=o:s=o;return{lo:a,hi:s}}const As=(i,e,t,s)=>Pf(i,t,s?a=>{const o=i[a][e];return o<t||o===t&&i[a+1][e]===t}:a=>i[a][e]<t),kj=(i,e,t)=>Pf(i,t,s=>i[s][e]>=t);function Dj(i,e,t){let s=0,a=i.length;for(;s<a&&i[s]<e;)s++;for(;a>s&&i[a-1]>t;)a--;return s>0||a<i.length?i.slice(s,a):i}const I_=["push","pop","shift","splice","unshift"];function Nj(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),I_.forEach(t=>{const s="_onData"+Nf(t),a=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),c}})})}function Wb(i,e){const t=i._chartjs;if(!t)return;const s=t.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(I_.forEach(o=>{delete i[o]}),delete i._chartjs)}function q_(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const $_=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function V_(i,e){let t=[],s=!1;return function(...a){t=a,s||(s=!0,$_.call(window,()=>{s=!1,i.apply(e,t)}))}}function Pj(i,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(i,e,s)):i.apply(this,s),e}}const Lf=i=>i==="start"?"left":i==="end"?"right":"center",At=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,Lj=(i,e,t,s)=>i===(s?"left":"right")?t:i==="center"?(e+t)/2:e;function zj(i,e,t){const s=e.length;let a=0,o=s;if(i._sorted){const{iScale:c,vScale:h,_parsed:d}=i,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,y=c.axis,{min:b,max:v,minDefined:_,maxDefined:S}=c.getUserBounds();if(_){if(a=Math.min(As(d,y,b).lo,t?s:As(e,y,c.getPixelForValue(b)).lo),f){const w=d.slice(0,a+1).reverse().findIndex(T=>!Le(T[h.axis]));a-=Math.max(0,w)}a=Ot(a,0,s-1)}if(S){let w=Math.max(As(d,c.axis,v,!0).hi+1,t?0:As(e,y,c.getPixelForValue(v),!0).hi+1);if(f){const T=d.slice(w-1).findIndex(C=>!Le(C[h.axis]));w+=Math.max(0,T)}o=Ot(w,a,s)-a}else o=s-a}return{start:a,count:o}}function Bj(i){const{xScale:e,yScale:t,_scaleRanges:s}=i,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return i._scaleRanges=a,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,a),o}const nc=i=>i===0||i===1,Yb=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*it/t)),Kb=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*it/t)+1,ao={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*pt)+1,easeOutSine:i=>Math.sin(i*pt),easeInOutSine:i=>-.5*(Math.cos(He*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>nc(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>nc(i)?i:Yb(i,.075,.3),easeOutElastic:i=>nc(i)?i:Kb(i,.075,.3),easeInOutElastic(i){return nc(i)?i:i<.5?.5*Yb(i*2,.1125,.45):.5+.5*Kb(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-ao.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?ao.easeInBounce(i*2)*.5:ao.easeOutBounce(i*2-1)*.5+.5};function zf(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Xb(i){return zf(i)?i:new uo(i)}function jd(i){return zf(i)?i:new uo(i).saturate(.5).darken(.1).hexString()}const Uj=["x","y","borderWidth","radius","tension"],Hj=["color","borderColor","backgroundColor"];function Fj(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:Hj},numbers:{type:"number",properties:Uj}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ij(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Qb=new Map;function qj(i,e){e=e||{};const t=i+JSON.stringify(e);let s=Qb.get(t);return s||(s=new Intl.NumberFormat(i,e),Qb.set(t,s)),s}function Bf(i,e,t){return qj(e,t).format(i)}const $j={values(i){return gt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const s=this.chart.options.locale;let a,o=i;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(a="scientific"),o=Vj(i,t)}const c=H_(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),Bf(i,s,d)}};function Vj(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var G_={formatters:$j};function Gj(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const ks=Object.create(null),of=Object.create(null);function ro(i,e){if(!e)return i;const t=e.split(".");for(let s=0,a=t.length;s<a;++s){const o=t[s];i=i[o]||(i[o]=Object.create(null))}return i}function Ad(i,e,t){return typeof e=="string"?ho(ro(i,e),t):ho(ro(i,""),e)}class Wj{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>jd(a.backgroundColor),this.hoverBorderColor=(s,a)=>jd(a.borderColor),this.hoverColor=(s,a)=>jd(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Ad(this,e,t)}get(e){return ro(this,e)}describe(e,t){return Ad(of,e,t)}override(e,t){return Ad(ks,e,t)}route(e,t,s,a){const o=ro(this,e),c=ro(this,s),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[h],f=c[a];return Me(d)?Object.assign({},f,d):Te(d,f)},set(d){this[h]=d}}})}apply(e){e.forEach(t=>t(this))}}var rt=new Wj({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Fj,Ij,Gj]);function Yj(i){return!i||Le(i.size)||Le(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Jb(i,e,t,s,a){let o=e[a];return o||(o=e[a]=i.measureText(a).width,t.push(a)),o>s&&(s=o),s}function ys(i,e,t){const s=i.currentDevicePixelRatio,a=t!==0?Math.max(t/2,.5):0;return Math.round((e-a)*s)/s+a}function Zb(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function lf(i,e,t,s){W_(i,e,t,s,null)}function W_(i,e,t,s,a){let o,c,h,d,f,y,b,v;const _=e.pointStyle,S=e.rotation,w=e.radius;let T=(S||0)*Tj;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(t,s),i.rotate(T),i.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),i.restore();return}if(!(isNaN(w)||w<=0)){switch(i.beginPath(),_){default:a?i.ellipse(t,s,a/2,w,0,0,it):i.arc(t,s,w,0,it),i.closePath();break;case"triangle":y=a?a/2:w,i.moveTo(t+Math.sin(T)*y,s-Math.cos(T)*w),T+=$b,i.lineTo(t+Math.sin(T)*y,s-Math.cos(T)*w),T+=$b,i.lineTo(t+Math.sin(T)*y,s-Math.cos(T)*w),i.closePath();break;case"rectRounded":f=w*.516,d=w-f,c=Math.cos(T+ms)*d,b=Math.cos(T+ms)*(a?a/2-f:d),h=Math.sin(T+ms)*d,v=Math.sin(T+ms)*(a?a/2-f:d),i.arc(t-b,s-h,f,T-He,T-pt),i.arc(t+v,s-c,f,T-pt,T),i.arc(t+b,s+h,f,T,T+pt),i.arc(t-v,s+c,f,T+pt,T+He),i.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*w,y=a?a/2:d,i.rect(t-y,s-d,2*y,2*d);break}T+=ms;case"rectRot":b=Math.cos(T)*(a?a/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,v=Math.sin(T)*(a?a/2:w),i.moveTo(t-b,s-h),i.lineTo(t+v,s-c),i.lineTo(t+b,s+h),i.lineTo(t-v,s+c),i.closePath();break;case"crossRot":T+=ms;case"cross":b=Math.cos(T)*(a?a/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,v=Math.sin(T)*(a?a/2:w),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"star":b=Math.cos(T)*(a?a/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,v=Math.sin(T)*(a?a/2:w),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c),T+=ms,b=Math.cos(T)*(a?a/2:w),c=Math.cos(T)*w,h=Math.sin(T)*w,v=Math.sin(T)*(a?a/2:w),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"line":c=a?a/2:Math.cos(T)*w,h=Math.sin(T)*w,i.moveTo(t-c,s-h),i.lineTo(t+c,s+h);break;case"dash":i.moveTo(t,s),i.lineTo(t+Math.cos(T)*(a?a/2:w),s+Math.sin(T)*w);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function mo(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Uf(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Hf(i){i.restore()}function Kj(i,e,t,s,a){if(!e)return i.lineTo(t.x,t.y);if(a==="middle"){const o=(e.x+t.x)/2;i.lineTo(o,e.y),i.lineTo(o,t.y)}else a==="after"!=!!s?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function Xj(i,e,t,s){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function Qj(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Le(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function Jj(i,e,t,s,a){if(a.strikethrough||a.underline){const o=i.measureText(s),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,y=a.strikethrough?(d+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=a.decorationWidth||2,i.moveTo(c,y),i.lineTo(h,y),i.stroke()}}function Zj(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function yo(i,e,t,s,a,o={}){const c=gt(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(i.save(),i.font=a.string,Qj(i,o),d=0;d<c.length;++d)f=c[d],o.backdrop&&Zj(i,o.backdrop),h&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Le(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(f,t,s,o.maxWidth)),i.fillText(f,t,s,o.maxWidth),Jj(i,t,s,f,o),s+=Number(a.lineHeight);i.restore()}function Dc(i,e){const{x:t,y:s,w:a,h:o,radius:c}=e;i.arc(t+c.topLeft,s+c.topLeft,c.topLeft,1.5*He,He,!0),i.lineTo(t,s+o-c.bottomLeft),i.arc(t+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,He,pt,!0),i.lineTo(t+a-c.bottomRight,s+o),i.arc(t+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,pt,0,!0),i.lineTo(t+a,s+c.topRight),i.arc(t+a-c.topRight,s+c.topRight,c.topRight,0,-pt,!0),i.lineTo(t+c.topLeft,s)}const e2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,t2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function n2(i,e){const t=(""+i).match(e2);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const i2=i=>+i||0;function Ff(i,e){const t={},s=Me(e),a=s?Object.keys(e):e,o=Me(i)?s?c=>Te(i[c],i[e[c]]):c=>i[c]:()=>i;for(const c of a)t[c]=i2(o(c));return t}function Y_(i){return Ff(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Ra(i){return Ff(i,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(i){const e=Y_(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(i,e){i=i||{},e=e||rt.font;let t=Te(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=Te(i.style,e.style);s&&!(""+s).match(t2)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Te(i.family,e.family),lineHeight:n2(Te(i.lineHeight,e.lineHeight),t),size:t,style:s,weight:Te(i.weight,e.weight),string:""};return a.string=Yj(a),a}function ic(i,e,t,s){let a,o,c;for(a=0,o=i.length;a<o;++a)if(c=i[a],c!==void 0&&c!==void 0)return c}function s2(i,e,t){const{min:s,max:a}=i,o=B_(e,(a-s)/2),c=(h,d)=>t&&h===0?0:h+d;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function Ds(i,e){return Object.assign(Object.create(i),e)}function If(i,e=[""],t,s,a=()=>i[0]){const o=t||i;typeof s>"u"&&(s=J_("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:s,_getTarget:a,override:h=>If([h,...i],e,o,s)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return X_(h,d,()=>d2(d,e,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return tv(h).includes(d)},ownKeys(h){return tv(h)},set(h,d,f){const y=h._storage||(h._storage=a());return h[d]=y[d]=f,delete h._keys,!0}})}function Pa(i,e,t,s){const a={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:K_(i,s),setContext:o=>Pa(i,o,t,s),override:o=>Pa(i.override(o),e,t,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete i[c],!0},get(o,c,h){return X_(o,c,()=>r2(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(o,c,h){return i[c]=h,delete o[c],!0}})}function K_(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=i;return{allKeys:a,scriptable:t,indexable:s,isScriptable:Wi(t)?t:()=>t,isIndexable:Wi(s)?s:()=>s}}const a2=(i,e)=>i?i+Nf(e):e,qf=(i,e)=>Me(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function X_(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const s=t();return i[e]=s,s}function r2(i,e,t){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=i;let h=s[e];return Wi(h)&&c.isScriptable(e)&&(h=o2(e,h,i,t)),gt(h)&&h.length&&(h=l2(e,h,i,c.isIndexable)),qf(e,h)&&(h=Pa(h,a,o&&o[e],c)),h}function o2(i,e,t,s){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=t;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=e(o,c||s);return h.delete(i),qf(i,d)&&(d=$f(a._scopes,a,i,d)),d}function l2(i,e,t,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&s(i))return e[o.index%e.length];if(Me(e[0])){const d=e,f=a._scopes.filter(y=>y!==d);e=[];for(const y of d){const b=$f(f,a,i,y);e.push(Pa(b,o,c&&c[i],h))}}return e}function Q_(i,e,t){return Wi(i)?i(e,t):i}const c2=(i,e)=>i===!0?e:typeof i=="string"?Ms(e,i):void 0;function u2(i,e,t,s,a){for(const o of e){const c=c2(t,o);if(c){i.add(c);const h=Q_(c._fallback,t,a);if(typeof h<"u"&&h!==t&&h!==s)return h}else if(c===!1&&typeof s<"u"&&t!==s)return null}return!1}function $f(i,e,t,s){const a=e._rootScopes,o=Q_(e._fallback,t,s),c=[...i,...a],h=new Set;h.add(s);let d=ev(h,c,t,o||t,s);return d===null||typeof o<"u"&&o!==t&&(d=ev(h,c,o,d,s),d===null)?!1:If(Array.from(h),[""],a,o,()=>h2(e,t,s))}function ev(i,e,t,s,a){for(;t;)t=u2(i,e,t,s,a);return t}function h2(i,e,t){const s=i._getTarget();e in s||(s[e]={});const a=s[e];return gt(a)&&Me(t)?t:a||{}}function d2(i,e,t,s){let a;for(const o of e)if(a=J_(a2(o,i),t),typeof a<"u")return qf(i,a)?$f(t,s,i,a):a}function J_(i,e){for(const t of e){if(!t)continue;const s=t[i];if(typeof s<"u")return s}}function tv(i){let e=i._keys;return e||(e=i._keys=f2(i._scopes)),e}function f2(i){const e=new Set;for(const t of i)for(const s of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const g2=Number.EPSILON||1e-14,La=(i,e)=>e<i.length&&!i[e].skip&&i[e],Z_=i=>i==="x"?"y":"x";function p2(i,e,t,s){const a=i.skip?e:i,o=e,c=t.skip?e:t,h=rf(o,a),d=rf(c,o);let f=h/(h+d),y=d/(h+d);f=isNaN(f)?0:f,y=isNaN(y)?0:y;const b=s*f,v=s*y;return{previous:{x:o.x-b*(c.x-a.x),y:o.y-b*(c.y-a.y)},next:{x:o.x+v*(c.x-a.x),y:o.y+v*(c.y-a.y)}}}function m2(i,e,t){const s=i.length;let a,o,c,h,d,f=La(i,0);for(let y=0;y<s-1;++y)if(d=f,f=La(i,y+1),!(!d||!f)){if(so(e[y],0,g2)){t[y]=t[y+1]=0;continue}a=t[y]/e[y],o=t[y+1]/e[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),t[y]=a*c*e[y],t[y+1]=o*c*e[y])}}function y2(i,e,t="x"){const s=Z_(t),a=i.length;let o,c,h,d=La(i,0);for(let f=0;f<a;++f){if(c=h,h=d,d=La(i,f+1),!h)continue;const y=h[t],b=h[s];c&&(o=(y-c[t])/3,h[`cp1${t}`]=y-o,h[`cp1${s}`]=b-o*e[f]),d&&(o=(d[t]-y)/3,h[`cp2${t}`]=y+o,h[`cp2${s}`]=b+o*e[f])}}function b2(i,e="x"){const t=Z_(e),s=i.length,a=Array(s).fill(0),o=Array(s);let c,h,d,f=La(i,0);for(c=0;c<s;++c)if(h=d,d=f,f=La(i,c+1),!!d){if(f){const y=f[e]-d[e];a[c]=y!==0?(f[t]-d[t])/y:0}o[c]=h?f?Pn(a[c-1])!==Pn(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}m2(i,a,o),y2(i,o,e)}function sc(i,e,t){return Math.max(Math.min(i,t),e)}function v2(i,e){let t,s,a,o,c,h=mo(i[0],e);for(t=0,s=i.length;t<s;++t)c=o,o=h,h=t<s-1&&mo(i[t+1],e),o&&(a=i[t],c&&(a.cp1x=sc(a.cp1x,e.left,e.right),a.cp1y=sc(a.cp1y,e.top,e.bottom)),h&&(a.cp2x=sc(a.cp2x,e.left,e.right),a.cp2y=sc(a.cp2y,e.top,e.bottom)))}function _2(i,e,t,s,a){let o,c,h,d;if(e.spanGaps&&(i=i.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")b2(i,a);else{let f=s?i[i.length-1]:i[0];for(o=0,c=i.length;o<c;++o)h=i[o],d=p2(f,h,i[Math.min(o+1,c-(s?0:1))%c],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,f=h}e.capBezierPoints&&v2(i,t)}function Vf(){return typeof window<"u"&&typeof document<"u"}function Gf(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Nc(i,e,t){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=i,s}const $c=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function x2(i,e){return $c(i).getPropertyValue(e)}const S2=["top","right","bottom","left"];function Os(i,e,t){const s={};t=t?"-"+t:"";for(let a=0;a<4;a++){const o=S2[a];s[o]=parseFloat(i[e+"-"+o+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const w2=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function T2(i,e){const t=i.touches,s=t&&t.length?t[0]:i,{offsetX:a,offsetY:o}=s;let c=!1,h,d;if(w2(a,o,i.target))h=a,d=o;else{const f=e.getBoundingClientRect();h=s.clientX-f.left,d=s.clientY-f.top,c=!0}return{x:h,y:d,box:c}}function ws(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:s}=e,a=$c(t),o=a.boxSizing==="border-box",c=Os(a,"padding"),h=Os(a,"border","width"),{x:d,y:f,box:y}=T2(i,t),b=c.left+(y&&h.left),v=c.top+(y&&h.top);let{width:_,height:S}=e;return o&&(_-=c.width+h.width,S-=c.height+h.height),{x:Math.round((d-b)/_*t.width/s),y:Math.round((f-v)/S*t.height/s)}}function E2(i,e,t){let s,a;if(e===void 0||t===void 0){const o=i&&Gf(i);if(!o)e=i.clientWidth,t=i.clientHeight;else{const c=o.getBoundingClientRect(),h=$c(o),d=Os(h,"border","width"),f=Os(h,"padding");e=c.width-f.width-d.width,t=c.height-f.height-d.height,s=Nc(h.maxWidth,o,"clientWidth"),a=Nc(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:s||kc,maxHeight:a||kc}}const $i=i=>Math.round(i*10)/10;function C2(i,e,t,s){const a=$c(i),o=Os(a,"margin"),c=Nc(a.maxWidth,i,"clientWidth")||kc,h=Nc(a.maxHeight,i,"clientHeight")||kc,d=E2(i,e,t);let{width:f,height:y}=d;if(a.boxSizing==="content-box"){const v=Os(a,"border","width"),_=Os(a,"padding");f-=_.width+v.width,y-=_.height+v.height}return f=Math.max(0,f-o.width),y=Math.max(0,s?f/s:y-o.height),f=$i(Math.min(f,c,d.maxWidth)),y=$i(Math.min(y,h,d.maxHeight)),f&&!y&&(y=$i(f/2)),(e!==void 0||t!==void 0)&&s&&d.height&&y>d.height&&(y=d.height,f=$i(Math.floor(y*s))),{width:f,height:y}}function nv(i,e,t){const s=e||1,a=$i(i.height*s),o=$i(i.width*s);i.height=$i(i.height),i.width=$i(i.width);const c=i.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(i.currentDevicePixelRatio=s,c.height=a,c.width=o,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const j2=(function(){let i=!1;try{const e={get passive(){return i=!0,!1}};Vf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function iv(i,e){const t=x2(i,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ts(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function A2(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:s==="middle"?t<.5?i.y:e.y:s==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function O2(i,e,t,s){const a={x:i.cp2x,y:i.cp2y},o={x:e.cp1x,y:e.cp1y},c=Ts(i,a,t),h=Ts(a,o,t),d=Ts(o,e,t),f=Ts(c,h,t),y=Ts(h,d,t);return Ts(f,y,t)}const R2=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},M2=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Ma(i,e,t){return i?R2(e,t):M2()}function ex(i,e){let t,s;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=s)}function tx(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function nx(i){return i==="angle"?{between:po,compare:Rj,normalize:wn}:{between:qi,compare:(e,t)=>e-t,normalize:e=>e}}function sv({start:i,end:e,count:t,loop:s,style:a}){return{start:i%t,end:e%t,loop:s&&(e-i+1)%t===0,style:a}}function k2(i,e,t){const{property:s,start:a,end:o}=t,{between:c,normalize:h}=nx(s),d=e.length;let{start:f,end:y,loop:b}=i,v,_;if(b){for(f+=d,y+=d,v=0,_=d;v<_&&c(h(e[f%d][s]),a,o);++v)f--,y--;f%=d,y%=d}return y<f&&(y+=d),{start:f,end:y,loop:b,style:i.style}}function D2(i,e,t){if(!t)return[i];const{property:s,start:a,end:o}=t,c=e.length,{compare:h,between:d,normalize:f}=nx(s),{start:y,end:b,loop:v,style:_}=k2(i,e,t),S=[];let w=!1,T=null,C,j,A;const k=()=>d(a,A,C)&&h(a,A)!==0,N=()=>h(o,C)===0||d(o,A,C),q=()=>w||k(),D=()=>!w||N();for(let V=y,z=y;V<=b;++V)j=e[V%c],!j.skip&&(C=f(j[s]),C!==A&&(w=d(C,a,o),T===null&&q()&&(T=h(C,a)===0?V:z),T!==null&&D()&&(S.push(sv({start:T,end:V,loop:v,count:c,style:_})),T=null),z=V,A=C));return T!==null&&S.push(sv({start:T,end:b,loop:v,count:c,style:_})),S}function N2(i,e){const t=[],s=i.segments;for(let a=0;a<s.length;a++){const o=D2(s[a],i.points,e);o.length&&t.push(...o)}return t}function P2(i,e,t,s){let a=0,o=e-1;if(t&&!s)for(;a<e&&!i[a].skip;)a++;for(;a<e&&i[a].skip;)a++;for(a%=e,t&&(o+=a);o>a&&i[o%e].skip;)o--;return o%=e,{start:a,end:o}}function L2(i,e,t,s){const a=i.length,o=[];let c=e,h=i[e],d;for(d=e+1;d<=t;++d){const f=i[d%a];f.skip||f.stop?h.skip||(s=!1,o.push({start:e%a,end:(d-1)%a,loop:s}),e=c=f.stop?d:null):(c=d,h.skip&&(e=d)),h=f}return c!==null&&o.push({start:e%a,end:c%a,loop:s}),o}function z2(i,e){const t=i.points,s=i.options.spanGaps,a=t.length;if(!a)return[];const o=!!i._loop,{start:c,end:h}=P2(t,a,o,s);if(s===!0)return av(i,[{start:c,end:h,loop:o}],t,e);const d=h<c?h+a:h,f=!!i._fullLoop&&c===0&&h===a-1;return av(i,L2(t,c,d,f),t,e)}function av(i,e,t,s){return!s||!s.setContext||!t?e:B2(i,e,t,s)}function B2(i,e,t,s){const a=i._chart.getContext(),o=rv(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,d=t.length,f=[];let y=o,b=e[0].start,v=b;function _(S,w,T,C){const j=h?-1:1;if(S!==w){for(S+=d;t[S%d].skip;)S-=j;for(;t[w%d].skip;)w+=j;S%d!==w%d&&(f.push({start:S%d,end:w%d,loop:T,style:C}),y=C,b=w%d)}}for(const S of e){b=h?b:S.start;let w=t[b%d],T;for(v=b+1;v<=S.end;v++){const C=t[v%d];T=rv(s.setContext(Ds(a,{type:"segment",p0:w,p1:C,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:c}))),U2(T,y)&&_(b,v-1,S.loop,y),w=C,y=T}b<v-1&&_(b,v-1,S.loop,y)}return f}function rv(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function U2(i,e){if(!e)return!1;const t=[],s=function(a,o){return zf(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(i,s)!==JSON.stringify(e,s)}function ac(i,e,t){return i.options.clip?i[t]:e[t]}function H2(i,e){const{xScale:t,yScale:s}=i;return t&&s?{left:ac(t,e,"left"),right:ac(t,e,"right"),top:ac(s,e,"top"),bottom:ac(s,e,"bottom")}:e}function F2(i,e){const t=e._clip;if(t.disabled)return!1;const s=H2(e,i.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:s.bottom+(t.bottom===!0?0:t.bottom)}}class I2{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,a){const o=t.listeners[a],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(s-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=$_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ri=new I2;const ov="transparent",q2={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const s=Xb(i||ov),a=s.valid&&Xb(e||ov);return a&&a.valid?a.mix(s,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class $2{constructor(e,t,s,a){const o=t[s];a=ic([e.to,a,o,e.from]);const c=ic([e.from,o,a]);this._active=!0,this._fn=e.fn||q2[e.type||typeof c],this._easing=ao[e.easing]||ao.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ic([e.to,t,a,e.from]),this._from=ic([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||t<s),!this._active){this._target[a]=h,this._notify(!0);return}if(t<0){this._target[a]=o;return}d=t/s%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(o,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][t]()}}class ix{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Me(e))return;const t=Object.keys(rt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Me(o))return;const c={};for(const h of t)c[h]=o[h];(gt(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!s.has(h))&&s.set(h,c)})})}_animateOptions(e,t){const s=t.options,a=G2(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&V2(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,t){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const f=c[d];if(f.charAt(0)==="$")continue;if(f==="options"){a.push(...this._animateOptions(e,t));continue}const y=t[f];let b=o[f];const v=s.get(f);if(b)if(v&&b.active()){b.update(v,y,h);continue}else b.cancel();if(!v||!v.duration){e[f]=y;continue}o[f]=b=new $2(v,e,f,y),a.push(b)}return a}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return ri.add(this._chart,s),!0}}function V2(i,e){const t=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=i[s[a]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function G2(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function lv(i,e){const t=i&&i.options||{},s=t.reverse,a=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function W2(i,e,t){if(t===!1)return!1;const s=lv(i,t),a=lv(e,t);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function Y2(i){let e,t,s,a;return Me(i)?(e=i.top,t=i.right,s=i.bottom,a=i.left):e=t=s=a=i,{top:e,right:t,bottom:s,left:a,disabled:i===!1}}function sx(i,e){const t=[],s=i._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)t.push(s[a].index);return t}function cv(i,e,t,s={}){const a=i.keys,o=s.mode==="single";let c,h,d,f;if(e===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(d=+a[c],d===t){if(y=!0,s.all)continue;break}f=i.values[d],pn(f)&&(o||e===0||Pn(e)===Pn(f))&&(e+=f)}return!y&&!s.all?0:e}function K2(i,e){const{iScale:t,vScale:s}=e,a=t.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let d,f,y;for(d=0,f=c.length;d<f;++d)y=c[d],h[d]={[a]:y,[o]:i[y]};return h}function Od(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function X2(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function Q2(i){const{min:e,max:t,minDefined:s,maxDefined:a}=i.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}function J2(i,e,t){const s=i[e]||(i[e]={});return s[t]||(s[t]={})}function uv(i,e,t,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=i[a.index];if(t&&o>0||!t&&o<0)return a.index}return null}function hv(i,e){const{chart:t,_cachedMeta:s}=i,a=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=s,d=o.axis,f=c.axis,y=X2(o,c,s),b=e.length;let v;for(let _=0;_<b;++_){const S=e[_],{[d]:w,[f]:T}=S,C=S._stacks||(S._stacks={});v=C[f]=J2(a,y,w),v[h]=T,v._top=uv(v,c,!0,s.type),v._bottom=uv(v,c,!1,s.type);const j=v._visualValues||(v._visualValues={});j[h]=T}}function Rd(i,e){const t=i.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function Z2(i,e){return Ds(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function eA(i,e,t){return Ds(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function qr(i,e){const t=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){e=e||i._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][t]===void 0)return;delete o[s][t],o[s]._visualValues!==void 0&&o[s]._visualValues[t]!==void 0&&delete o[s]._visualValues[t]}}}const Md=i=>i==="reset"||i==="none",dv=(i,e)=>e?i:Object.assign({},i),tA=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:sx(t,!0),values:null};class Vc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Od(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&qr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),a=(b,v,_,S)=>b==="x"?v:b==="r"?S:_,o=t.xAxisID=Te(s.xAxisID,Rd(e,"x")),c=t.yAxisID=Te(s.yAxisID,Rd(e,"y")),h=t.rAxisID=Te(s.rAxisID,Rd(e,"r")),d=t.indexAxis,f=t.iAxisID=a(d,o,c,h),y=t.vAxisID=a(d,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Wb(this._data,this),e._stacked&&qr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Me(t)){const a=this._cachedMeta;this._data=K2(t,a)}else if(s!==t){if(s){Wb(s,this);const a=this._cachedMeta;qr(a),a._parsed=[]}t&&Object.isExtensible(t)&&Nj(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=t._stacked;t._stacked=Od(t.vScale,t),t.stack!==s.stack&&(a=!0,qr(t),t.stack=s.stack),this._resyncElements(e),(a||o!==t._stacked)&&(hv(this,t._parsed),t._stacked=Od(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,h=o.axis;let d=e===0&&t===a.length?!0:s._sorted,f=e>0&&s._parsed[e-1],y,b,v;if(this._parsing===!1)s._parsed=a,s._sorted=!0,v=a;else{gt(a[e])?v=this.parseArrayData(s,a,e,t):Me(a[e])?v=this.parseObjectData(s,a,e,t):v=this.parsePrimitiveData(s,a,e,t);const _=()=>b[h]===null||f&&b[h]<f[h];for(y=0;y<t;++y)s._parsed[y+e]=b=v[y],d&&(_()&&(d=!1),f=b);s._sorted=d}c&&hv(this,v)}parsePrimitiveData(e,t,s,a){const{iScale:o,vScale:c}=e,h=o.axis,d=c.axis,f=o.getLabels(),y=o===c,b=new Array(a);let v,_,S;for(v=0,_=a;v<_;++v)S=v+s,b[v]={[h]:y||o.parse(f[S],S),[d]:c.parse(t[S],S)};return b}parseArrayData(e,t,s,a){const{xScale:o,yScale:c}=e,h=new Array(a);let d,f,y,b;for(d=0,f=a;d<f;++d)y=d+s,b=t[y],h[d]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(e,t,s,a){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=new Array(a);let y,b,v,_;for(y=0,b=a;y<b;++y)v=y+s,_=t[v],f[y]={x:o.parse(Ms(_,h),v),y:c.parse(Ms(_,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const a=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:sx(a,!0),values:t._stacks[e.axis]._visualValues};return cv(h,c,o.index,{mode:s})}updateRangeFromParsed(e,t,s,a){const o=s[t.axis];let c=o===null?NaN:o;const h=a&&s._stacks[t.axis];a&&h&&(a.values=h,c=cv(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,c=a.length,h=this._getOtherScale(e),d=tA(t,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=Q2(h);let v,_;function S(){_=a[v];const w=_[h.axis];return!pn(_[e.axis])||y>w||b<w}for(v=0;v<c&&!(!S()&&(this.updateRangeFromParsed(f,e,_,d),o));++v);if(o){for(v=c-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,_,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=t.length;a<o;++a)c=t[a][e.axis],pn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,a=t.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Y2(Te(this.options.clip,W2(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,a=s.data||[],o=t.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||a.length-h,f=this.options.drawActiveElementsOnTop;let y;for(s.dataset&&s.dataset.draw(e,o,h,d),y=h;y<h+d;++y){const b=a[y];b.hidden||(b.active&&f?c.push(b):b.draw(e,o))}for(y=0;y<c.length;++y)c[y].draw(e,o)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=eA(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Z2(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const a=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],d=this.enableOptionSharing&&fo(s);if(h)return dv(h,d);const f=this.chart.config,y=f.datasetElementScopeKeys(this._type,e),b=a?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),y),_=Object.keys(rt.elements[e]),S=()=>this.getContext(s,a,t),w=f.resolveNamedOptions(v,_,S,b);return w.$shared&&(w.$shared=d,o[c]=Object.freeze(dv(w,d))),w}_resolveAnimations(e,t,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let d;if(a.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,t),v=y.getOptionScopes(this.getDataset(),b);d=y.createResolver(v,this.getContext(e,s,t))}const f=new ix(a,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Md(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(t,o)||o!==a;return this.updateSharedOptions(o,t,s),{sharedOptions:o,includeOptions:c}}updateElement(e,t,s,a){Md(a)?Object.assign(e,s):this._resolveAnimations(t,a).update(e,s)}updateSharedOptions(e,t,s){e&&!Md(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,a){e.active=a;const o=this.getStyle(t,a);this._resolveAnimations(t,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[h,d,f]of this._syncList)this[h](d,f);this._syncList=[];const a=s.length,o=t.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,t,s=!0){const a=this._cachedMeta,o=a.data,c=e+t;let h;const d=f=>{for(f.length+=t,h=f.length-1;h>=c;h--)f[h]=f[h-t]};for(d(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(e,t),s&&this.updateElements(o,e,t,"reset")}updateElements(e,t,s,a){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,t);s._stacked&&qr(s,a)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,a]=e;this[t](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function nA(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=t.length;a<o;a++)s=s.concat(t[a].controller.getAllParsedValues(i));i._cache.$bar=q_(s.sort((a,o)=>a-o))}return i._cache.$bar}function iA(i){const e=i.iScale,t=nA(e,i.type);let s=e._length,a,o,c,h;const d=()=>{c===32767||c===-32768||(fo(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(a=0,o=t.length;a<o;++a)c=e.getPixelForValue(t[a]),d();for(h=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),d();return s}function sA(i,e,t,s){const a=t.barThickness;let o,c;return Le(a)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=a*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[i]-o/2}}function aA(i,e,t,s){const a=e.pixels,o=a[i];let c=i>0?a[i-1]:null,h=i<a.length-1?a[i+1]:null;const d=t.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const f=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/s,ratio:t.barPercentage,start:f}}function rA(i,e,t,s){const a=t.parse(i[0],s),o=t.parse(i[1],s),c=Math.min(a,o),h=Math.max(a,o);let d=c,f=h;Math.abs(c)>Math.abs(h)&&(d=h,f=c),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:a,end:o,min:c,max:h}}function ax(i,e,t,s){return gt(i)?rA(i,e,t,s):e[t.axis]=t.parse(i,s),e}function fv(i,e,t,s){const a=i.iScale,o=i.vScale,c=a.getLabels(),h=a===o,d=[];let f,y,b,v;for(f=t,y=t+s;f<y;++f)v=e[f],b={},b[a.axis]=h||a.parse(c[f],f),d.push(ax(v,b,o,f));return d}function kd(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function oA(i,e,t){return i!==0?Pn(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function lA(i){let e,t,s,a,o;return i.horizontal?(e=i.base>i.x,t="left",s="right"):(e=i.base<i.y,t="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:t,end:s,reverse:e,top:a,bottom:o}}function cA(i,e,t,s){let a=e.borderSkipped;const o={};if(!a){i.borderSkipped=o;return}if(a===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:f,bottom:y}=lA(i);a==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===s?a=f:(t._bottom||0)===s?a=y:(o[gv(y,c,h,d)]=!0,a=f)),o[gv(a,c,h,d)]=!0,i.borderSkipped=o}function gv(i,e,t,s){return s?(i=uA(i,e,t),i=pv(i,t,e)):i=pv(i,e,t),i}function uA(i,e,t){return i===e?t:i===t?e:i}function pv(i,e,t){return i==="start"?e:i==="end"?t:i}function hA(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class dA extends Vc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,a){return fv(e,t,s,a)}parseArrayData(e,t,s,a){return fv(e,t,s,a)}parseObjectData(e,t,s,a){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?h:d,y=c.axis==="x"?h:d,b=[];let v,_,S,w;for(v=s,_=s+a;v<_;++v)w=t[v],S={},S[o.axis]=o.parse(Ms(w,f),v),b.push(ax(Ms(w,y),S,c,v));return b}updateRangeFromParsed(e,t,s,a){super.updateRangeFromParsed(e,t,s,a);const o=s._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:a}=t,o=this.getParsed(e),c=o._custom,h=kd(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),f=h.isHorizontal(),y=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(t,a);for(let _=t;_<t+s;_++){const S=this.getParsed(_),w=o||Le(S[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(_),T=this._calculateBarIndexPixels(_,y),C=(S._stacks||{})[h.axis],j={horizontal:f,base:w.base,enableBorderRadius:!C||kd(S._custom)||c===C._top||c===C._bottom,x:f?w.head:T.center,y:f?T.center:w.head,height:f?T.size:Math.abs(w.size),width:f?Math.abs(w.size):T.size};v&&(j.options=b||this.resolveDataElementOptions(_,e[_].active?"active":a));const A=j.options||e[_].options;cA(j,A,C,c),hA(j,A,y.ratio),this.updateElement(e[_],_,j,a)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),d=h&&h[s.axis],f=y=>{const b=y._parsed.find(_=>_[s.axis]===d),v=b&&b[y.vScale.axis];if(Le(v)||isNaN(v))return!0};for(const y of a)if(!(t!==void 0&&f(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Te(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const a=this._getStacks(e,s),o=t!==void 0?a.indexOf(t):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,a=[];let o,c;for(o=0,c=t.data.length;o<c;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const h=e.barThickness;return{min:h||iA(t),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(e),f=d._custom,y=kd(f);let b=d[t.axis],v=0,_=s?this.applyStack(t,d,s):b,S,w;_!==b&&(v=_-b,_=b),y&&(b=f.barStart,_=f.barEnd-f.barStart,b!==0&&Pn(b)!==Pn(f.barEnd)&&(v=0),v+=b);const T=!Le(o)&&!y?o:v;let C=t.getPixelForValue(T);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+_):S=C,w=S-C,Math.abs(w)<c){w=oA(w,t,h)*c,b===h&&(C-=w/2);const j=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),k=Math.min(j,A),N=Math.max(j,A);C=Math.max(Math.min(C,N),k),S=C+w,s&&!y&&(d._stacks[t.axis]._visualValues[a]=t.getValueForPixel(S)-t.getValueForPixel(C))}if(C===t.getPixelForValue(h)){const j=Pn(w)*t.getLineWidthForValue(h)/2;C+=j,w-=j}return{size:w,base:C,head:S,center:S+w/2}}_calculateBarIndexPixels(e,t){const s=t.scale,a=this.options,o=a.skipNull,c=Te(a.maxBarThickness,1/0);let h,d;const f=this._getAxisCount();if(t.grouped){const y=o?this._getStackCount(e):t.stackCount,b=a.barThickness==="flex"?aA(e,t,a,y*f):sA(e,t,a,y*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,_=this._getAxis().indexOf(Te(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+_;h=b.start+b.chunk*S+b.chunk/2,d=Math.min(c,b.chunk*b.ratio)}else h=s.getPixelForValue(this.getParsed(e)[s.axis],e),d=Math.min(c,t.min*t.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[t.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}function fA(i,e,t){let s=1,a=1,o=0,c=0;if(e<it){const h=i,d=h+e,f=Math.cos(h),y=Math.sin(h),b=Math.cos(d),v=Math.sin(d),_=(A,k,N)=>po(A,h,d,!0)?1:Math.max(k,k*t,N,N*t),S=(A,k,N)=>po(A,h,d,!0)?-1:Math.min(k,k*t,N,N*t),w=_(0,f,b),T=_(pt,y,v),C=S(He,f,b),j=S(He+pt,y,v);s=(w-C)/2,a=(T-j)/2,o=-(w+C)/2,c=-(T+j)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:c}}class gA extends Vc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const b=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:b.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(f),lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,textAlign:a,pointStyle:s,borderRadius:c&&(h||b.borderRadius),index:f}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=d=>+s[d];if(Me(s[e])){const{key:d="value"}=this._parsing;o=f=>+Ms(s[f],d)}let c,h;for(c=e,h=e+t;c<h;++c)a._parsed[c]=o(c)}}_getRotation(){return ci(this.options.rotation-90)}_getCircumference(){return ci(this.options.circumference)}_getRotationExtents(){let e=it,t=-it;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-c)/2,0),d=Math.min(yj(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:y,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:_,offsetX:S,offsetY:w}=fA(b,y,d),T=(s.width-c)/v,C=(s.height-c)/_,j=Math.max(Math.min(T,C)/2,0),A=B_(this.options.radius,j),k=Math.max(A*d,0),N=(A-k)/this._getVisibleDatasetWeightTotal();this.offsetX=S*A,this.offsetY=w*A,a.total=this.calculateTotal(),this.outerRadius=A-N*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-N*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/it)}updateElements(e,t,s,a){const o=a==="reset",c=this.chart,h=c.chartArea,f=c.options.animation,y=(h.left+h.right)/2,b=(h.top+h.bottom)/2,v=o&&f.animateScale,_=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:w,includeOptions:T}=this._getSharedOptions(t,a);let C=this._getRotation(),j;for(j=0;j<t;++j)C+=this._circumference(j,o);for(j=t;j<t+s;++j){const A=this._circumference(j,o),k=e[j],N={x:y+this.offsetX,y:b+this.offsetY,startAngle:C,endAngle:C+A,circumference:A,outerRadius:S,innerRadius:_};T&&(N.options=w||this.resolveDataElementOptions(j,k.active?"active":a)),C+=A,this.updateElement(k,j,N,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,a;for(a=0;a<t.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?it*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Bf(t._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const s=this.chart;let a,o,c,h,d;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){c=s.getDatasetMeta(a),e=c.data,h=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)d=h.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class pA extends Vc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:a=[],_dataset:o}=t,c=this.chart._animationsDisabled;let{start:h,count:d}=zj(t,a,c);this._drawStart=h,this._drawCount=d,Bj(t)&&(h=0,d=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=a;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:f},e),this.updateElements(a,h,d,e)}updateElements(e,t,s,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(t,a),v=c.axis,_=h.axis,{spanGaps:S,segment:w}=this.options,T=go(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||a==="none",j=t+s,A=e.length;let k=t>0&&this.getParsed(t-1);for(let N=0;N<A;++N){const q=e[N],D=C?q:{};if(N<t||N>=j){D.skip=!0;continue}const V=this.getParsed(N),z=Le(V[_]),ee=D[v]=c.getPixelForValue(V[v],N),W=D[_]=o||z?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,V,d):V[_],N);D.skip=isNaN(ee)||isNaN(W)||z,D.stop=N>0&&Math.abs(V[v]-k[v])>T,w&&(D.parsed=V,D.raw=f.data[N]),b&&(D.options=y||this.resolveDataElementOptions(N,q.active?"active":a)),C||this.updateElement(q,N,D,a),k=V}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function bs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Wf{static override(e){Object.assign(Wf.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return bs()}parse(){return bs()}format(){return bs()}add(){return bs()}diff(){return bs()}startOf(){return bs()}endOf(){return bs()}}var mA={_date:Wf};function yA(i,e,t,s){const{controller:a,data:o,_sorted:c}=i,h=a._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const f=h._reversePixels?kj:As;if(s){if(a._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(e);if(b){const v=f(o,e,t-b),_=f(o,e,t+b);return{lo:v.lo,hi:_.hi}}}}else{const y=f(o,e,t);if(d){const{vScale:b}=a._cachedMeta,{_parsed:v}=i,_=v.slice(0,y.lo+1).reverse().findIndex(w=>!Le(w[b.axis]));y.lo-=Math.max(0,_);const S=v.slice(y.hi).findIndex(w=>!Le(w[b.axis]));y.hi+=Math.max(0,S)}return y}}return{lo:0,hi:o.length-1}}function Gc(i,e,t,s,a){const o=i.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,d=o.length;h<d;++h){const{index:f,data:y}=o[h],{lo:b,hi:v}=yA(o[h],e,c,a);for(let _=b;_<=v;++_){const S=y[_];S.skip||s(S,f,_)}}}function bA(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,c=t?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Dd(i,e,t,s,a){const o=[];return!a&&!i.isPointInArea(e)||Gc(i,t,e,function(h,d,f){!a&&!mo(h,i.chartArea,0)||h.inRange(e.x,e.y,s)&&o.push({element:h,datasetIndex:d,index:f})},!0),o}function vA(i,e,t,s){let a=[];function o(c,h,d){const{startAngle:f,endAngle:y}=c.getProps(["startAngle","endAngle"],s),{angle:b}=F_(c,{x:e.x,y:e.y});po(b,f,y)&&a.push({element:c,datasetIndex:h,index:d})}return Gc(i,t,e,o),a}function _A(i,e,t,s,a,o){let c=[];const h=bA(t);let d=Number.POSITIVE_INFINITY;function f(y,b,v){const _=y.inRange(e.x,e.y,a);if(s&&!_)return;const S=y.getCenterPoint(a);if(!(!!o||i.isPointInArea(S))&&!_)return;const T=h(e,S);T<d?(c=[{element:y,datasetIndex:b,index:v}],d=T):T===d&&c.push({element:y,datasetIndex:b,index:v})}return Gc(i,t,e,f),c}function Nd(i,e,t,s,a,o){return!o&&!i.isPointInArea(e)?[]:t==="r"&&!s?vA(i,e,t,a):_A(i,e,t,s,a,o)}function mv(i,e,t,s,a){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Gc(i,t,e,(d,f,y)=>{d[c]&&d[c](e[t],a)&&(o.push({element:d,datasetIndex:f,index:y}),h=h||d.inRange(e.x,e.y,a))}),s&&!h?[]:o}var xA={modes:{index(i,e,t,s){const a=ws(e,i),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?Dd(i,a,o,s,c):Nd(i,a,o,!1,s,c),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{const y=h[0].index,b=f.data[y];b&&!b.skip&&d.push({element:b,datasetIndex:f.index,index:y})}),d):[]},dataset(i,e,t,s){const a=ws(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?Dd(i,a,o,s,c):Nd(i,a,o,!1,s,c);if(h.length>0){const d=h[0].datasetIndex,f=i.getDatasetMeta(d).data;h=[];for(let y=0;y<f.length;++y)h.push({element:f[y],datasetIndex:d,index:y})}return h},point(i,e,t,s){const a=ws(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;return Dd(i,a,o,s,c)},nearest(i,e,t,s){const a=ws(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;return Nd(i,a,o,t.intersect,s,c)},x(i,e,t,s){const a=ws(e,i);return mv(i,a,"x",t.intersect,s)},y(i,e,t,s){const a=ws(e,i);return mv(i,a,"y",t.intersect,s)}}};const rx=["left","top","right","bottom"];function $r(i,e){return i.filter(t=>t.pos===e)}function yv(i,e){return i.filter(t=>rx.indexOf(t.pos)===-1&&t.box.axis===e)}function Vr(i,e){return i.sort((t,s)=>{const a=e?s:t,o=e?t:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function SA(i){const e=[];let t,s,a,o,c,h;for(t=0,s=(i||[]).length;t<s;++t)a=i[t],{position:o,options:{stack:c,stackWeight:h=1}}=a,e.push({index:t,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return e}function wA(i){const e={};for(const t of i){const{stack:s,pos:a,stackWeight:o}=t;if(!s||!rx.includes(a))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function TA(i,e){const t=wA(i),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,c,h;for(o=0,c=i.length;o<c;++o){h=i[o];const{fullSize:d}=h.box,f=t[h.stack],y=f&&h.stackWeight/f.weight;h.horizontal?(h.width=y?y*s:d&&e.availableWidth,h.height=a):(h.width=s,h.height=y?y*a:d&&e.availableHeight)}return t}function EA(i){const e=SA(i),t=Vr(e.filter(f=>f.box.fullSize),!0),s=Vr($r(e,"left"),!0),a=Vr($r(e,"right")),o=Vr($r(e,"top"),!0),c=Vr($r(e,"bottom")),h=yv(e,"x"),d=yv(e,"y");return{fullSize:t,leftAndTop:s.concat(o),rightAndBottom:a.concat(d).concat(c).concat(h),chartArea:$r(e,"chartArea"),vertical:s.concat(a).concat(d),horizontal:o.concat(c).concat(h)}}function bv(i,e,t,s){return Math.max(i[t],e[t])+Math.max(i[s],e[s])}function ox(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function CA(i,e,t,s){const{pos:a,box:o}=t,c=i.maxPadding;if(!Me(a)){t.size&&(i[a]-=t.size);const b=s[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?o.height:o.width),t.size=b.size/b.count,i[a]+=t.size}o.getPadding&&ox(c,o.getPadding());const h=Math.max(0,e.outerWidth-bv(c,i,"left","right")),d=Math.max(0,e.outerHeight-bv(c,i,"top","bottom")),f=h!==i.w,y=d!==i.h;return i.w=h,i.h=d,t.horizontal?{same:f,other:y}:{same:y,other:f}}function jA(i){const e=i.maxPadding;function t(s){const a=Math.max(e[s]-i[s],0);return i[s]+=a,a}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function AA(i,e){const t=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return s(i?["left","right"]:["top","bottom"])}function eo(i,e,t,s){const a=[];let o,c,h,d,f,y;for(o=0,c=i.length,f=0;o<c;++o){h=i[o],d=h.box,d.update(h.width||e.w,h.height||e.h,AA(h.horizontal,e));const{same:b,other:v}=CA(e,t,h,s);f|=b&&a.length,y=y||v,d.fullSize||a.push(h)}return f&&eo(a,e,t,s)||y}function rc(i,e,t,s,a){i.top=t,i.left=e,i.right=e+s,i.bottom=t+a,i.width=s,i.height=a}function vv(i,e,t,s){const a=t.padding;let{x:o,y:c}=e;for(const h of i){const d=h.box,f=s[h.stack]||{placed:0,weight:1},y=h.stackWeight/f.weight||1;if(h.horizontal){const b=e.w*y,v=f.size||d.height;fo(f.start)&&(c=f.start),d.fullSize?rc(d,a.left,c,t.outerWidth-a.right-a.left,v):rc(d,e.left+f.placed,c,b,v),f.start=c,f.placed+=b,c=d.bottom}else{const b=e.h*y,v=f.size||d.width;fo(f.start)&&(o=f.start),d.fullSize?rc(d,o,a.top,v,t.outerHeight-a.bottom-a.top):rc(d,o,e.top+f.placed,v,b),f.start=o,f.placed+=b,o=d.right}}e.x=o,e.y=c}var fn={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,s){if(!i)return;const a=mn(i.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(t-a.height,0),h=EA(i.boxes),d=h.vertical,f=h.horizontal;Ue(i.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const y=d.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),v=Object.assign({},a);ox(v,mn(s));const _=Object.assign({maxPadding:v,w:o,h:c,x:a.left,y:a.top},a),S=TA(d.concat(f),b);eo(h.fullSize,_,b,S),eo(d,_,b,S),eo(f,_,b,S)&&eo(d,_,b,S),jA(_),vv(h.leftAndTop,_,b,S),_.x+=_.w,_.y+=_.h,vv(h.rightAndBottom,_,b,S),i.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Ue(h.chartArea,w=>{const T=w.box;Object.assign(T,i.chartArea),T.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class lx{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,a){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):s)}}isAttached(e){return!0}updateConfig(e){}}class OA extends lx{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const bc="$chartjs",RA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_v=i=>i===null||i==="";function MA(i,e){const t=i.style,s=i.getAttribute("height"),a=i.getAttribute("width");if(i[bc]={initial:{height:s,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",_v(a)){const o=iv(i,"width");o!==void 0&&(i.width=o)}if(_v(s))if(i.style.height==="")i.height=i.width/(e||2);else{const o=iv(i,"height");o!==void 0&&(i.height=o)}return i}const cx=j2?{passive:!0}:!1;function kA(i,e,t){i&&i.addEventListener(e,t,cx)}function DA(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,cx)}function NA(i,e){const t=RA[i.type]||i.type,{x:s,y:a}=ws(i,e);return{type:t,chart:e,native:i,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Pc(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function PA(i,e,t){const s=i.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Pc(h.addedNodes,s),c=c&&!Pc(h.removedNodes,s);c&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function LA(i,e,t){const s=i.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Pc(h.removedNodes,s),c=c&&!Pc(h.addedNodes,s);c&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const bo=new Map;let xv=0;function ux(){const i=window.devicePixelRatio;i!==xv&&(xv=i,bo.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function zA(i,e){bo.size||window.addEventListener("resize",ux),bo.set(i,e)}function BA(i){bo.delete(i),bo.size||window.removeEventListener("resize",ux)}function UA(i,e,t){const s=i.canvas,a=s&&Gf(s);if(!a)return;const o=V_((h,d)=>{const f=a.clientWidth;t(h,d),f<a.clientWidth&&t()},window),c=new ResizeObserver(h=>{const d=h[0],f=d.contentRect.width,y=d.contentRect.height;f===0&&y===0||o(f,y)});return c.observe(a),zA(i,o),c}function Pd(i,e,t){t&&t.disconnect(),e==="resize"&&BA(i)}function HA(i,e,t){const s=i.canvas,a=V_(o=>{i.ctx!==null&&t(NA(o,i))},i);return kA(s,e,a),a}class FA extends lx{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(MA(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[bc])return!1;const s=t[bc].initial;["height","width"].forEach(o=>{const c=s[o];Le(c)?t.removeAttribute(o):t.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{t.style[o]=a[o]}),t.width=t.width,delete t[bc],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const a=e.$proxies||(e.$proxies={}),c={attach:PA,detach:LA,resize:UA}[t]||HA;a[t]=c(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),a=s[t];if(!a)return;({attach:Pd,detach:Pd,resize:Pd}[t]||DA)(e,t,a),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,a){return C2(e,t,s,a)}isAttached(e){const t=e&&Gf(e);return!!(t&&t.isConnected)}}function IA(i){return!Vf()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?OA:FA}class fi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return go(this.x)&&go(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}}function qA(i,e){const t=i.options.ticks,s=$A(i),a=Math.min(t.maxTicksLimit||s,s),o=t.major.enabled?GA(e):[],c=o.length,h=o[0],d=o[c-1],f=[];if(c>a)return WA(e,f,o,c/a),f;const y=VA(o,e,a);if(c>0){let b,v;const _=c>1?Math.round((d-h)/(c-1)):null;for(oc(e,f,y,Le(_)?0:h-_,h),b=0,v=c-1;b<v;b++)oc(e,f,y,o[b],o[b+1]);return oc(e,f,y,d,Le(_)?e.length:d+_),f}return oc(e,f,y),f}function $A(i){const e=i.options.offset,t=i._tickSize(),s=i._length/t+(e?0:1),a=i._maxLength/t;return Math.floor(Math.min(s,a))}function VA(i,e,t){const s=YA(i),a=e.length/t;if(!s)return Math.max(a,1);const o=Ej(s);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>a)return d}return Math.max(a,1)}function GA(i){const e=[];let t,s;for(t=0,s=i.length;t<s;t++)i[t].major&&e.push(t);return e}function WA(i,e,t,s){let a=0,o=t[0],c;for(s=Math.ceil(s),c=0;c<i.length;c++)c===o&&(e.push(i[c]),a++,o=t[a*s])}function oc(i,e,t,s,a){const o=Te(s,0),c=Math.min(Te(a,i.length),i.length);let h=0,d,f,y;for(t=Math.ceil(t),a&&(d=a-s,t=d/Math.floor(d/t)),y=o;y<0;)h++,y=Math.round(o+h*t);for(f=Math.max(o,0);f<c;f++)f===y&&(e.push(i[f]),h++,y=Math.round(o+h*t))}function YA(i){const e=i.length;let t,s;if(e<2)return!1;for(s=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==s)return!1;return s}const KA=i=>i==="left"?"right":i==="right"?"left":i,Sv=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,wv=(i,e)=>Math.min(e||i,i);function Tv(i,e){const t=[],s=i.length/e,a=i.length;let o=0;for(;o<a;o+=s)t.push(i[Math.floor(o)]);return t}function XA(i,e,t){const s=i.ticks.length,a=Math.min(e,s-1),o=i._startPixel,c=i._endPixel,h=1e-6;let d=i.getPixelForTick(a),f;if(!(t&&(s===1?f=Math.max(d-o,c-d):e===0?f=(i.getPixelForTick(1)-d)/2:f=(d-i.getPixelForTick(a-1))/2,d+=a<e?f:-f,d<o-h||d>c+h)))return d}function QA(i,e){Ue(i,t=>{const s=t.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete t.data[s[o]];s.splice(0,a)}})}function Gr(i){return i.drawTicks?i.tickLength:0}function Ev(i,e){if(!i.display)return 0;const t=Rt(i.font,e),s=mn(i.padding);return(gt(i.text)?i.text.length:1)*t.lineHeight+s.height}function JA(i,e){return Ds(i,{scale:e,type:"scale"})}function ZA(i,e,t){return Ds(i,{tick:t,index:e,type:"tick"})}function eO(i,e,t){let s=Lf(i);return(t&&e!=="right"||!t&&e==="right")&&(s=KA(s)),s}function tO(i,e,t,s){const{top:a,left:o,bottom:c,right:h,chart:d}=i,{chartArea:f,scales:y}=d;let b=0,v,_,S;const w=c-a,T=h-o;if(i.isHorizontal()){if(_=At(s,o,h),Me(t)){const C=Object.keys(t)[0],j=t[C];S=y[C].getPixelForValue(j)+w-e}else t==="center"?S=(f.bottom+f.top)/2+w-e:S=Sv(i,t,e);v=h-o}else{if(Me(t)){const C=Object.keys(t)[0],j=t[C];_=y[C].getPixelForValue(j)-T+e}else t==="center"?_=(f.left+f.right)/2-T+e:_=Sv(i,t,e);S=At(s,c,a),b=t==="left"?-pt:pt}return{titleX:_,titleY:S,maxWidth:v,rotation:b}}class Fa extends fi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:a}=this;return e=Mn(e,Number.POSITIVE_INFINITY),t=Mn(t,Number.NEGATIVE_INFINITY),s=Mn(s,Number.POSITIVE_INFINITY),a=Mn(a,Number.NEGATIVE_INFINITY),{min:Mn(e,s),max:Mn(t,a),minDefined:pn(e),maxDefined:pn(t)}}getMinMax(e){let{min:t,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:t,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,f=h.length;d<f;++d)c=h[d].controller.getMinMax(this,e),a||(t=Math.min(t,c.min)),o||(s=Math.max(s,c.max));return t=o&&t>s?s:t,s=a&&t>s?t:s,{min:Mn(t,Mn(s,t)),max:Mn(s,Mn(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ke(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=s2(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Tv(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=qA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ke(this.options.afterUpdate,[this])}beforeSetDimensions(){Ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=Ke(t.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=wv(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,o=t.maxRotation;let c=a,h,d,f;if(!this._isVisible()||!t.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),b=y.widest.width,v=y.highest.height,_=Ot(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/s:_/(s-1),b+6>h&&(h=_/(s-(e.offset?.5:1)),d=this.maxHeight-Gr(e.grid)-t.padding-Ev(e.title,this.chart.options.font),f=Math.sqrt(b*b+v*v),c=Oj(Math.min(Math.asin(Ot((y.highest.height+6)/h,-1,1)),Math.asin(Ot(d/f,-1,1))-Math.asin(Ot(v/f,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=Ev(a,t.options.font);if(h?(e.width=this.maxWidth,e.height=Gr(o)+d):(e.height=this.maxHeight,e.width=Gr(o)+d),s.display&&this.ticks.length){const{first:f,last:y,widest:b,highest:v}=this._getLabelSizes(),_=s.padding*2,S=ci(this.labelRotation),w=Math.cos(S),T=Math.sin(S);if(h){const C=s.mirror?0:T*b.width+w*v.height;e.height=Math.min(this.maxHeight,e.height+C+_)}else{const C=s.mirror?0:w*b.width+T*v.height;e.width=Math.min(this.maxWidth,e.width+C+_)}this._calculatePadding(f,y,T,w)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,a){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;d?f?(v=a*e.width,_=s*t.height):(v=s*e.height,_=a*t.width):o==="start"?_=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((_-b+c)*this.width/(this.width-b),0)}else{let y=t.height/2,b=e.height/2;o==="start"?(y=0,b=e.height):o==="end"&&(y=t.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Le(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=Tv(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(t/wv(t,s));let f=0,y=0,b,v,_,S,w,T,C,j,A,k,N;for(b=0;b<t;b+=d){if(S=e[b].label,w=this._resolveTickFontOptions(b),a.font=T=w.string,C=o[T]=o[T]||{data:{},gc:[]},j=w.lineHeight,A=k=0,!Le(S)&&!gt(S))A=Jb(a,C.data,C.gc,A,S),k=j;else if(gt(S))for(v=0,_=S.length;v<_;++v)N=S[v],!Le(N)&&!gt(N)&&(A=Jb(a,C.data,C.gc,A,N),k+=j);c.push(A),h.push(k),f=Math.max(A,f),y=Math.max(k,y)}QA(o,t);const q=c.indexOf(f),D=h.indexOf(y),V=z=>({width:c[z]||0,height:h[z]||0});return{first:V(0),last:V(t-1),widest:V(q),highest:V(D),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Mj(this._alignToPixels?ys(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=ZA(this.getContext(),e,s))}return this.$context||(this.$context=JA(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=ci(this.labelRotation),s=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*s>h*a?h/s:d/a:d*a<h*s?d/s:h/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:h}=a,d=o.offset,f=this.isHorizontal(),b=this.ticks.length+(d?1:0),v=Gr(o),_=[],S=h.setContext(this.getContext()),w=S.display?S.width:0,T=w/2,C=function(U){return ys(s,U,w)};let j,A,k,N,q,D,V,z,ee,W,B,G;if(c==="top")j=C(this.bottom),D=this.bottom-v,z=j-T,W=C(e.top)+T,G=e.bottom;else if(c==="bottom")j=C(this.top),W=e.top,G=C(e.bottom)-T,D=j+T,z=this.top+v;else if(c==="left")j=C(this.right),q=this.right-v,V=j-T,ee=C(e.left)+T,B=e.right;else if(c==="right")j=C(this.left),ee=e.left,B=C(e.right)-T,q=j+T,V=this.left+v;else if(t==="x"){if(c==="center")j=C((e.top+e.bottom)/2+.5);else if(Me(c)){const U=Object.keys(c)[0],Z=c[U];j=C(this.chart.scales[U].getPixelForValue(Z))}W=e.top,G=e.bottom,D=j+T,z=D+v}else if(t==="y"){if(c==="center")j=C((e.left+e.right)/2);else if(Me(c)){const U=Object.keys(c)[0],Z=c[U];j=C(this.chart.scales[U].getPixelForValue(Z))}q=j-T,V=q-v,ee=e.left,B=e.right}const ae=Te(a.ticks.maxTicksLimit,b),re=Math.max(1,Math.ceil(b/ae));for(A=0;A<b;A+=re){const U=this.getContext(A),Z=o.setContext(U),ue=h.setContext(U),me=Z.lineWidth,we=Z.color,R=ue.dash||[],K=ue.dashOffset,ne=Z.tickWidth,se=Z.tickColor,fe=Z.tickBorderDash||[],ge=Z.tickBorderDashOffset;k=XA(this,A,d),k!==void 0&&(N=ys(s,k,me),f?q=V=ee=B=N:D=z=W=G=N,_.push({tx1:q,ty1:D,tx2:V,ty2:z,x1:ee,y1:W,x2:B,y2:G,width:me,color:we,borderDash:R,borderDashOffset:K,tickWidth:ne,tickColor:se,tickBorderDash:fe,tickBorderDashOffset:ge}))}return this._ticksLength=b,this._borderValue=j,_}_computeLabelItems(e){const t=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:f,padding:y,mirror:b}=o,v=Gr(s.grid),_=v+y,S=b?-y:_,w=-ci(this.labelRotation),T=[];let C,j,A,k,N,q,D,V,z,ee,W,B,G="middle";if(a==="top")q=this.bottom-S,D=this._getXAxisLabelAlignment();else if(a==="bottom")q=this.top+S,D=this._getXAxisLabelAlignment();else if(a==="left"){const re=this._getYAxisLabelAlignment(v);D=re.textAlign,N=re.x}else if(a==="right"){const re=this._getYAxisLabelAlignment(v);D=re.textAlign,N=re.x}else if(t==="x"){if(a==="center")q=(e.top+e.bottom)/2+_;else if(Me(a)){const re=Object.keys(a)[0],U=a[re];q=this.chart.scales[re].getPixelForValue(U)+_}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(a==="center")N=(e.left+e.right)/2-_;else if(Me(a)){const re=Object.keys(a)[0],U=a[re];N=this.chart.scales[re].getPixelForValue(U)}D=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?G="top":d==="end"&&(G="bottom"));const ae=this._getLabelSizes();for(C=0,j=h.length;C<j;++C){A=h[C],k=A.label;const re=o.setContext(this.getContext(C));V=this.getPixelForTick(C)+o.labelOffset,z=this._resolveTickFontOptions(C),ee=z.lineHeight,W=gt(k)?k.length:1;const U=W/2,Z=re.color,ue=re.textStrokeColor,me=re.textStrokeWidth;let we=D;c?(N=V,D==="inner"&&(C===j-1?we=this.options.reverse?"left":"right":C===0?we=this.options.reverse?"right":"left":we="center"),a==="top"?f==="near"||w!==0?B=-W*ee+ee/2:f==="center"?B=-ae.highest.height/2-U*ee+ee:B=-ae.highest.height+ee/2:f==="near"||w!==0?B=ee/2:f==="center"?B=ae.highest.height/2-U*ee:B=ae.highest.height-W*ee,b&&(B*=-1),w!==0&&!re.showLabelBackdrop&&(N+=ee/2*Math.sin(w))):(q=V,B=(1-W)*ee/2);let R;if(re.showLabelBackdrop){const K=mn(re.backdropPadding),ne=ae.heights[C],se=ae.widths[C];let fe=B-K.top,ge=0-K.left;switch(G){case"middle":fe-=ne/2;break;case"bottom":fe-=ne;break}switch(D){case"center":ge-=se/2;break;case"right":ge-=se;break;case"inner":C===j-1?ge-=se:C>0&&(ge-=se/2);break}R={left:ge,top:fe,width:se+K.width,height:ne+K.height,color:re.backdropColor}}T.push({label:k,font:z,textOffset:B,options:{rotation:w,color:Z,strokeColor:ue,strokeWidth:me,textAlign:we,textBaseline:G,translation:[N,q],backdrop:R}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ci(this.labelRotation))return e==="top"?"left":"right";let a="center";return t.align==="start"?a="left":t.align==="end"?a="right":t.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,d=c.widest.width;let f,y;return t==="left"?a?(y=this.right+o,s==="near"?f="left":s==="center"?(f="center",y+=d/2):(f="right",y+=d)):(y=this.right-h,s==="near"?f="right":s==="center"?(f="center",y-=d/2):(f="left",y=this.left)):t==="right"?a?(y=this.left+o,s==="near"?f="right":s==="center"?(f="center",y-=d/2):(f="left",y-=d)):(y=this.left+h,s==="near"?f="left":s==="center"?(f="center",y+=d/2):(f="right",y=this.right)):f="right",{textAlign:f,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:a,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,a,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(d,f,y)=>{!y.width||!y.color||(s.save(),s.lineWidth=y.width,s.strokeStyle=y.color,s.setLineDash(y.borderDash||[]),s.lineDashOffset=y.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(t.display)for(o=0,c=a.length;o<c;++o){const d=a[o];t.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,y,b,v;this.isHorizontal()?(f=ys(e,this.left,c)-c/2,y=ys(e,this.right,h)+h/2,b=v=d):(b=ys(e,this.top,c)-c/2,v=ys(e,this.bottom,h)+h/2,f=y=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,b),t.lineTo(y,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&Uf(s,a);const o=this.getLabelItems(e);for(const c of o){const h=c.options,d=c.font,f=c.label,y=c.textOffset;yo(s,f,0,y,d,h)}a&&Hf(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:a}}=this;if(!s.display)return;const o=Rt(s.font),c=mn(s.padding),h=s.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||Me(t)?(d+=c.bottom,gt(s.text)&&(d+=o.lineHeight*(s.text.length-1))):d+=c.top;const{titleX:f,titleY:y,maxWidth:b,rotation:v}=tO(this,d,t,h);yo(e,s.text,0,0,o,{color:s.color,maxWidth:b,rotation:v,textAlign:eO(h,t,a),textBaseline:"middle",translation:[f,y]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Te(e.grid&&e.grid.z,-1),a=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Fa.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[s]===this.id&&(!e||h.type===e)&&a.push(h)}return a}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Rt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class lc{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;sO(t)&&(s=this.register(t));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,nO(e,c,s),this.override&&rt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,a=this.scope;s in t&&delete t[s],a&&s in rt[a]&&(delete rt[a][s],this.override&&delete ks[s])}}function nO(i,e,t){const s=ho(Object.create(null),[t?rt.get(t):{},rt.get(e),i.defaults]);rt.set(e,s),i.defaultRoutes&&iO(e,i.defaultRoutes),i.descriptors&&rt.describe(e,i.descriptors)}function iO(i,e){Object.keys(e).forEach(t=>{const s=t.split("."),a=s.pop(),o=[i].concat(s).join("."),c=e[t].split("."),h=c.pop(),d=c.join(".");rt.route(o,a,d,h)})}function sO(i){return"id"in i&&"defaults"in i}class aO{constructor(){this.controllers=new lc(Vc,"datasets",!0),this.elements=new lc(fi,"elements"),this.plugins=new lc(Object,"plugins"),this.scales=new lc(Fa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):Ue(a,c=>{const h=s||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,s){const a=Nf(e);Ke(s["before"+a],[],s),t[e](s),Ke(s["after"+a],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const a=t.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var Dn=new aO;class rO{constructor(){this._init=void 0}notify(e,t,s,a){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,t,s);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,s,a){a=a||{};for(const o of e){const c=o.plugin,h=c[s],d=[t,a,o.options];if(Ke(h,d,c)===!1&&a.cancelable)return!1}return!0}invalidate(){Le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,a=Te(s.options&&s.options.plugins,{}),o=oO(s);return a===!1&&!t?[]:cO(e,o,a,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(a(t,s),e,"stop"),this._notify(a(s,t),e,"start")}}function oO(i){const e={},t=[],s=Object.keys(Dn.plugins.items);for(let o=0;o<s.length;o++)t.push(Dn.getPlugin(s[o]));const a=i.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function lO(i,e){return!e&&i===!1?null:i===!0?{}:i}function cO(i,{plugins:e,localIds:t},s,a){const o=[],c=i.getContext();for(const h of e){const d=h.id,f=lO(s[d],a);f!==null&&o.push({plugin:h,options:uO(i.config,{plugin:h,local:t[d]},f,c)})}return o}function uO(i,{plugin:e,local:t},s,a){const o=i.pluginScopeKeys(e),c=i.getOptionScopes(s,o);return t&&e.defaults&&c.push(e.defaults),i.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cf(i,e){const t=rt.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function hO(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function dO(i,e){return i===e?"_index_":"_value_"}function Cv(i){if(i==="x"||i==="y"||i==="r")return i}function fO(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function uf(i,...e){if(Cv(i))return i;for(const t of e){const s=t.axis||fO(t.position)||i.length>1&&Cv(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function jv(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function gO(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(t.length)return jv(i,"x",t[0])||jv(i,"y",t[0])}return{}}function pO(i,e){const t=ks[i.type]||{scales:{}},s=e.scales||{},a=cf(i.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Me(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=uf(c,h,gO(c,i),rt.scales[h.type]),f=dO(d,a),y=t.scales||{};o[c]=io(Object.create(null),[{axis:d},h,y[d],y[f]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,d=c.indexAxis||cf(h,e),y=(ks[h]||{}).scales||{};Object.keys(y).forEach(b=>{const v=hO(b,d),_=c[v+"AxisID"]||v;o[_]=o[_]||Object.create(null),io(o[_],[{axis:v},s[_],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];io(h,[rt.scales[h.type],rt.scale])}),o}function hx(i){const e=i.options||(i.options={});e.plugins=Te(e.plugins,{}),e.scales=pO(i,e)}function dx(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function mO(i){return i=i||{},i.data=dx(i.data),hx(i),i}const Av=new Map,fx=new Set;function cc(i,e){let t=Av.get(i);return t||(t=e(),Av.set(i,t),fx.add(t)),t}const Wr=(i,e,t)=>{const s=Ms(e,t);s!==void 0&&i.add(s)};class yO{constructor(e){this._config=mO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dx(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hx(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return cc(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return cc(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return cc(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let a=s.get(e);return(!a||t)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,t,s){const{options:a,type:o}=this,c=this._cachedScopes(e,s),h=c.get(t);if(h)return h;const d=new Set;t.forEach(y=>{e&&(d.add(e),y.forEach(b=>Wr(d,e,b))),y.forEach(b=>Wr(d,a,b)),y.forEach(b=>Wr(d,ks[o]||{},b)),y.forEach(b=>Wr(d,rt,b)),y.forEach(b=>Wr(d,of,b))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),fx.has(t)&&c.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,ks[t]||{},rt.datasets[t]||{},{type:t},rt,of]}resolveNamedOptions(e,t,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Ov(this._resolverCache,e,a);let d=c;if(vO(c,t)){o.$shared=!1,s=Wi(s)?s():s;const f=this.createResolver(e,s,h);d=Pa(c,s,f)}for(const f of t)o[f]=d[f];return o}createResolver(e,t,s=[""],a){const{resolver:o}=Ov(this._resolverCache,e,s);return Me(t)?Pa(o,t,void 0,a):o}}function Ov(i,e,t){let s=i.get(e);s||(s=new Map,i.set(e,s));const a=t.join();let o=s.get(a);return o||(o={resolver:If(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},s.set(a,o)),o}const bO=i=>Me(i)&&Object.getOwnPropertyNames(i).some(e=>Wi(i[e]));function vO(i,e){const{isScriptable:t,isIndexable:s}=K_(i);for(const a of e){const o=t(a),c=s(a),h=(c||o)&&i[a];if(o&&(Wi(h)||bO(h))||c&&gt(h))return!0}return!1}var _O="4.5.1";const xO=["top","bottom","left","right","chartArea"];function Rv(i,e){return i==="top"||i==="bottom"||xO.indexOf(i)===-1&&e==="x"}function Mv(i,e){return function(t,s){return t[i]===s[i]?t[e]-s[e]:t[i]-s[i]}}function kv(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ke(t&&t.onComplete,[i],e)}function SO(i){const e=i.chart,t=e.options.animation;Ke(t&&t.onProgress,[i],e)}function gx(i){return Vf()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const vc={},Dv=i=>{const e=gx(i);return Object.values(vc).filter(t=>t.canvas===e).pop()};function wO(i,e,t){const s=Object.keys(i);for(const a of s){const o=+a;if(o>=e){const c=i[a];delete i[a],(t>0||o>e)&&(i[o+t]=c)}}}function TO(i,e,t,s){return!t||i.type==="mouseout"?null:s?e:i}let Wc=class{static defaults=rt;static instances=vc;static overrides=ks;static registry=Dn;static version=_O;static getChart=Dv;static register(...e){Dn.add(...e),Nv()}static unregister(...e){Dn.remove(...e),Nv()}constructor(e,t){const s=this.config=new yO(t),a=gx(e),o=Dv(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||IA(a)),this.platform.updateConfig(s);const h=this.platform.acquireContext(a,c.aspectRatio),d=h&&h.canvas,f=d&&d.height,y=d&&d.width;if(this.id=mj(),this.ctx=h,this.canvas=d,this.width=y,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new rO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Pj(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],vc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ri.listen(this,"complete",kv),ri.listen(this,"progress",SO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:a,_aspectRatio:o}=this;return Le(e)?t&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zb(this.canvas,this.ctx),this}stop(){return ri.stop(this),this}resize(e,t){ri.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,t,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,nv(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ke(s.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Ue(t,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,a=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],d=uf(c,h),f=d==="r",y=d==="x";return{options:h,dposition:f?"chartArea":y?"bottom":"left",dtype:f?"radialLinear":y?"category":"linear"}}))),Ue(o,c=>{const h=c.options,d=h.id,f=uf(d,h),y=Te(h.type,c.dtype);(h.position===void 0||Rv(h.position,f)!==Rv(c.dposition))&&(h.position=c.dposition),a[d]=!0;let b=null;if(d in s&&s[d].type===y)b=s[d];else{const v=Dn.getScale(y);b=new v({id:d,type:y,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(h,e)}),Ue(a,(c,h)=>{c||delete s[h]}),Ue(s,c=>{fn.configure(this,c,c.options),fn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>t){for(let a=t;a<s;++a)this._destroyDatasetMeta(a);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(Mv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,a)=>{t.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=t.length;s<a;s++){const o=t[s];let c=this.getDatasetMeta(s);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=o.indexAxis||cf(h,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const d=Dn.getController(h),{datasetElementType:f,dataElementType:y}=rt.datasets[h];Object.assign(d,{dataElementType:Dn.getElement(y),datasetElementType:f&&Dn.getElement(f)}),c.controller=new d(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){Ue(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,y=this.data.datasets.length;f<y;f++){const{controller:b}=this.getDatasetMeta(f),v=!a&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||Ue(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Mv("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ue(this.scales,e=>{fn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!qb(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of t){const c=s==="_removeElements"?-o:o;wO(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<t;o++)if(!qb(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],Ue(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Wi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ri.has(this)?this.attached&&!ri.running(this)&&ri.start(this):(this.draw(),kv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let a,o;for(a=0,o=t.length;a<o;++a){const c=t[a];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=F2(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&Uf(t,a),e.controller.draw(),a&&Hf(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return mo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,a){const o=xA.modes[t];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);fo(t)?(o.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(h=>h.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ri.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Zb(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete vc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Ue(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},a=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){Ue(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Ue(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const a=s?"set":"remove";let o,c,h,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Rc(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const a=this.options.hover,o=(d,f)=>d.filter(y=>!f.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(t,e),h=s?e:o(e,t);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:a=[],options:o}=this,c=t,h=this._getActiveElements(e,a,s,c),d=Sj(e),f=TO(e,this._lastEvent,s,d);s&&(this._lastEvent=null,Ke(o.onHover,[e,h,this],this),d&&Ke(o.onClick,[e,h,this],this));const y=!Rc(h,a);return(y||t)&&(this._active=h,this._updateHoverStyles(h,a,t)),this._lastEvent=f,y}_getActiveElements(e,t,s,a){if(e.type==="mouseout")return[];if(!s)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}};function Nv(){return Ue(Wc.instances,i=>i._plugins.invalidate())}function EO(i,e,t){const{startAngle:s,x:a,y:o,outerRadius:c,innerRadius:h,options:d}=e,{borderWidth:f,borderJoinStyle:y}=d,b=Math.min(f/c,wn(s-t));if(i.beginPath(),i.arc(a,o,c-f/2,s+b/2,t-b/2),h>0){const v=Math.min(f/h,wn(s-t));i.arc(a,o,h+f/2,t-v/2,s+v/2,!0)}else{const v=Math.min(f/2,c*wn(s-t));if(y==="round")i.arc(a,o,v,t-He/2,s+He/2,!0);else if(y==="bevel"){const _=2*v*v,S=-_*Math.cos(t+He/2)+a,w=-_*Math.sin(t+He/2)+o,T=_*Math.cos(s+He/2)+a,C=_*Math.sin(s+He/2)+o;i.lineTo(S,w),i.lineTo(T,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function CO(i,e,t){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:h,innerRadius:d}=e;let f=a/h;i.beginPath(),i.arc(o,c,h,s-f,t+f),d>a?(f=a/d,i.arc(o,c,d,t+f,s-f,!0)):i.arc(o,c,a,t+pt,s-pt),i.closePath(),i.clip()}function jO(i){return Ff(i,["outerStart","outerEnd","innerStart","innerEnd"])}function AO(i,e,t,s){const a=jO(i.options.borderRadius),o=(t-e)/2,c=Math.min(o,s*e/2),h=d=>{const f=(t-Math.min(o,d))*s/2;return Ot(d,0,Math.min(o,f))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:Ot(a.innerStart,0,c),innerEnd:Ot(a.innerEnd,0,c)}}function wa(i,e,t,s){return{x:t+i*Math.cos(e),y:s+i*Math.sin(e)}}function Lc(i,e,t,s,a,o){const{x:c,y:h,startAngle:d,pixelMargin:f,innerRadius:y}=e,b=Math.max(e.outerRadius+s+t-f,0),v=y>0?y+s+t+f:0;let _=0;const S=a-d;if(s){const re=y>0?y-s:0,U=b>0?b-s:0,Z=(re+U)/2,ue=Z!==0?S*Z/(Z+s):S;_=(S-ue)/2}const w=Math.max(.001,S*b-t/He)/b,T=(S-w)/2,C=d+T+_,j=a-T-_,{outerStart:A,outerEnd:k,innerStart:N,innerEnd:q}=AO(e,v,b,j-C),D=b-A,V=b-k,z=C+A/D,ee=j-k/V,W=v+N,B=v+q,G=C+N/W,ae=j-q/B;if(i.beginPath(),o){const re=(z+ee)/2;if(i.arc(c,h,b,z,re),i.arc(c,h,b,re,ee),k>0){const me=wa(V,ee,c,h);i.arc(me.x,me.y,k,ee,j+pt)}const U=wa(B,j,c,h);if(i.lineTo(U.x,U.y),q>0){const me=wa(B,ae,c,h);i.arc(me.x,me.y,q,j+pt,ae+Math.PI)}const Z=(j-q/v+(C+N/v))/2;if(i.arc(c,h,v,j-q/v,Z,!0),i.arc(c,h,v,Z,C+N/v,!0),N>0){const me=wa(W,G,c,h);i.arc(me.x,me.y,N,G+Math.PI,C-pt)}const ue=wa(D,C,c,h);if(i.lineTo(ue.x,ue.y),A>0){const me=wa(D,z,c,h);i.arc(me.x,me.y,A,C-pt,z)}}else{i.moveTo(c,h);const re=Math.cos(z)*b+c,U=Math.sin(z)*b+h;i.lineTo(re,U);const Z=Math.cos(ee)*b+c,ue=Math.sin(ee)*b+h;i.lineTo(Z,ue)}i.closePath()}function OO(i,e,t,s,a){const{fullCircles:o,startAngle:c,circumference:h}=e;let d=e.endAngle;if(o){Lc(i,e,t,s,d,a);for(let f=0;f<o;++f)i.fill();isNaN(h)||(d=c+(h%it||it))}return Lc(i,e,t,s,d,a),i.fill(),d}function RO(i,e,t,s,a){const{fullCircles:o,startAngle:c,circumference:h,options:d}=e,{borderWidth:f,borderJoinStyle:y,borderDash:b,borderDashOffset:v,borderRadius:_}=d,S=d.borderAlign==="inner";if(!f)return;i.setLineDash(b||[]),i.lineDashOffset=v,S?(i.lineWidth=f*2,i.lineJoin=y||"round"):(i.lineWidth=f,i.lineJoin=y||"bevel");let w=e.endAngle;if(o){Lc(i,e,t,s,w,a);for(let T=0;T<o;++T)i.stroke();isNaN(h)||(w=c+(h%it||it))}S&&CO(i,e,w),d.selfJoin&&w-c>=He&&_===0&&y!=="miter"&&EO(i,e,w),o||(Lc(i,e,t,s,w,a),i.stroke())}class MO extends fi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.getProps(["x","y"],s),{angle:o,distance:c}=F_(a,{x:e,y:t}),{startAngle:h,endAngle:d,innerRadius:f,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,_=Te(b,d-h),S=po(o,h,d)&&h!==d,w=_>=it||S,T=qi(c,f+v,y+v);return w&&T}getCenterPoint(e){const{x:t,y:s,startAngle:a,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,y=(a+o)/2,b=(c+h+f+d)/2;return{x:t+Math.cos(y)*b,y:s+Math.sin(y)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,a=(t.offset||0)/4,o=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>it?Math.floor(s/it):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*a,Math.sin(h)*a);const d=1-Math.sin(Math.min(He,s||0)),f=a*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,OO(e,this,f,o,c),RO(e,this,f,o,c),e.restore()}}function px(i,e,t=e){i.lineCap=Te(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Te(t.borderDash,e.borderDash)),i.lineDashOffset=Te(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Te(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Te(t.borderWidth,e.borderWidth),i.strokeStyle=Te(t.borderColor,e.borderColor)}function kO(i,e,t){i.lineTo(t.x,t.y)}function DO(i){return i.stepped?Kj:i.tension||i.cubicInterpolationMode==="monotone"?Xj:kO}function mx(i,e,t={}){const s=i.length,{start:a=0,end:o=s-1}=t,{start:c,end:h}=e,d=Math.max(a,c),f=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:s,start:d,loop:e.loop,ilen:f<d&&!y?s+f-d:f-d}}function NO(i,e,t,s){const{points:a,options:o}=e,{count:c,start:h,loop:d,ilen:f}=mx(a,t,s),y=DO(o);let{move:b=!0,reverse:v}=s||{},_,S,w;for(_=0;_<=f;++_)S=a[(h+(v?f-_:_))%c],!S.skip&&(b?(i.moveTo(S.x,S.y),b=!1):y(i,w,S,v,o.stepped),w=S);return d&&(S=a[(h+(v?f:0))%c],y(i,w,S,v,o.stepped)),!!d}function PO(i,e,t,s){const a=e.points,{count:o,start:c,ilen:h}=mx(a,t,s),{move:d=!0,reverse:f}=s||{};let y=0,b=0,v,_,S,w,T,C;const j=k=>(c+(f?h-k:k))%o,A=()=>{w!==T&&(i.lineTo(y,T),i.lineTo(y,w),i.lineTo(y,C))};for(d&&(_=a[j(0)],i.moveTo(_.x,_.y)),v=0;v<=h;++v){if(_=a[j(v)],_.skip)continue;const k=_.x,N=_.y,q=k|0;q===S?(N<w?w=N:N>T&&(T=N),y=(b*y+k)/++b):(A(),i.lineTo(k,N),S=q,b=0,w=T=N),C=N}A()}function hf(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?PO:NO}function LO(i){return i.stepped?A2:i.tension||i.cubicInterpolationMode==="monotone"?O2:Ts}function zO(i,e,t,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,s)&&a.closePath()),px(i,e.options),i.stroke(a)}function BO(i,e,t,s){const{segments:a,options:o}=e,c=hf(e);for(const h of a)px(i,o,h.style),i.beginPath(),c(i,e,h,{start:t,end:t+s-1})&&i.closePath(),i.stroke()}const UO=typeof Path2D=="function";function HO(i,e,t,s){UO&&!e.options.segment?zO(i,e,t,s):BO(i,e,t,s)}class FO extends fi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;_2(this._points,s,e,a,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=z2(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,a=e[t],o=this.points,c=N2(this,{property:t,start:a,end:a});if(!c.length)return;const h=[],d=LO(s);let f,y;for(f=0,y=c.length;f<y;++f){const{start:b,end:v}=c[f],_=o[b],S=o[v];if(_===S){h.push(_);continue}const w=Math.abs((a-_[t])/(S[t]-_[t])),T=d(_,S,w,s.stepped);T[t]=e[t],h.push(T)}return h.length===1?h[0]:h}pathSegment(e,t,s){return hf(this)(e,this,t,s)}path(e,t,s){const a=this.segments,o=hf(this);let c=this._loop;t=t||0,s=s||this.points.length-t;for(const h of a)c&=o(e,this,h,{start:t,end:t+s-1});return!!c}draw(e,t,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),HO(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Pv(i,e,t,s){const a=i.options,{[t]:o}=i.getProps([t],s);return Math.abs(e-o)<a.radius+a.hitRadius}class IO extends fi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(t-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,t){return Pv(this,e,"x",t)}inYRange(e,t){return Pv(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!mo(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,lf(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function yx(i,e){const{x:t,y:s,base:a,width:o,height:c}=i.getProps(["x","y","base","width","height"],e);let h,d,f,y,b;return i.horizontal?(b=c/2,h=Math.min(t,a),d=Math.max(t,a),f=s-b,y=s+b):(b=o/2,h=t-b,d=t+b,f=Math.min(s,a),y=Math.max(s,a)),{left:h,top:f,right:d,bottom:y}}function Vi(i,e,t,s){return i?0:Ot(e,t,s)}function qO(i,e,t){const s=i.options.borderWidth,a=i.borderSkipped,o=Y_(s);return{t:Vi(a.top,o.top,0,t),r:Vi(a.right,o.right,0,e),b:Vi(a.bottom,o.bottom,0,t),l:Vi(a.left,o.left,0,e)}}function $O(i,e,t){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),a=i.options.borderRadius,o=Ra(a),c=Math.min(e,t),h=i.borderSkipped,d=s||Me(a);return{topLeft:Vi(!d||h.top||h.left,o.topLeft,0,c),topRight:Vi(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Vi(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Vi(!d||h.bottom||h.right,o.bottomRight,0,c)}}function VO(i){const e=yx(i),t=e.right-e.left,s=e.bottom-e.top,a=qO(i,t/2,s/2),o=$O(i,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Ld(i,e,t,s){const a=e===null,o=t===null,h=i&&!(a&&o)&&yx(i,s);return h&&(a||qi(e,h.left,h.right))&&(o||qi(t,h.top,h.bottom))}function GO(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function WO(i,e){i.rect(e.x,e.y,e.w,e.h)}function zd(i,e,t={}){const s=i.x!==t.x?-e:0,a=i.y!==t.y?-e:0,o=(i.x+i.w!==t.x+t.w?e:0)-s,c=(i.y+i.h!==t.y+t.h?e:0)-a;return{x:i.x+s,y:i.y+a,w:i.w+o,h:i.h+c,radius:i.radius}}class YO extends fi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=VO(this),h=GO(c.radius)?Dc:WO;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,zd(c,t,o)),e.clip(),h(e,zd(o,-t,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),h(e,zd(o,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,s){return Ld(this,e,t,s)}inXRange(e,t){return Ld(this,e,null,t)}inYRange(e,t){return Ld(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+a)/2:t,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Lv=(i,e)=>{let{boxHeight:t=e,boxWidth:s=e}=i;return i.usePointStyle&&(t=Math.min(t,e),s=i.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},KO=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class zv extends fi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ke(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Rt(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=Lv(s,o);let f,y;t.font=a.string,this.isHorizontal()?(f=this.maxWidth,y=this._fitRows(c,o,h,d)+10):(y=this.maxHeight,f=this._fitCols(c,a,h,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(y,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],y=a+h;let b=e;o.textAlign="left",o.textBaseline="middle";let v=-1,_=-y;return this.legendItems.forEach((S,w)=>{const T=s+t/2+o.measureText(S.text).width;(w===0||f[f.length-1]+T+2*h>c)&&(b+=y,f[f.length-(w>0?0:1)]=0,_+=y,v++),d[w]={left:0,top:_,row:v,width:T,height:a},f[f.length-1]+=T+h}),b}_fitCols(e,t,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],y=c-e;let b=h,v=0,_=0,S=0,w=0;return this.legendItems.forEach((T,C)=>{const{itemWidth:j,itemHeight:A}=XO(s,t,o,T,a);C>0&&_+A+2*h>y&&(b+=v+h,f.push({width:v,height:_}),S+=v+h,w++,v=_=0),d[C]={left:S,top:_,col:w,width:j,height:A},v=Math.max(v,j),_+=A+h}),b+=v,f.push({width:v,height:_}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:a},rtl:o}}=this,c=Ma(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=At(s,this.left+a,this.right-this.lineWidths[h]);for(const f of t)h!==f.row&&(h=f.row,d=At(s,this.left+a,this.right-this.lineWidths[h])),f.top+=this.top+e+a,f.left=c.leftForLtr(c.x(d),f.width),d+=f.width+a}else{let h=0,d=At(s,this.top+e+a,this.bottom-this.columnSizes[h].height);for(const f of t)f.col!==h&&(h=f.col,d=At(s,this.top+e+a,this.bottom-this.columnSizes[h].height)),f.top=d,f.left+=this.left+a,f.left=c.leftForLtr(c.x(f.left),f.width),d+=f.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Uf(e,this),this._draw(),Hf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:a}=this,{align:o,labels:c}=e,h=rt.color,d=Ma(e.rtl,this.left,this.width),f=Rt(c.font),{padding:y}=c,b=f.size,v=b/2;let _;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=f.string;const{boxWidth:S,boxHeight:w,itemHeight:T}=Lv(c,b),C=function(q,D,V){if(isNaN(S)||S<=0||isNaN(w)||w<0)return;a.save();const z=Te(V.lineWidth,1);if(a.fillStyle=Te(V.fillStyle,h),a.lineCap=Te(V.lineCap,"butt"),a.lineDashOffset=Te(V.lineDashOffset,0),a.lineJoin=Te(V.lineJoin,"miter"),a.lineWidth=z,a.strokeStyle=Te(V.strokeStyle,h),a.setLineDash(Te(V.lineDash,[])),c.usePointStyle){const ee={radius:w*Math.SQRT2/2,pointStyle:V.pointStyle,rotation:V.rotation,borderWidth:z},W=d.xPlus(q,S/2),B=D+v;W_(a,ee,W,B,c.pointStyleWidth&&S)}else{const ee=D+Math.max((b-w)/2,0),W=d.leftForLtr(q,S),B=Ra(V.borderRadius);a.beginPath(),Object.values(B).some(G=>G!==0)?Dc(a,{x:W,y:ee,w:S,h:w,radius:B}):a.rect(W,ee,S,w),a.fill(),z!==0&&a.stroke()}a.restore()},j=function(q,D,V){yo(a,V.text,q,D+T/2,f,{strikethrough:V.hidden,textAlign:d.textAlign(V.textAlign)})},A=this.isHorizontal(),k=this._computeTitleHeight();A?_={x:At(o,this.left+y,this.right-s[0]),y:this.top+y+k,line:0}:_={x:this.left+y,y:At(o,this.top+k+y,this.bottom-t[0].height),line:0},ex(this.ctx,e.textDirection);const N=T+y;this.legendItems.forEach((q,D)=>{a.strokeStyle=q.fontColor,a.fillStyle=q.fontColor;const V=a.measureText(q.text).width,z=d.textAlign(q.textAlign||(q.textAlign=c.textAlign)),ee=S+v+V;let W=_.x,B=_.y;d.setWidth(this.width),A?D>0&&W+ee+y>this.right&&(B=_.y+=N,_.line++,W=_.x=At(o,this.left+y,this.right-s[_.line])):D>0&&B+N>this.bottom&&(W=_.x=W+t[_.line].width+y,_.line++,B=_.y=At(o,this.top+k+y,this.bottom-t[_.line].height));const G=d.x(W);if(C(G,B,q),W=Lj(z,W+S+v,A?W+ee:this.right,e.rtl),j(d.x(W),B,q),A)_.x+=ee+y;else if(typeof q.text!="string"){const ae=f.lineHeight;_.y+=bx(q,ae)+y}else _.y+=N}),tx(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Rt(t.font),a=mn(t.padding);if(!t.display)return;const o=Ma(e.rtl,this.left,this.width),c=this.ctx,h=t.position,d=s.size/2,f=a.top+d;let y,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),y=this.top+f,b=At(e.align,b,this.right-v);else{const S=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);y=f+At(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const _=At(h,b,b+v);c.textAlign=o.textAlign(Lf(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=s.string,yo(c,t.text,_,y,s)}_computeTitleHeight(){const e=this.options.title,t=Rt(e.font),s=mn(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,a,o;if(qi(e,this.left,this.right)&&qi(t,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],qi(e,a.left,a.left+a.width)&&qi(t,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!ZO(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=KO(a,s);a&&!o&&Ke(t.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&Ke(t.onHover,[e,s,this],this)}else s&&Ke(t.onClick,[e,s,this],this)}}function XO(i,e,t,s,a){const o=QO(s,i,e,t),c=JO(a,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function QO(i,e,t,s){let a=i.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+s.measureText(a).width}function JO(i,e,t){let s=i;return typeof e.text!="string"&&(s=bx(e,t)),s}function bx(i,e){const t=i.text?i.text.length:0;return e*t}function ZO(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var eR={id:"legend",_element:zv,start(i,e,t){const s=i.legend=new zv({ctx:i.ctx,options:t,chart:i});fn.configure(i,s,t),fn.addBox(i,s)},stop(i){fn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const s=i.legend;fn.configure(i,s,t),s.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const s=e.datasetIndex,a=t.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),y=mn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:a||f.textAlign,borderRadius:c&&(h||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class vx extends fi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const a=gt(s.text)?s.text.length:1;this._padding=mn(s.padding);const o=a*Rt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:a,right:o,options:c}=this,h=c.align;let d=0,f,y,b;return this.isHorizontal()?(y=At(h,s,o),b=t+e,f=o-s):(c.position==="left"?(y=s+e,b=At(h,a,t),d=He*-.5):(y=o-e,b=At(h,t,a),d=He*.5),f=a-t),{titleX:y,titleY:b,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Rt(t.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:f}=this._drawArgs(o);yo(e,t.text,0,0,s,{color:t.color,maxWidth:d,rotation:f,textAlign:Lf(t.align),textBaseline:"middle",translation:[c,h]})}}function tR(i,e){const t=new vx({ctx:i.ctx,options:e,chart:i});fn.configure(i,t,e),fn.addBox(i,t),i.titleBlock=t}var nR={id:"title",_element:vx,start(i,e,t){tR(i,t)},stop(i){const e=i.titleBlock;fn.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const s=i.titleBlock;fn.configure(i,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const to={average(i){if(!i.length)return!1;let e,t,s=new Set,a=0,o=0;for(e=0,t=i.length;e<t;++e){const h=i[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),a+=d.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:a/o}},nearest(i,e){if(!i.length)return!1;let t=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=i.length;o<c;++o){const d=i[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),y=rf(e,f);y<a&&(a=y,h=d)}}if(h){const d=h.tooltipPosition();t=d.x,s=d.y}return{x:t,y:s}}};function kn(i,e){return e&&(gt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function oi(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function iR(i,e){const{element:t,datasetIndex:s,index:a}=e,o=i.getDatasetMeta(s).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:i,label:c,parsed:o.getParsed(a),raw:i.data.datasets[s].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:t}}function Bv(i,e){const t=i.chart.ctx,{body:s,footer:a,title:o}=i,{boxWidth:c,boxHeight:h}=e,d=Rt(e.bodyFont),f=Rt(e.titleFont),y=Rt(e.footerFont),b=o.length,v=a.length,_=s.length,S=mn(e.padding);let w=S.height,T=0,C=s.reduce((k,N)=>k+N.before.length+N.lines.length+N.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,b&&(w+=b*f.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),C){const k=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;w+=_*k+(C-_)*d.lineHeight+(C-1)*e.bodySpacing}v&&(w+=e.footerMarginTop+v*y.lineHeight+(v-1)*e.footerSpacing);let j=0;const A=function(k){T=Math.max(T,t.measureText(k).width+j)};return t.save(),t.font=f.string,Ue(i.title,A),t.font=d.string,Ue(i.beforeBody.concat(i.afterBody),A),j=e.displayColors?c+2+e.boxPadding:0,Ue(s,k=>{Ue(k.before,A),Ue(k.lines,A),Ue(k.after,A)}),j=0,t.font=y.string,Ue(i.footer,A),t.restore(),T+=S.width,{width:T,height:w}}function sR(i,e){const{y:t,height:s}=e;return t<s/2?"top":t>i.height-s/2?"bottom":"center"}function aR(i,e,t,s){const{x:a,width:o}=s,c=t.caretSize+t.caretPadding;if(i==="left"&&a+o+c>e.width||i==="right"&&a-o-c<0)return!0}function rR(i,e,t,s){const{x:a,width:o}=t,{width:c,chartArea:{left:h,right:d}}=i;let f="center";return s==="center"?f=a<=(h+d)/2?"left":"right":a<=o/2?f="left":a>=c-o/2&&(f="right"),aR(f,i,e,t)&&(f="center"),f}function Uv(i,e,t){const s=t.yAlign||e.yAlign||sR(i,t);return{xAlign:t.xAlign||e.xAlign||rR(i,e,t,s),yAlign:s}}function oR(i,e){let{x:t,width:s}=i;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function lR(i,e,t){let{y:s,height:a}=i;return e==="top"?s+=t:e==="bottom"?s-=a+t:s-=a/2,s}function Hv(i,e,t,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=i,{xAlign:h,yAlign:d}=t,f=a+o,{topLeft:y,topRight:b,bottomLeft:v,bottomRight:_}=Ra(c);let S=oR(e,h);const w=lR(e,d,f);return d==="center"?h==="left"?S+=f:h==="right"&&(S-=f):h==="left"?S-=Math.max(y,v)+a:h==="right"&&(S+=Math.max(b,_)+a),{x:Ot(S,0,s.width-e.width),y:Ot(w,0,s.height-e.height)}}function uc(i,e,t){const s=mn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-s.right:i.x+s.left}function Fv(i){return kn([],oi(i))}function cR(i,e,t){return Ds(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Iv(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const _x={beforeTitle:ai,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:ai,beforeBody:ai,beforeLabel:ai,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return Le(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ai,afterBody:ai,beforeFooter:ai,footer:ai,afterFooter:ai};function Ht(i,e,t,s){const a=i[e].call(t,s);return typeof a>"u"?_x[e].call(t,s):a}class qv extends fi{static positioners=to;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&t.options.animation&&s.animations,o=new ix(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=cR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,a=Ht(s,"beforeTitle",this,e),o=Ht(s,"title",this,e),c=Ht(s,"afterTitle",this,e);let h=[];return h=kn(h,oi(a)),h=kn(h,oi(o)),h=kn(h,oi(c)),h}getBeforeBody(e,t){return Fv(Ht(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,a=[];return Ue(e,o=>{const c={before:[],lines:[],after:[]},h=Iv(s,o);kn(c.before,oi(Ht(h,"beforeLabel",this,o))),kn(c.lines,Ht(h,"label",this,o)),kn(c.after,oi(Ht(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,t){return Fv(Ht(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,a=Ht(s,"beforeFooter",this,e),o=Ht(s,"footer",this,e),c=Ht(s,"afterFooter",this,e);let h=[];return h=kn(h,oi(a)),h=kn(h,oi(o)),h=kn(h,oi(c)),h}_createItems(e){const t=this._active,s=this.chart.data,a=[],o=[],c=[];let h=[],d,f;for(d=0,f=t.length;d<f;++d)h.push(iR(this.chart,t[d]));return e.filter&&(h=h.filter((y,b,v)=>e.filter(y,b,v,s))),e.itemSort&&(h=h.sort((y,b)=>e.itemSort(y,b,s))),Ue(h,y=>{const b=Iv(e.callbacks,y);a.push(Ht(b,"labelColor",this,y)),o.push(Ht(b,"labelPointStyle",this,y)),c.push(Ht(b,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=to[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const d=this._size=Bv(this,s),f=Object.assign({},h,d),y=Uv(this.chart,s,f),b=Hv(s,f,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,a){const o=this.getCaretPosition(e,s,a);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:d,topRight:f,bottomLeft:y,bottomRight:b}=Ra(h),{x:v,y:_}=e,{width:S,height:w}=t;let T,C,j,A,k,N;return o==="center"?(k=_+w/2,a==="left"?(T=v,C=T-c,A=k+c,N=k-c):(T=v+S,C=T+c,A=k-c,N=k+c),j=T):(a==="left"?C=v+Math.max(d,y)+c:a==="right"?C=v+S-Math.max(f,b)-c:C=this.caretX,o==="top"?(A=_,k=A-c,T=C-c,j=C+c):(A=_+w,k=A+c,T=C+c,j=C-c),N=A),{x1:T,x2:C,x3:j,y1:A,y2:k,y3:N}}drawTitle(e,t,s){const a=this.title,o=a.length;let c,h,d;if(o){const f=Ma(s.rtl,this.x,this.width);for(e.x=uc(this,s.titleAlign,s),t.textAlign=f.textAlign(s.titleAlign),t.textBaseline="middle",c=Rt(s.titleFont),h=s.titleSpacing,t.fillStyle=s.titleColor,t.font=c.string,d=0;d<o;++d)t.fillText(a[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===o&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,t,s,a,o){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:f}=o,y=Rt(o.bodyFont),b=uc(this,"left",o),v=a.x(b),_=d<y.lineHeight?(y.lineHeight-d)/2:0,S=t.y+_;if(o.usePointStyle){const w={radius:Math.min(f,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=a.leftForLtr(v,f)+f/2,C=S+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,lf(e,w,T,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,lf(e,w,T,C)}else{e.lineWidth=Me(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const w=a.leftForLtr(v,f),T=a.leftForLtr(a.xPlus(v,1),f-2),C=Ra(c.borderRadius);Object.values(C).some(j=>j!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Dc(e,{x:w,y:S,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),Dc(e,{x:T,y:S+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(w,S,f,d),e.strokeRect(w,S,f,d),e.fillStyle=c.backgroundColor,e.fillRect(T,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:f,boxPadding:y}=s,b=Rt(s.bodyFont);let v=b.lineHeight,_=0;const S=Ma(s.rtl,this.x,this.width),w=function(V){t.fillText(V,S.x(e.x+_),e.y+v/2),e.y+=v+o},T=S.textAlign(c);let C,j,A,k,N,q,D;for(t.textAlign=c,t.textBaseline="middle",t.font=b.string,e.x=uc(this,T,s),t.fillStyle=s.bodyColor,Ue(this.beforeBody,w),_=h&&T!=="right"?c==="center"?f/2+y:f+2+y:0,k=0,q=a.length;k<q;++k){for(C=a[k],j=this.labelTextColors[k],t.fillStyle=j,Ue(C.before,w),A=C.lines,h&&A.length&&(this._drawColorBox(t,e,k,S,s),v=Math.max(b.lineHeight,d)),N=0,D=A.length;N<D;++N)w(A[N]),v=b.lineHeight;Ue(C.after,w)}_=0,v=b.lineHeight,Ue(this.afterBody,w),e.y-=o}drawFooter(e,t,s){const a=this.footer,o=a.length;let c,h;if(o){const d=Ma(s.rtl,this.x,this.width);for(e.x=uc(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=d.textAlign(s.footerAlign),t.textBaseline="middle",c=Rt(s.footerFont),t.fillStyle=s.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(a[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,t,s,a){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=e,{width:f,height:y}=s,{topLeft:b,topRight:v,bottomLeft:_,bottomRight:S}=Ra(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(h+b,d),c==="top"&&this.drawCaret(e,t,s,a),t.lineTo(h+f-v,d),t.quadraticCurveTo(h+f,d,h+f,d+v),c==="center"&&o==="right"&&this.drawCaret(e,t,s,a),t.lineTo(h+f,d+y-S),t.quadraticCurveTo(h+f,d+y,h+f-S,d+y),c==="bottom"&&this.drawCaret(e,t,s,a),t.lineTo(h+_,d+y),t.quadraticCurveTo(h,d+y,h,d+y-_),c==="center"&&o==="left"&&this.drawCaret(e,t,s,a),t.lineTo(h,d+b),t.quadraticCurveTo(h,d,h+b,d),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=to[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Bv(this,e),d=Object.assign({},c,this._size),f=Uv(t,e,d),y=Hv(e,d,f,t);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=mn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,t),ex(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),tx(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,a=e.map(({datasetIndex:h,index:d})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[d],index:d}}),o=!Rc(s,a),c=this._positionChanged(a,t);(o||c)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,s),h=this._positionChanged(c,e),d=t||!Rc(c,o)||h;return d&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:s,caretY:a,options:o}=this,c=to[o.position].call(this,e,t);return c!==!1&&(s!==c.x||a!==c.y)}}var uR={id:"tooltip",_element:qv,positioners:to,afterInit(i,e,t){t&&(i.tooltip=new qv({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_x},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hR=(i,e,t,s)=>(typeof e=="string"?(t=i.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function dR(i,e,t,s){const a=i.indexOf(e);if(a===-1)return hR(i,e,t,s);const o=i.lastIndexOf(e);return a!==o?t:a}const fR=(i,e)=>i===null?null:Ot(Math.round(i),0,e);function $v(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class gR extends Fa{static id="category";static defaults={ticks:{callback:$v}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:a,label:o}of t)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Le(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:dR(s,e,Te(t,e),this._addedLabels),fR(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=t;c++)a.push({value:c});return a}getLabelForValue(e){return $v.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function pR(i,e){const t=[],{bounds:a,step:o,min:c,max:h,precision:d,count:f,maxTicks:y,maxDigits:b,includeBounds:v}=i,_=o||1,S=y-1,{min:w,max:T}=e,C=!Le(c),j=!Le(h),A=!Le(f),k=(T-w)/(b+1);let N=Vb((T-w)/S/_)*_,q,D,V,z;if(N<1e-14&&!C&&!j)return[{value:w},{value:T}];z=Math.ceil(T/N)-Math.floor(w/N),z>S&&(N=Vb(z*N/S/_)*_),Le(d)||(q=Math.pow(10,d),N=Math.ceil(N*q)/q),a==="ticks"?(D=Math.floor(w/N)*N,V=Math.ceil(T/N)*N):(D=w,V=T),C&&j&&o&&jj((h-c)/o,N/1e3)?(z=Math.round(Math.min((h-c)/N,y)),N=(h-c)/z,D=c,V=h):A?(D=C?c:D,V=j?h:V,z=f-1,N=(V-D)/z):(z=(V-D)/N,so(z,Math.round(z),N/1e3)?z=Math.round(z):z=Math.ceil(z));const ee=Math.max(Gb(N),Gb(D));q=Math.pow(10,Le(d)?ee:d),D=Math.round(D*q)/q,V=Math.round(V*q)/q;let W=0;for(C&&(v&&D!==c?(t.push({value:c}),D<c&&W++,so(Math.round((D+W*N)*q)/q,c,Vv(c,k,i))&&W++):D<c&&W++);W<z;++W){const B=Math.round((D+W*N)*q)/q;if(j&&B>h)break;t.push({value:B})}return j&&v&&V!==h?t.length&&so(t[t.length-1].value,h,Vv(h,k,i))?t[t.length-1].value=h:t.push({value:h}):(!j||V===h)&&t.push({value:V}),t}function Vv(i,e,{horizontal:t,minRotation:s}){const a=ci(s),o=(t?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+i).length;return Math.min(e/o,c)}class mR extends Fa{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=d=>a=t?a:d,h=d=>o=s?o:d;if(e){const d=Pn(a),f=Pn(o);d<0&&f<0?h(0):d>0&&f>0&&c(0)}if(a===o){let d=o===0?1:Math.abs(o*.05);h(o+d),e||c(a-d)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=pR(a,o);return e.bounds==="ticks"&&Aj(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-t)/Math.max(e.length-1,1)/2;t-=a,s+=a}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Bf(e,this.chart.options.locale,this.options.ticks.format)}}class yR extends mR{static id="linear";static defaults={ticks:{callback:G_.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=pn(e)?e:0,this.max=pn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=ci(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Yc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qt=Object.keys(Yc);function Gv(i,e){return i-e}function Wv(i,e){if(Le(e))return null;const t=i._adapter,{parser:s,round:a,isoWeekday:o}=i._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),pn(c)||(c=typeof s=="string"?t.parse(c,s):t.parse(c)),c===null?null:(a&&(c=a==="week"&&(go(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,a)),+c)}function Yv(i,e,t,s){const a=qt.length;for(let o=qt.indexOf(i);o<a-1;++o){const c=Yc[qt[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=s)return qt[o]}return qt[a-1]}function bR(i,e,t,s,a){for(let o=qt.length-1;o>=qt.indexOf(t);o--){const c=qt[o];if(Yc[c].common&&i._adapter.diff(a,s,c)>=e-1)return c}return qt[t?qt.indexOf(t):0]}function vR(i){for(let e=qt.indexOf(i)+1,t=qt.length;e<t;++e)if(Yc[qt[e]].common)return qt[e]}function Kv(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:s,hi:a}=Pf(t,e),o=t[s]>=e?t[s]:t[a];i[o]=!0}}function _R(i,e,t,s){const a=i._adapter,o=+a.startOf(e[0].value,s),c=e[e.length-1].value;let h,d;for(h=o;h<=c;h=+a.add(h,1,s))d=t[h],d>=0&&(e[d].major=!0);return e}function Xv(i,e,t){const s=[],a={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],a[h]=c,s.push({value:h,major:!1});return o===0||!t?s:_R(i,s,a,t)}class Qv extends Fa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),a=this._adapter=new mA._date(e.adapters.date);a.init(t),io(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Wv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(f){!c&&!isNaN(f.min)&&(a=Math.min(a,f.min)),!h&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=pn(a)&&!isNaN(a)?a:+t.startOf(Date.now(),s),o=pn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=Dj(a,o,c);return this._unit=t.unit||(s.autoSkip?Yv(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):bR(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:vR(this._unit),this.initOffsets(a),e.reverse&&h.reverse(),Xv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?t=1-a:t=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Ot(t,0,c),s=Ot(s,0,c),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||Yv(o.minUnit,t,s,this._getLabelCapacity(t)),h=Te(a.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,f=go(d)||d===!0,y={};let b=t,v,_;if(f&&(b=+e.startOf(b,"isoWeek",d)),b=+e.startOf(b,f?"day":c),e.diff(s,t,c)>1e5*h)throw new Error(t+" and "+s+" are too far apart with stepSize of "+h+" "+c);const S=a.ticks.source==="data"&&this.getDataTimestamps();for(v=b,_=0;v<s;v=+e.add(v,h,c),_++)Kv(y,v,S);return(v===s||a.bounds==="ticks"||_===1)&&Kv(y,v,S),Object.keys(y).sort(Gv).map(w=>+w)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const a=this.options.time.displayFormats,o=this._unit,c=t||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,s,a){const o=this.options,c=o.ticks.callback;if(c)return Ke(c,[e,t,s],this);const h=o.time.displayFormats,d=this._unit,f=this._majorUnit,y=d&&h[d],b=f&&h[f],v=s[t],_=f&&b&&v&&v.major;return this._adapter.format(e,a||(_?b:y))}generateTickLabels(e){let t,s,a;for(t=0,s=e.length;t<s;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,a=ci(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*c,h:s*c+h*o}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,a=s[t.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Xv(this,[e],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,s=a.length;t<s;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const a=this.getLabels();for(t=0,s=a.length;t<s;++t)e.push(Wv(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return q_(e.sort(Gv))}}function hc(i,e,t){let s=0,a=i.length-1,o,c,h,d;t?(e>=i[s].pos&&e<=i[a].pos&&({lo:s,hi:a}=As(i,"pos",e)),{pos:o,time:h}=i[s],{pos:c,time:d}=i[a]):(e>=i[s].time&&e<=i[a].time&&({lo:s,hi:a}=As(i,"time",e)),{time:o,pos:h}=i[s],{time:c,pos:d}=i[a]);const f=c-o;return f?h+(d-h)*(e-o)/f:h}class ZM extends Qv{static id="timeseries";static defaults=Qv.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=hc(t,this.min),this._tableRange=hc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,a=[],o=[];let c,h,d,f,y;for(c=0,h=e.length;c<h;++c)f=e[c],f>=t&&f<=s&&a.push(f);if(a.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],d=a[c-1],f=a[c],Math.round((y+d)/2)!==f&&o.push({time:f,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(hc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return hc(this._table,s*this._tableRange+this._minPos,!0)}}const xx="label";function Jv(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function xR(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function Sx(i,e){i.labels=e}function wx(i,e,t=xx){const s=[];i.datasets=e.map(a=>{const o=i.datasets.find(c=>c[t]===a[t]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function SR(i,e=xx){const t={labels:[],datasets:[]};return Sx(t,i.labels),wx(t,i.datasets,e),t}function wR(i,e){const{height:t=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:f=[],fallbackContent:y,updateMode:b,...v}=i,_=L.useRef(null),S=L.useRef(null),w=()=>{_.current&&(S.current=new Wc(_.current,{type:c,data:SR(h,o),options:d&&{...d},plugins:f}),Jv(e,S.current))},T=()=>{Jv(e,null),S.current&&(S.current.destroy(),S.current=null)};return L.useEffect(()=>{!a&&S.current&&d&&xR(S.current,d)},[a,d]),L.useEffect(()=>{!a&&S.current&&Sx(S.current.config.data,h.labels)},[a,h.labels]),L.useEffect(()=>{!a&&S.current&&h.datasets&&wx(S.current.config.data,h.datasets,o)},[a,h.datasets]),L.useEffect(()=>{S.current&&(a?(T(),setTimeout(w)):S.current.update(b))},[a,d,h.labels,h.datasets,b]),L.useEffect(()=>{S.current&&(T(),setTimeout(w))},[c]),L.useEffect(()=>(w(),()=>T()),[]),p.jsx("canvas",{ref:_,role:"img",height:t,width:s,...v,children:y})}const TR=L.forwardRef(wR);function Yf(i,e){return Wc.register(e),L.forwardRef((t,s)=>p.jsx(TR,{...t,ref:s,type:i}))}const ER=Yf("line",pA),Zv=Yf("bar",dA),CR=Yf("doughnut",gA);class Ta{static getDateFilter(e){const t=new Date;switch(e){case"7days":return new Date(t.getTime()-10080*60*1e3);case"30days":return new Date(t.getTime()-720*60*60*1e3);case"90days":return new Date(t.getTime()-2160*60*60*1e3);case"all":default:return null}}static async getSummary(e){const t=this.getDateFilter(e);let s=Je.from("invoices").select("total, status");t&&(s=s.gte("invoice_date",t.toISOString().split("T")[0]));const{data:a}=await s;let o=Je.from("invoice_items").select("qty, invoice_id");if(t){const{data:S}=await Je.from("invoices").select("id").gte("invoice_date",t.toISOString().split("T")[0]),w=S?.map(T=>T.id)||[];w.length>0&&(o=o.in("invoice_id",w))}const{data:c}=await o,h=a?.length||0,d=a?.reduce((S,w)=>S+Number(w.total||0),0)||0,f=h>0?d/h:0,y=c?.reduce((S,w)=>S+Number(w.qty||0),0)||0,b=a?.filter(S=>S.status==="draft").length||0,v=a?.filter(S=>S.status==="paid").length||0,_=a?.filter(S=>S.status==="sent").length||0;return{totalInvoices:h,totalRevenue:d,avgInvoiceValue:f,totalItemsSold:y,draftCount:b,paidCount:v,sentCount:_}}static async getTimeSeries(e){const t=this.getDateFilter(e);let s=Je.from("invoices").select("invoice_date, total").order("invoice_date",{ascending:!0});t&&(s=s.gte("invoice_date",t.toISOString().split("T")[0]));const{data:a}=await s;if(!a||a.length===0)return[];const o={};return a.forEach(c=>{const h=c.invoice_date;o[h]||(o[h]={invoiceCount:0,revenue:0}),o[h].invoiceCount+=1,o[h].revenue+=Number(c.total||0)}),Object.entries(o).map(([c,h])=>({period:c,invoiceCount:h.invoiceCount,revenue:h.revenue})).sort((c,h)=>c.period.localeCompare(h.period))}static async getCategoryData(e){const t=this.getDateFilter(e);let s=Je.from("invoice_items").select("category, qty, unit_price, invoice_id");if(t){const{data:c}=await Je.from("invoices").select("id").gte("invoice_date",t.toISOString().split("T")[0]),h=c?.map(d=>d.id)||[];if(h.length>0)s=s.in("invoice_id",h);else return[]}const{data:a}=await s;if(!a)return[];const o=a.reduce((c,h)=>{const d=h.category||"Other";return c[d]||(c[d]={category:d,itemCount:0,revenue:0}),c[d].itemCount+=Number(h.qty||0),c[d].revenue+=Number(h.qty||0)*Number(h.unit_price||0),c},{});return Object.values(o).sort((c,h)=>h.revenue-c.revenue).slice(0,5)}static async getMaterialBreakdown(e){const t=this.getDateFilter(e);let s=Je.from("item_materials").select("material_name, unit, total_qty, unit_cost, total_cost, invoice_item_id");if(t){const{data:c}=await Je.from("invoices").select("id").gte("invoice_date",t.toISOString().split("T")[0]);if(c&&c.length>0){const h=c.map(f=>f.id),{data:d}=await Je.from("invoice_items").select("id").in("invoice_id",h);if(d&&d.length>0){const f=d.map(y=>y.id);s=s.in("invoice_item_id",f)}else return[]}else return[]}const{data:a}=await s;if(!a)return[];const o=a.reduce((c,h)=>{const d=`${h.material_name}_${h.unit}`;return c[d]||(c[d]={material_name:h.material_name,unit:h.unit,total_qty:0,usage_count:0,unit_cost:Number(h.unit_cost)||0,total_cost:0}),c[d].total_qty+=Number(h.total_qty),c[d].total_cost+=Number(h.total_cost),c[d].usage_count+=1,c},{});return Object.values(o).sort((c,h)=>h.total_cost-c.total_cost).slice(0,10)}static async getMaterialsForInvoice(e){const{data:t}=await Je.from("invoice_items").select("id").eq("invoice_id",e);if(!t||t.length===0)return[];const s=t.map(c=>c.id),{data:a}=await Je.from("item_materials").select("material_name, unit, total_qty, unit_cost, total_cost, invoice_item_id").in("invoice_item_id",s);if(!a)return[];const o=a.reduce((c,h)=>{const d=`${h.material_name}_${h.unit}`;return c[d]||(c[d]={material_name:h.material_name,unit:h.unit,total_qty:0,usage_count:0,unit_cost:Number(h.unit_cost)||0,total_cost:0}),c[d].total_qty+=Number(h.total_qty),c[d].total_cost+=Number(h.total_cost),c[d].usage_count+=1,c},{});return Object.values(o).sort((c,h)=>h.total_cost-c.total_cost)}static async getTopClients(e){const t=this.getDateFilter(e);let s=Je.from("invoices").select("client_id, total, clients(name)");t&&(s=s.gte("invoice_date",t.toISOString().split("T")[0]));const{data:a}=await s;if(!a)return[];const o=a.reduce((c,h)=>{const f=h.clients?.name||"Unknown";return c[f]||(c[f]={client_name:f,invoice_count:0,total_revenue:0}),c[f].invoice_count+=1,c[f].total_revenue+=Number(h.total||0),c},{});return Object.values(o).sort((c,h)=>h.total_revenue-c.total_revenue).slice(0,5)}}const jR={name:"Meduza Studio Works",logoUrl:"/Company%20Logo.svg",address:"Tolon, El Sayeda Zeinab, Cairo , Egypt",phone:"+20 1146700228 / +20 1018705558",email:"info@meduzafurniture.com"},ka="EGP",Rs="en-EG";class zc{static getDateFilter(e){const t=new Date;switch(e){case"7days":return new Date(t.getTime()-10080*60*1e3);case"30days":return new Date(t.getTime()-720*60*60*1e3);case"90days":return new Date(t.getTime()-2160*60*60*1e3);case"all":default:return null}}static async getInvoices(e){const t=this.getDateFilter(e);let s=Je.from("invoices").select("id, invoice_no, project_name, invoice_date, total, status, clients(name)").order("invoice_date",{ascending:!1});t&&(s=s.gte("invoice_date",t.toISOString().split("T")[0]));const{data:a}=await s;return a?a.map(o=>({...o,clients:Array.isArray(o.clients)&&o.clients.length>0?o.clients[0]:null})):[]}static async updateInvoiceStatus(e,t){const{error:s}=await Je.from("invoices").update({status:t}).eq("id",e);return!s}static async createPreviewPayload(e){const t=await N_(e);if(!t.success||!t.data)return null;const{invoice:s,items:a}=t.data;return{company:jR,client:{name:s.clients?.name||"Client Name",company:s.clients?.company||"",address:s.clients?.address||"",phone:s.clients?.phone||"",email:s.clients?.email||"",siteAddress:s.clients?.site_address||""},meta:{invoiceNo:s.invoice_no||"",date:s.invoice_date||"",dueDate:s.due_date||"",projectName:s.project_name||""},items:a.map(o=>({id:o.id,category:o.category||"Custom furniture",code:o.code||"",description:o.description||"",dimensions:o.dimensions||"",qty:o.qty||1,unitPrice:Number(o.unit_price)||0,image:o.image_url||void 0,materials:(o.materials||[]).map(c=>({name:c.material_name,unit:c.unit,qty:c.qty_per_item}))})),vatRate:s.vat_rate||0,discount:s.discount||0,notes:s.notes||""}}static async openPreviewWindow(e){window.open(`/preview?standalone=true&invoiceId=${e}`,"_blank")}}const AR=i=>{const[e,t]=L.useState(!0),[s,a]=L.useState(null),[o,c]=L.useState([]),[h,d]=L.useState([]),[f,y]=L.useState([]),[b,v]=L.useState([]),[_,S]=L.useState([]),w=async()=>{t(!0);try{const[k,N,q,D,V]=await Promise.all([Ta.getSummary(i),Ta.getTimeSeries(i),Ta.getCategoryData(i),Ta.getMaterialBreakdown(i),Ta.getTopClients(i)]);a(k),c(N),d(q),y(D),v(V)}catch(k){console.error("Error loading analytics:",k)}finally{t(!1)}},T=async()=>{try{const k=await zc.getInvoices(i);S(k)}catch(k){console.error("Error loading invoices:",k)}},C=async k=>{try{const N=await Ta.getMaterialsForInvoice(k);y(N)}catch(N){console.error("Error loading materials for invoice:",N)}},j=(k,N)=>{S(q=>q.map(D=>D.id===k?{...D,status:N}:D))},A=async()=>{await Promise.all([w(),T()])};return L.useEffect(()=>{w(),T()},[i]),{loading:e,summary:s,timeSeries:o,categoryData:h,materialBreakdown:f,topClients:b,invoices:_,loadMaterialsForInvoice:C,updateLocalInvoiceStatus:j,refetchData:A}},vs=({title:i,value:e,subtitle:t,color:s="#38bdf8"})=>p.jsxs("div",{style:{background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",borderRadius:12,padding:24,border:"1px solid #374151",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"},children:[p.jsx("div",{style:{fontSize:13,color:"#9ca3af",marginBottom:8},children:i}),p.jsx("div",{style:{fontSize:28,fontWeight:700,color:s,marginBottom:4},children:e}),t&&p.jsx("div",{style:{fontSize:12,color:"#6b7280"},children:t})]}),Ea=({title:i,children:e,style:t})=>p.jsxs("div",{style:{background:"linear-gradient(135deg, #1f2937 0%, #111827 100%)",borderRadius:12,padding:24,border:"1px solid #374151",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)",...t},children:[p.jsx("h3",{style:{margin:0,marginBottom:16,color:"#e5e7eb",fontSize:18,fontWeight:600},children:i}),e]}),OR=({value:i,onChange:e})=>{const t=[{value:"7days",label:"Last 7 Days"},{value:"30days",label:"Last 30 Days"},{value:"90days",label:"Last 90 Days"},{value:"all",label:"All Time"}];return p.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:t.map(s=>p.jsx("button",{onClick:()=>e(s.value),style:{padding:"8px 16px",borderRadius:6,border:i===s.value?"1px solid #38bdf8":"1px solid #374151",background:i===s.value?"#1e3a4f":"#1f2937",color:i===s.value?"#38bdf8":"#9ca3af",fontSize:13,fontWeight:500,cursor:"pointer",transition:"all 0.2s"},children:s.label},s.value))})},RR=({materials:i,invoices:e,selectedInvoiceId:t,onInvoiceSelect:s})=>{const a=i.reduce((h,d)=>h+d.total_cost,0),o=e.find(h=>h.id===t),c=()=>{if(i.length===0)return;const h=[],d=o?`${o.invoice_no} - ${o.project_name}`:"All Invoices",f=_=>_.includes(",")||_.includes('"')||_.includes(`
`)?`"${_.replace(/"/g,'""')}"`:_;h.push(`Material Breakdown - ${d}`),h.push(""),h.push(["Material","Total Quantity","Unit","Unit Cost","Total Cost","Used In"].map(f).join(",")),i.forEach(_=>{h.push([_.material_name,_.total_qty.toFixed(2),_.unit,_.unit_cost.toFixed(2),_.total_cost.toFixed(2),`${_.usage_count} items`].map(f).join(","))}),h.push(""),h.push(["TOTAL","","","",a.toFixed(2),""].join(","));const y=new Blob([h.join(`
`)],{type:"text/csv"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=`material-breakdown-${o?.invoice_no||"all"}.csv`,v.click(),URL.revokeObjectURL(b)};return p.jsxs("div",{style:{padding:"16px 0"},children:[p.jsxs("div",{style:{marginBottom:16,display:"flex",alignItems:"center",gap:12,flexWrap:"wrap"},children:[p.jsx("label",{style:{color:"#9ca3af",fontSize:14},children:"Select Invoice:"}),p.jsxs("select",{value:t,onChange:h=>s(h.target.value),style:{padding:"8px 12px",background:"#1f2937",border:"1px solid #374151",borderRadius:6,color:"#e5e7eb",fontSize:14,minWidth:300},children:[p.jsx("option",{value:"",children:"-- Select an invoice --"}),e.map(h=>p.jsxs("option",{value:h.id,children:[h.invoice_no," - ",h.project_name," (",new Date(h.invoice_date).toLocaleDateString(),")"]},h.id))]}),t&&p.jsx("button",{onClick:()=>s(""),style:{padding:"6px 12px",background:"#374151",border:"none",borderRadius:6,color:"#e5e7eb",fontSize:13,cursor:"pointer"},children:"Clear"}),i.length>0&&p.jsxs("button",{onClick:c,style:{marginLeft:"auto",padding:"8px 16px",background:"linear-gradient(135deg, #065f46 0%, #047857 100%)",border:"none",borderRadius:6,color:"#fff",fontSize:13,fontWeight:500,cursor:"pointer",display:"flex",alignItems:"center",gap:6},children:[p.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export"]})]}),i.length>0?p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[p.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Material"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total Quantity"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Unit"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Unit Cost"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total Cost"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Used In"})]})}),p.jsx("tbody",{children:i.map((h,d)=>p.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:h.material_name}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:h.total_qty.toFixed(2)}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:h.unit}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:h.unit_cost.toLocaleString(Rs,{style:"currency",currency:ka,minimumFractionDigits:0})}),p.jsx("td",{style:{padding:"12px 0",color:"#38bdf8",fontSize:14,textAlign:"right",fontWeight:500},children:h.total_cost.toLocaleString(Rs,{style:"currency",currency:ka,minimumFractionDigits:0})}),p.jsxs("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:[h.usage_count," items"]})]},d))}),p.jsx("tfoot",{children:p.jsxs("tr",{style:{borderTop:"2px solid #374151",background:"rgba(6, 95, 70, 0.15)"},children:[p.jsx("td",{style:{padding:"14px 0",color:"#e5e7eb",fontSize:15,fontWeight:700},children:"TOTAL"}),p.jsx("td",{style:{padding:"14px 0"}}),p.jsx("td",{style:{padding:"14px 0"}}),p.jsx("td",{style:{padding:"14px 0"}}),p.jsx("td",{style:{padding:"14px 0",color:"#34d399",fontSize:16,textAlign:"right",fontWeight:700},children:a.toLocaleString(Rs,{style:"currency",currency:ka,minimumFractionDigits:0})}),p.jsx("td",{style:{padding:"14px 0"}})]})})]}):p.jsx("div",{style:{textAlign:"center",padding:"40px 0",color:"#6b7280"},children:t?"No materials found for this invoice":"Please select an invoice to view material breakdown"})]})},MR=({invoices:i,onStatusChange:e,onViewInvoice:t,onPreviewInvoice:s})=>p.jsx("div",{style:{padding:"16px 0",maxHeight:500,overflowY:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[p.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Invoice No"}),p.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Project"}),p.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Client"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Date"}),p.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total"}),p.jsx("th",{style:{textAlign:"center",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Status"}),p.jsx("th",{style:{textAlign:"center",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Actions"})]})}),p.jsx("tbody",{children:i.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:7,style:{padding:40,textAlign:"center",color:"#6b7280"},children:"No invoices found"})}):i.map(a=>p.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:a.invoice_no}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:a.project_name||"-"}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:a.clients?.name||"-"}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:a.invoice_date}),p.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:Number(a.total).toLocaleString(Rs,{style:"currency",currency:ka,minimumFractionDigits:0})}),p.jsx("td",{style:{padding:"12px 0",textAlign:"center"},children:p.jsxs("select",{value:a.status,onChange:o=>e(a.id,o.target.value),style:{padding:"4px 8px",borderRadius:4,fontSize:11,fontWeight:500,background:a.status==="paid"?"#065f46":a.status==="sent"?"#1e40af":"#374151",color:"#e5e7eb",border:"1px solid #374151",cursor:"pointer"},children:[p.jsx("option",{value:"draft",style:{background:"#020617",color:"#e5e7eb"},children:"draft"}),p.jsx("option",{value:"sent",style:{background:"#020617",color:"#e5e7eb"},children:"sent"}),p.jsx("option",{value:"paid",style:{background:"#020617",color:"#e5e7eb"},children:"paid"}),p.jsx("option",{value:"cancelled",style:{background:"#020617",color:"#e5e7eb"},children:"cancelled"})]})}),p.jsx("td",{style:{padding:"12px 0",textAlign:"center"},children:p.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[p.jsx("button",{onClick:()=>t(a.id),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #38bdf8",background:"transparent",color:"#38bdf8",fontSize:12,fontWeight:500,cursor:"pointer"},children:"View Details"}),p.jsx("button",{onClick:()=>s(a.id),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #34d399",background:"transparent",color:"#34d399",fontSize:12,fontWeight:500,cursor:"pointer"},children:"Preview"})]})})]},a.id))})]})}),e0=i=>i.toLocaleString(Rs,{style:"currency",currency:ka,minimumFractionDigits:0}),Yr=(i,e=0)=>i.toLocaleString(Rs,{minimumFractionDigits:e,maximumFractionDigits:e});Wc.register(gR,yR,IO,FO,YO,MO,nR,uR,eR);const kR=()=>{const i=Rf(),[e,t]=L.useState("30days"),[s,a]=L.useState(""),{loading:o,summary:c,timeSeries:h,categoryData:d,materialBreakdown:f,topClients:y,invoices:b,loadMaterialsForInvoice:v,updateLocalInvoiceStatus:_,refetchData:S}=AR(e);L.useEffect(()=>{s&&v(s)},[s]);const w=async(D,V)=>{_(D,V),await zc.updateInvoiceStatus(D,V)?(i.success("Status Updated",`Invoice status changed to "${V}".`),S()):(i.error("Update Failed","Failed to update invoice status."),S())},T=D=>{window.location.href=`/invoice/${D}`},C=async D=>{await zc.openPreviewWindow(D)};if(o)return p.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #020617 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#e5e7eb"},children:"Loading dashboard..."});const j={labels:h.map(D=>D.period),datasets:[{label:"Revenue",data:h.map(D=>D.revenue),borderColor:"#38bdf8",backgroundColor:"rgba(56, 189, 248, 0.1)",tension:.4}]},A={labels:h.map(D=>D.period),datasets:[{label:"Invoice Count",data:h.map(D=>D.invoiceCount),backgroundColor:"#38bdf8"}]},k={labels:d.map(D=>D.category),datasets:[{data:d.map(D=>D.revenue),backgroundColor:["#38bdf8","#34d399","#fbbf24","#f87171","#a78bfa"]}]},N={labels:y.map(D=>D.client_name),datasets:[{label:"Revenue",data:y.map(D=>D.total_revenue),backgroundColor:"#34d399"}]},q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e5e7eb"}}},scales:{x:{ticks:{color:"#9ca3af"},grid:{color:"#1f2937"}},y:{ticks:{color:"#9ca3af"},grid:{color:"#1f2937"}}}};return p.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #020617 100%)",padding:"40px 20px"},children:[p.jsx(Of,{toasts:i.toasts,onClose:i.removeToast}),p.jsxs("div",{style:{maxWidth:1400,margin:"0 auto"},children:[p.jsxs("div",{style:{marginBottom:32,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16},children:[p.jsx("h1",{style:{margin:0,color:"#e5e7eb",fontSize:32,fontWeight:700},children:"Dashboard Analytics"}),p.jsx(OR,{value:e,onChange:t})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16,marginBottom:24},children:[p.jsx(vs,{title:"Total Revenue",value:e0(c?.totalRevenue||0),color:"#38bdf8"}),p.jsx(vs,{title:"Total Invoices",value:Yr(c?.totalInvoices||0),color:"#34d399"}),p.jsx(vs,{title:"Average Invoice",value:e0(c?.avgInvoiceValue||0),color:"#fbbf24"}),p.jsx(vs,{title:"Items Sold",value:Yr(c?.totalItemsSold||0),color:"#f87171"})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:16,marginBottom:24},children:[p.jsx(vs,{title:"Draft Invoices",value:Yr(c?.draftCount||0),subtitle:"Pending",color:"#9ca3af"}),p.jsx(vs,{title:"Sent Invoices",value:Yr(c?.sentCount||0),subtitle:"Awaiting payment",color:"#60a5fa"}),p.jsx(vs,{title:"Paid Invoices",value:Yr(c?.paidCount||0),subtitle:"Completed",color:"#34d399"})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(450px, 1fr))",gap:16,marginBottom:16},children:[p.jsx(Ea,{title:"Revenue Over Time",children:p.jsx("div",{style:{height:300},children:p.jsx(ER,{data:j,options:q})})}),p.jsx(Ea,{title:"Invoice Count",children:p.jsx("div",{style:{height:300},children:p.jsx(Zv,{data:A,options:q})})})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(450px, 1fr))",gap:16,marginBottom:16},children:[p.jsx(Ea,{title:"Revenue by Category",children:p.jsx("div",{style:{height:300,display:"flex",justifyContent:"center"},children:p.jsx(CR,{data:k,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e5e7eb"}}}}})})}),p.jsx(Ea,{title:"Top 5 Clients",children:p.jsx("div",{style:{height:300},children:p.jsx(Zv,{data:N,options:q})})})]}),p.jsx(Ea,{title:"Material Breakdown (Detailed)",style:{marginTop:16},children:p.jsx(RR,{materials:f,invoices:b,selectedInvoiceId:s,onInvoiceSelect:a})}),p.jsx(Ea,{title:"All Invoices",style:{marginTop:16},children:p.jsx(MR,{invoices:b,onStatusChange:w,onViewInvoice:T,onPreviewInvoice:C})})]})]})},DR={name:"",logoUrl:"/Company%20Logo.svg",address:"",phone:"",email:""},NR={name:"",company:"",address:"",phone:"",email:"",siteAddress:""},PR={invoiceNo:"",date:"",dueDate:"",projectName:""},LR=()=>{const[i]=vT(),e=i.get("invoiceId"),[t,s]=L.useState({company:DR,client:NR,meta:PR,items:[],vatRate:0,discount:0,notes:""});L.useEffect(()=>{const V=async()=>{if(!e)return!1;try{const ee=await zc.createPreviewPayload(e);if(ee)return s(ee),!0}catch(ee){console.error("Failed to load invoice from database:",ee)}return!1},z=()=>{try{const ee=localStorage.getItem("invoice-draft"),B=localStorage.getItem("invoice-preview")||ee;if(!B)return;const G=JSON.parse(B);s(G)}catch(ee){console.error("Failed to load invoice data from localStorage",ee)}};if(e)V();else{z();const ee=setInterval(z,500);return()=>clearInterval(ee)}},[e]);const{company:a,client:o,meta:c,items:h,vatRate:d,discount:f,notes:y}=t,b=h.reduce((V,z)=>V+z.qty*z.unitPrice,0),v=Math.max(b-f,0),_=v*d/100,S=v+_,w=()=>{window.print()},T=()=>{window.print()},C=V=>{const z=String(V??"");return z.includes('"')||z.includes(",")||z.includes(`
`)?`"${z.replace(/"/g,'""')}"`:z},j=(V,z)=>{const ee=new Blob([z],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(ee),B=document.createElement("a");B.href=W,B.setAttribute("download",V),document.body.appendChild(B),B.click(),B.remove(),URL.revokeObjectURL(W)},A=()=>{if(!h.some(B=>B.materials&&B.materials.length>0)){alert("No material breakdown found on items.");return}const z=[];z.push(["Invoice No","Project","Client","Item #","Item Name","Category","Material","Unit","Qty per Item","Item Qty","Total Material Qty"].map(C).join(",")),h.forEach((B,G)=>{!B.materials||B.materials.length===0||B.materials.forEach(ae=>{const re=ae.qty*B.qty;z.push([c.invoiceNo||"",c.projectName||"",o.name||"",G+1,B.code||"Item",B.category,ae.name,ae.unit,ae.qty,B.qty,re].map(C).join(","))})});const ee=z.join(`\r
`),W=c.invoiceNo?`${c.invoiceNo}_materials.csv`:"invoice-materials.csv";j(W,ee)},k=f>0,N=d>0&&_>0,q=k||N,D=k||N;return p.jsxs("div",{className:"invoice-preview-root",children:[p.jsxs("div",{className:"invoice-toolbar no-print",children:[p.jsx("button",{className:"btn-outline",onClick:w,children:"Print Invoice"}),p.jsx("button",{className:"btn-outline",onClick:T,children:"Export PDF"}),p.jsx("button",{className:"btn-outline",onClick:A,children:"Export Excel"})]}),p.jsxs("div",{className:"invoice-page",children:[p.jsxs("header",{className:"invoice-header",children:[p.jsxs("div",{className:"header-left",children:[a.logoUrl&&p.jsx("img",{src:a.logoUrl,alt:"Company logo",className:"company-logo"}),p.jsxs("div",{children:[p.jsx("div",{className:"company-name",children:a.name||"Company Name"}),p.jsx("div",{className:"small-text",children:a.address&&p.jsx("span",{children:a.address})}),p.jsxs("div",{className:"small-text",children:[a.phone&&p.jsx("span",{children:a.phone}),a.phone&&a.email&&"  ",a.email&&p.jsx("span",{className:"email-line",children:a.email})]})]})]}),p.jsxs("div",{className:"header-right",children:[p.jsxs("div",{className:"invoice-meta-block",children:[p.jsx("div",{className:"invoice-title",children:"INVOICE"}),p.jsxs("div",{className:"small-text",children:[p.jsx("strong",{children:"Invoice No:"})," ",c.invoiceNo||"-"]}),p.jsxs("div",{className:"small-text",children:[p.jsx("strong",{children:"Date:"})," ",c.date||"-"]}),p.jsxs("div",{className:"small-text",children:[p.jsx("strong",{children:"Project:"})," ",c.projectName||"-"]})]}),p.jsxs("div",{className:"client-block",children:[p.jsx("div",{className:"section-label",children:"BILL TO"}),p.jsx("div",{className:"small-text bold",children:o.name||"Client Name"}),o.address&&p.jsx("div",{className:"small-text",children:o.address}),(o.phone||o.email)&&p.jsxs("div",{className:"small-text",children:[o.phone&&p.jsxs("span",{children:["Tel: ",o.phone]}),o.phone&&o.email&&"  ",o.email&&p.jsx("span",{children:o.email})]}),o.siteAddress&&p.jsxs("div",{className:"small-text",style:{marginTop:4},children:[p.jsx("span",{style:{fontWeight:600,fontSize:10},children:"Site / Delivery:"})," ",o.siteAddress]})]})]})]}),p.jsx("section",{className:"invoice-items",children:p.jsxs("table",{className:"items-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{className:"col-index",children:"#"}),p.jsx("th",{className:"col-item",children:"Item"}),p.jsx("th",{className:"col-material",children:"Material / Finish"}),p.jsx("th",{className:"col-dimensions",children:"Dimensions"}),p.jsx("th",{className:"col-photo",children:"Photo"}),p.jsx("th",{className:"col-qty",children:"Qty"}),p.jsx("th",{className:"col-unit",children:"Unit"}),p.jsx("th",{className:"col-total",children:"Total"})]})}),p.jsxs("tbody",{children:[h.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:8,style:{textAlign:"center",padding:24},children:"No items."})}),h.map((V,z)=>{const ee=V.qty*V.unitPrice;return p.jsxs("tr",{children:[p.jsx("td",{className:"col-index",children:z+1}),p.jsx("td",{className:"col-item",children:p.jsx("div",{className:"item-name",children:V.code||"Item"})}),p.jsx("td",{className:"col-material",children:p.jsx("div",{className:"small-text",children:V.description||"-"})}),p.jsx("td",{className:"col-dimensions",children:p.jsx("div",{className:"small-text",children:V.dimensions||"-"})}),p.jsx("td",{className:"col-photo",children:V.image?p.jsx("img",{src:V.image,alt:"Item",className:"table-photo"}):"-"}),p.jsx("td",{className:"col-qty",children:V.qty}),p.jsx("td",{className:"col-unit",children:V.unitPrice.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})}),p.jsx("td",{className:"col-total",children:ee.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]},V.id??z)})]})]})}),p.jsx("section",{className:"invoice-totals",children:p.jsxs("div",{className:"totals-box",children:[q&&p.jsxs("div",{className:"totals-row",children:[p.jsx("span",{children:"Subtotal"}),p.jsx("span",{children:b.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),k&&p.jsxs("div",{className:"totals-row",children:[p.jsx("span",{children:"Discount"}),p.jsx("span",{children:f.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),D&&p.jsxs("div",{className:"totals-row",children:[p.jsx("span",{children:"Taxable Amount"}),p.jsx("span",{children:v.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),N&&p.jsxs("div",{className:"totals-row",children:[p.jsxs("span",{children:["VAT (",d,"%)"]}),p.jsx("span",{children:_.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),p.jsxs("div",{className:"totals-row totals-row-strong",children:[p.jsx("span",{children:"Grand Total"}),p.jsx("span",{children:S.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]})]})}),p.jsxs("section",{className:"invoice-notes",children:[p.jsx("div",{className:"section-label",children:"NOTES / TERMS"}),p.jsx("pre",{className:"notes-text",children:y})]}),p.jsxs("section",{className:"invoice-footer",children:[p.jsx("div",{className:"footer-line",children:"Prepared By: ______________________"}),p.jsx("div",{className:"footer-line",children:"Approved By: ______________________"}),p.jsx("div",{className:"thankyou",children:"Thank you for your business."})]})]})]})},zR=()=>{const{id:i}=O1(),e=pf(),t=Rf(),[s,a]=L.useState(!0),[o,c]=L.useState(null),[h,d]=L.useState(!1);if(L.useEffect(()=>{(async()=>{if(!i){e("/dashboard");return}const _=await N_(i);_.success&&_.data?c(_.data):(d(!0),t.error("Load Failed","Failed to load invoice details."),setTimeout(()=>e("/dashboard"),2e3)),a(!1)})()},[i,e]),s||h)return p.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #020617 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#e5e7eb",padding:20},children:[p.jsx(Of,{toasts:t.toasts,onClose:t.removeToast}),s?"Loading invoice details...":"Redirecting to dashboard..."]});if(!o)return null;const{invoice:f,items:y}=o,b=v=>Number(v).toLocaleString(Rs,{style:"currency",currency:ka,minimumFractionDigits:0});return p.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0f172a 0%, #020617 100%)",padding:"40px 20px"},children:p.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[p.jsxs("div",{style:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("h1",{style:{margin:0,color:"#e5e7eb",fontSize:32,fontWeight:700},children:"Invoice Details"}),p.jsx("button",{onClick:()=>e("/dashboard"),style:{padding:"10px 20px",borderRadius:8,border:"1px solid #38bdf8",background:"transparent",color:"#38bdf8",fontSize:14,fontWeight:500,cursor:"pointer"},children:"Back to Dashboard"})]}),p.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.6)",borderRadius:12,border:"1px solid #1e293b",padding:24,marginBottom:24},children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:24},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Invoice Number"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:18,fontWeight:600},children:f.invoice_no})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Project Name"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:18,fontWeight:600},children:f.project_name||"-"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Status"}),p.jsx("div",{style:{display:"inline-block",padding:"4px 12px",borderRadius:6,fontSize:14,fontWeight:500,background:f.status==="paid"?"#065f46":f.status==="sent"?"#1e40af":"#374151",color:"#e5e7eb"},children:f.status})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Total Amount"}),p.jsx("div",{style:{color:"#34d399",fontSize:24,fontWeight:700},children:b(f.total)})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:24,marginTop:24},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Invoice Date"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.invoice_date})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:8},children:"Due Date"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.due_date||"-"})]})]})]}),p.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.6)",borderRadius:12,border:"1px solid #1e293b",padding:24,marginBottom:24},children:[p.jsx("h2",{style:{margin:"0 0 16px 0",color:"#e5e7eb",fontSize:20,fontWeight:600},children:"Client Information"}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:4},children:"Name"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.clients?.name||"-"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:4},children:"Company"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.clients?.company||"-"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:4},children:"Email"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.clients?.email||"-"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:4},children:"Phone"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.clients?.phone||"-"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:4},children:"Address"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.clients?.address||"-"})]}),p.jsxs("div",{children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:12,marginBottom:4},children:"Site Address"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:16},children:f.clients?.site_address||"-"})]})]})]}),p.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.6)",borderRadius:12,border:"1px solid #1e293b",padding:24,marginBottom:24},children:[p.jsx("h2",{style:{margin:"0 0 16px 0",color:"#e5e7eb",fontSize:20,fontWeight:600},children:"Invoice Items"}),p.jsx("div",{style:{overflowX:"auto"},children:p.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[p.jsx("thead",{children:p.jsxs("tr",{style:{borderBottom:"2px solid #374151"},children:[p.jsx("th",{style:{textAlign:"left",padding:"12px 8px",color:"#9ca3af",fontSize:12,fontWeight:600},children:"Category"}),p.jsx("th",{style:{textAlign:"left",padding:"12px 8px",color:"#9ca3af",fontSize:12,fontWeight:600},children:"Description"}),p.jsx("th",{style:{textAlign:"left",padding:"12px 8px",color:"#9ca3af",fontSize:12,fontWeight:600},children:"Dimensions"}),p.jsx("th",{style:{textAlign:"right",padding:"12px 8px",color:"#9ca3af",fontSize:12,fontWeight:600},children:"Qty"}),p.jsx("th",{style:{textAlign:"right",padding:"12px 8px",color:"#9ca3af",fontSize:12,fontWeight:600},children:"Unit Price"}),p.jsx("th",{style:{textAlign:"right",padding:"12px 8px",color:"#9ca3af",fontSize:12,fontWeight:600},children:"Total"})]})}),p.jsx("tbody",{children:y.map(v=>p.jsxs(t0.Fragment,{children:[p.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[p.jsx("td",{style:{padding:"12px 8px",color:"#e5e7eb",fontSize:14},children:v.category}),p.jsx("td",{style:{padding:"12px 8px",color:"#e5e7eb",fontSize:14},children:v.description}),p.jsx("td",{style:{padding:"12px 8px",color:"#e5e7eb",fontSize:14},children:v.dimensions||"-"}),p.jsx("td",{style:{padding:"12px 8px",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:v.qty}),p.jsx("td",{style:{padding:"12px 8px",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:b(v.unit_price)}),p.jsx("td",{style:{padding:"12px 8px",color:"#e5e7eb",fontSize:14,textAlign:"right",fontWeight:600},children:b(v.line_total)})]}),v.materials&&v.materials.length>0&&p.jsx("tr",{children:p.jsxs("td",{colSpan:6,style:{padding:"8px 8px 16px 32px",background:"rgba(0, 0, 0, 0.2)"},children:[p.jsx("div",{style:{color:"#9ca3af",fontSize:11,marginBottom:4,fontWeight:600},children:"Materials:"}),p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:v.materials.map((_,S)=>p.jsxs("div",{style:{padding:"4px 8px",background:"rgba(56, 189, 248, 0.1)",border:"1px solid rgba(56, 189, 248, 0.3)",borderRadius:4,color:"#38bdf8",fontSize:11},children:[_.material_name,": ",_.qty_per_item," ",_.unit," (Total: ",_.total_qty," ",_.unit,")"]},S))})]})})]},v.id))})]})}),p.jsx("div",{style:{marginTop:24,display:"flex",justifyContent:"flex-end"},children:p.jsxs("div",{style:{minWidth:300},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #374151"},children:[p.jsx("span",{style:{color:"#9ca3af",fontSize:14},children:"Subtotal:"}),p.jsx("span",{style:{color:"#e5e7eb",fontSize:14,fontWeight:600},children:b(f.subtotal)})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #374151"},children:[p.jsx("span",{style:{color:"#9ca3af",fontSize:14},children:"Discount:"}),p.jsx("span",{style:{color:"#e5e7eb",fontSize:14,fontWeight:600},children:b(f.discount)})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #374151"},children:[p.jsxs("span",{style:{color:"#9ca3af",fontSize:14},children:["VAT (",f.vat_rate,"%):"]}),p.jsx("span",{style:{color:"#e5e7eb",fontSize:14,fontWeight:600},children:b(f.vat_amount)})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 0",marginTop:8},children:[p.jsx("span",{style:{color:"#e5e7eb",fontSize:18,fontWeight:700},children:"Total:"}),p.jsx("span",{style:{color:"#34d399",fontSize:20,fontWeight:700},children:b(f.total)})]})]})})]}),f.notes&&p.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.6)",borderRadius:12,border:"1px solid #1e293b",padding:24},children:[p.jsx("h2",{style:{margin:"0 0 12px 0",color:"#e5e7eb",fontSize:20,fontWeight:600},children:"Notes"}),p.jsx("div",{style:{color:"#e5e7eb",fontSize:14,whiteSpace:"pre-wrap"},children:f.notes})]})]})})},BR=()=>{const i=Bn(),s=!(new URLSearchParams(i.search).get("standalone")==="true");return p.jsxs(p.Fragment,{children:[s&&p.jsx(ET,{}),p.jsxs($1,{children:[p.jsx(Kr,{path:"/",element:p.jsx(FC,{})}),p.jsx(Kr,{path:"/dashboard",element:p.jsx(kR,{})}),p.jsx(Kr,{path:"/preview",element:p.jsx(LR,{})}),p.jsx(Kr,{path:"/invoice/:id",element:p.jsx(zR,{})})]})]})},UR=()=>p.jsx(gT,{children:p.jsx(BR,{})});Jw.createRoot(document.getElementById("root")).render(p.jsx(t0.StrictMode,{children:p.jsx(UR,{})}));
