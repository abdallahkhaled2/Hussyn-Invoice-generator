function Ow(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in i)){const o=Object.getOwnPropertyDescriptor(s,r);o&&Object.defineProperty(i,r,o.get?o:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();function ef(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function co(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function s(){var r=!1;try{r=this instanceof s}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var r=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:function(){return i[s]}})}),t}var ed={exports:{}},Mr={};var Dy;function Rw(){if(Dy)return Mr;Dy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:i,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Mr.Fragment=e,Mr.jsx=t,Mr.jsxs=t,Mr}var Py;function Mw(){return Py||(Py=1,ed.exports=Rw()),ed.exports}var y=Mw(),td={exports:{}},_e={};var Ly;function kw(){if(Ly)return _e;Ly=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,w={};function C(O,G,V){this.props=O,this.context=G,this.refs=w,this.updater=V||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,G){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,G,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=C.prototype;function A(O,G,V){this.props=O,this.context=G,this.refs=w,this.updater=V||S}var N=A.prototype=new j;N.constructor=A,E(N,C.prototype),N.isPureReactComponent=!0;var k=Array.isArray;function z(){}var P={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function I(O,G,V){var Q=V.ref;return{$$typeof:i,type:O,key:G,ref:Q!==void 0?Q:null,props:V}}function ie(O,G){return I(O.type,G,O.props)}function Y(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function q(O){var G={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(V){return G[V]})}var X=/\/+/g;function de(O,G){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):G.toString(36)}function le(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(z,z):(O.status="pending",O.then(function(G){O.status==="pending"&&(O.status="fulfilled",O.value=G)},function(G){O.status==="pending"&&(O.status="rejected",O.reason=G)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,G,V,Q,se){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(me){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case m:return we=O._init,B(we(O._payload),G,V,Q,se)}}if(we)return se=se(O),we=Q===""?"."+de(O,0):Q,k(se)?(V="",we!=null&&(V=we.replace(X,"$&/")+"/"),B(se,G,V,"",function(et){return et})):se!=null&&(Y(se)&&(se=ie(se,V+(se.key==null||O&&O.key===se.key?"":(""+se.key).replace(X,"$&/")+"/")+we)),G.push(se)),1;we=0;var Xe=Q===""?".":Q+":";if(k(O))for(var Le=0;Le<O.length;Le++)Q=O[Le],me=Xe+de(Q,Le),we+=B(Q,G,V,me,se);else if(Le=x(O),typeof Le=="function")for(O=Le.call(O),Le=0;!(Q=O.next()).done;)Q=Q.value,me=Xe+de(Q,Le++),we+=B(Q,G,V,me,se);else if(me==="object"){if(typeof O.then=="function")return B(le(O),G,V,Q,se);throw G=String(O),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return we}function ne(O,G,V){if(O==null)return O;var Q=[],se=0;return B(O,Q,"","",function(me){return G.call(V,me,se++)}),Q}function ce(O){if(O._status===-1){var G=O._result;G=G(),G.then(function(V){(O._status===0||O._status===-1)&&(O._status=1,O._result=V)},function(V){(O._status===0||O._status===-1)&&(O._status=2,O._result=V)}),O._status===-1&&(O._status=0,O._result=G)}if(O._status===1)return O._result.default;throw O._result}var W=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},re={map:ne,forEach:function(O,G,V){ne(O,function(){G.apply(this,arguments)},V)},count:function(O){var G=0;return ne(O,function(){G++}),G},toArray:function(O){return ne(O,function(G){return G})||[]},only:function(O){if(!Y(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _e.Activity=b,_e.Children=re,_e.Component=C,_e.Fragment=t,_e.Profiler=r,_e.PureComponent=A,_e.StrictMode=s,_e.Suspense=d,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,_e.__COMPILER_RUNTIME={__proto__:null,c:function(O){return P.H.useMemoCache(O)}},_e.cache=function(O){return function(){return O.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(O,G,V){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Q=E({},O.props),se=O.key;if(G!=null)for(me in G.key!==void 0&&(se=""+G.key),G)!J.call(G,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&G.ref===void 0||(Q[me]=G[me]);var me=arguments.length-2;if(me===1)Q.children=V;else if(1<me){for(var we=Array(me),Xe=0;Xe<me;Xe++)we[Xe]=arguments[Xe+2];Q.children=we}return I(O.type,se,Q)},_e.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},_e.createElement=function(O,G,V){var Q,se={},me=null;if(G!=null)for(Q in G.key!==void 0&&(me=""+G.key),G)J.call(G,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=G[Q]);var we=arguments.length-2;if(we===1)se.children=V;else if(1<we){for(var Xe=Array(we),Le=0;Le<we;Le++)Xe[Le]=arguments[Le+2];se.children=Xe}if(O&&O.defaultProps)for(Q in we=O.defaultProps,we)se[Q]===void 0&&(se[Q]=we[Q]);return I(O,me,se)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(O){return{$$typeof:h,render:O}},_e.isValidElement=Y,_e.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:ce}},_e.memo=function(O,G){return{$$typeof:f,type:O,compare:G===void 0?null:G}},_e.startTransition=function(O){var G=P.T,V={};P.T=V;try{var Q=O(),se=P.S;se!==null&&se(V,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(z,W)}catch(me){W(me)}finally{G!==null&&V.types!==null&&(G.types=V.types),P.T=G}},_e.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},_e.use=function(O){return P.H.use(O)},_e.useActionState=function(O,G,V){return P.H.useActionState(O,G,V)},_e.useCallback=function(O,G){return P.H.useCallback(O,G)},_e.useContext=function(O){return P.H.useContext(O)},_e.useDebugValue=function(){},_e.useDeferredValue=function(O,G){return P.H.useDeferredValue(O,G)},_e.useEffect=function(O,G){return P.H.useEffect(O,G)},_e.useEffectEvent=function(O){return P.H.useEffectEvent(O)},_e.useId=function(){return P.H.useId()},_e.useImperativeHandle=function(O,G,V){return P.H.useImperativeHandle(O,G,V)},_e.useInsertionEffect=function(O,G){return P.H.useInsertionEffect(O,G)},_e.useLayoutEffect=function(O,G){return P.H.useLayoutEffect(O,G)},_e.useMemo=function(O,G){return P.H.useMemo(O,G)},_e.useOptimistic=function(O,G){return P.H.useOptimistic(O,G)},_e.useReducer=function(O,G,V){return P.H.useReducer(O,G,V)},_e.useRef=function(O){return P.H.useRef(O)},_e.useState=function(O){return P.H.useState(O)},_e.useSyncExternalStore=function(O,G,V){return P.H.useSyncExternalStore(O,G,V)},_e.useTransition=function(){return P.H.useTransition()},_e.version="19.2.0",_e}var zy;function tf(){return zy||(zy=1,td.exports=kw()),td.exports}var L=tf();const Nw=ef(L);var nd={exports:{}},kr={},id={exports:{}},sd={};var By;function Dw(){return By||(By=1,(function(i){function e(B,ne){var ce=B.length;B.push(ne);e:for(;0<ce;){var W=ce-1>>>1,re=B[W];if(0<r(re,ne))B[W]=ne,B[ce]=re,ce=W;else break e}}function t(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var ne=B[0],ce=B.pop();if(ce!==ne){B[0]=ce;e:for(var W=0,re=B.length,O=re>>>1;W<O;){var G=2*(W+1)-1,V=B[G],Q=G+1,se=B[Q];if(0>r(V,ce))Q<re&&0>r(se,V)?(B[W]=se,B[Q]=ce,W=Q):(B[W]=V,B[G]=ce,W=G);else if(Q<re&&0>r(se,ce))B[W]=se,B[Q]=ce,W=Q;else break e}}return ne}function r(B,ne){var ce=B.sortIndex-ne.sortIndex;return ce!==0?ce:B.id-ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();i.unstable_now=function(){return c.now()-h}}var d=[],f=[],m=1,b=null,v=3,x=!1,S=!1,E=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function N(B){for(var ne=t(f);ne!==null;){if(ne.callback===null)s(f);else if(ne.startTime<=B)s(f),ne.sortIndex=ne.expirationTime,e(d,ne);else break;ne=t(f)}}function k(B){if(E=!1,N(B),!S)if(t(d)!==null)S=!0,z||(z=!0,q());else{var ne=t(f);ne!==null&&le(k,ne.startTime-B)}}var z=!1,P=-1,J=5,I=-1;function ie(){return w?!0:!(i.unstable_now()-I<J)}function Y(){if(w=!1,z){var B=i.unstable_now();I=B;var ne=!0;try{e:{S=!1,E&&(E=!1,j(P),P=-1),x=!0;var ce=v;try{t:{for(N(B),b=t(d);b!==null&&!(b.expirationTime>B&&ie());){var W=b.callback;if(typeof W=="function"){b.callback=null,v=b.priorityLevel;var re=W(b.expirationTime<=B);if(B=i.unstable_now(),typeof re=="function"){b.callback=re,N(B),ne=!0;break t}b===t(d)&&s(d),N(B)}else s(d);b=t(d)}if(b!==null)ne=!0;else{var O=t(f);O!==null&&le(k,O.startTime-B),ne=!1}}break e}finally{b=null,v=ce,x=!1}ne=void 0}}finally{ne?q():z=!1}}}var q;if(typeof A=="function")q=function(){A(Y)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,de=X.port2;X.port1.onmessage=Y,q=function(){de.postMessage(null)}}else q=function(){C(Y,0)};function le(B,ne){P=C(function(){B(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var ne=3;break;default:ne=v}var ce=v;v=ne;try{return B()}finally{v=ce}},i.unstable_requestPaint=function(){w=!0},i.unstable_runWithPriority=function(B,ne){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ce=v;v=B;try{return ne()}finally{v=ce}},i.unstable_scheduleCallback=function(B,ne,ce){var W=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?W+ce:W):ce=W,B){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ce+re,B={id:m++,callback:ne,priorityLevel:B,startTime:ce,expirationTime:re,sortIndex:-1},ce>W?(B.sortIndex=ce,e(f,B),t(d)===null&&B===t(f)&&(E?(j(P),P=-1):E=!0,le(k,ce-W))):(B.sortIndex=re,e(d,B),S||x||(S=!0,z||(z=!0,q()))),B},i.unstable_shouldYield=ie,i.unstable_wrapCallback=function(B){var ne=v;return function(){var ce=v;v=ne;try{return B.apply(this,arguments)}finally{v=ce}}}})(sd)),sd}var Uy;function Pw(){return Uy||(Uy=1,id.exports=Dw()),id.exports}var ad={exports:{}},Ct={};var Hy;function Lw(){if(Hy)return Ct;Hy=1;var i=tf();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:d,containerInfo:f,implementation:m}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ct.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,m)},Ct.flushSync=function(d){var f=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=f,s.p=m,s.d.f()}},Ct.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(d,f))},Ct.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Ct.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,b=h(m,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?s.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:x}):m==="script"&&s.d.X(d,{crossOrigin:b,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ct.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(d)},Ct.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,b=h(m,f.crossOrigin);s.d.L(d,m,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ct.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=h(f.as,f.crossOrigin);s.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(d)},Ct.requestFormReset=function(d){s.d.r(d)},Ct.unstable_batchedUpdates=function(d,f){return d(f)},Ct.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},Ct.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ct.version="19.2.0",Ct}var Fy;function zw(){if(Fy)return ad.exports;Fy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ad.exports=Lw(),ad.exports}var Iy;function Bw(){if(Iy)return kr;Iy=1;var i=Pw(),e=tf(),t=zw();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(s(188))}function f(n){var a=n.alternate;if(!a){if(a=o(n),a===null)throw Error(s(188));return a!==n?null:n}for(var l=n,u=a;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return d(g),n;if(p===u)return d(g),a;p=p.sibling}throw Error(s(188))}if(l.return!==u.return)l=g,u=p;else{for(var _=!1,T=g.child;T;){if(T===l){_=!0,l=g,u=p;break}if(T===u){_=!0,u=g,l=p;break}T=T.sibling}if(!_){for(T=p.child;T;){if(T===l){_=!0,l=p,u=g;break}if(T===u){_=!0,u=p,l=g;break}T=T.sibling}if(!_)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),A=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function q(n){return n===null||typeof n!="object"?null:(n=Y&&n[Y]||n["@@iterator"],typeof n=="function"?n:null)}var X=Symbol.for("react.client.reference");function de(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===X?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case z:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case A:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case N:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return a=n.displayName||null,a!==null?a:de(n.type)||"Memo";case J:a=n._payload,n=n._init;try{return de(n(a))}catch{}}return null}var le=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},W=[],re=-1;function O(n){return{current:n}}function G(n){0>re||(n.current=W[re],W[re]=null,re--)}function V(n,a){re++,W[re]=n.current,n.current=a}var Q=O(null),se=O(null),me=O(null),we=O(null);function Xe(n,a){switch(V(me,a),V(se,n),V(Q,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?iy(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=iy(a),n=sy(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(Q),V(Q,n)}function Le(){G(Q),G(se),G(me)}function et(n){n.memoizedState!==null&&V(we,n);var a=Q.current,l=sy(a,n.type);a!==l&&(V(se,n),V(Q,l))}function ze(n){se.current===n&&(G(Q),G(se)),we.current===n&&(G(we),jr._currentValue=ce)}var zn,Ms;function oe(n){if(zn===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);zn=a&&a[1]||"",Ms=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+n+Ms}var Mt=!1;function $t(n,a){if(!n||Mt)return"";Mt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var F=$}Reflect.construct(n,[],ee)}else{try{ee.call()}catch($){F=$}n.call(ee.prototype)}}else{try{throw Error()}catch($){F=$}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],T=p[1];if(_&&T){var R=_.split(`
`),H=T.split(`
`);for(g=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;g<H.length&&!H[g].includes("DetermineComponentFrameRoot");)g++;if(u===R.length||g===H.length)for(u=R.length-1,g=H.length-1;1<=u&&0<=g&&R[u]!==H[g];)g--;for(;1<=u&&0<=g;u--,g--)if(R[u]!==H[g]){if(u!==1||g!==1)do if(u--,g--,0>g||R[u]!==H[g]){var K=`
`+R[u].replace(" at new "," at ");return n.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",n.displayName)),K}while(1<=u&&0<=g);break}}}finally{Mt=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?oe(l):""}function Cn(n,a){switch(n.tag){case 26:case 27:case 5:return oe(n.type);case 16:return oe("Lazy");case 13:return n.child!==a&&a!==null?oe("Suspense Fallback"):oe("Suspense");case 19:return oe("SuspenseList");case 0:case 15:return $t(n.type,!1);case 11:return $t(n.type.render,!1);case 1:return $t(n.type,!0);case 31:return oe("Activity");default:return""}}function te(n){try{var a="",l=null;do a+=Cn(n,l),l=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var fe=Object.prototype.hasOwnProperty,xe=i.unstable_scheduleCallback,nn=i.unstable_cancelCallback,Wi=i.unstable_shouldYield,Ba=i.unstable_requestPaint,Gt=i.unstable_now,cx=i.unstable_getCurrentPriorityLevel,Pf=i.unstable_ImmediatePriority,Lf=i.unstable_UserBlockingPriority,yo=i.unstable_NormalPriority,ux=i.unstable_LowPriority,zf=i.unstable_IdlePriority,hx=i.log,dx=i.unstable_setDisableYieldValue,Ua=null,Vt=null;function pi(n){if(typeof hx=="function"&&dx(n),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(Ua,n)}catch{}}var Yt=Math.clz32?Math.clz32:px,fx=Math.log,gx=Math.LN2;function px(n){return n>>>=0,n===0?32:31-(fx(n)/gx|0)|0}var bo=256,vo=262144,_o=4194304;function Ki(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xo(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var g=0,p=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?g=Ki(u):(_&=T,_!==0?g=Ki(_):l||(l=T&~n,l!==0&&(g=Ki(l))))):(T=u&~p,T!==0?g=Ki(T):_!==0?g=Ki(_):l||(l=u&~n,l!==0&&(g=Ki(l)))),g===0?0:a!==0&&a!==g&&(a&p)===0&&(p=g&-g,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:g}function Ha(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function mx(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(){var n=_o;return _o<<=1,(_o&62914560)===0&&(_o=4194304),n}function Ic(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Fa(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function yx(n,a,l,u,g,p){var _=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var T=n.entanglements,R=n.expirationTimes,H=n.hiddenUpdates;for(l=_&~l;0<l;){var K=31-Yt(l),ee=1<<K;T[K]=0,R[K]=-1;var F=H[K];if(F!==null)for(H[K]=null,K=0;K<F.length;K++){var $=F[K];$!==null&&($.lane&=-536870913)}l&=~ee}u!==0&&Uf(n,u,0),p!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~a))}function Uf(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Yt(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Hf(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-Yt(l),g=1<<u;g&a|n[u]&a&&(n[u]|=a),l&=~g}}function Ff(n,a){var l=a&-a;return l=(l&42)!==0?1:qc(l),(l&(n.suspendedLanes|a))!==0?0:l}function qc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function $c(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function If(){var n=ne.p;return n!==0?n:(n=window.event,n===void 0?32:jy(n.type))}function qf(n,a){var l=ne.p;try{return ne.p=n,a()}finally{ne.p=l}}var mi=Math.random().toString(36).slice(2),vt="__reactFiber$"+mi,Nt="__reactProps$"+mi,ks="__reactContainer$"+mi,Gc="__reactEvents$"+mi,bx="__reactListeners$"+mi,vx="__reactHandles$"+mi,$f="__reactResources$"+mi,Ia="__reactMarker$"+mi;function Vc(n){delete n[vt],delete n[Nt],delete n[Gc],delete n[bx],delete n[vx]}function Ns(n){var a=n[vt];if(a)return a;for(var l=n.parentNode;l;){if(a=l[ks]||l[vt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=hy(n);n!==null;){if(l=n[vt])return l;n=hy(n)}return a}n=l,l=n.parentNode}return null}function Ds(n){if(n=n[vt]||n[ks]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function qa(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function Ps(n){var a=n[$f];return a||(a=n[$f]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function yt(n){n[Ia]=!0}var Gf=new Set,Vf={};function Xi(n,a){Ls(n,a),Ls(n+"Capture",a)}function Ls(n,a){for(Vf[n]=a,n=0;n<a.length;n++)Gf.add(a[n])}var _x=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Wf={};function xx(n){return fe.call(Wf,n)?!0:fe.call(Yf,n)?!1:_x.test(n)?Wf[n]=!0:(Yf[n]=!0,!1)}function So(n,a,l){if(xx(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function wo(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function Bn(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Kf(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Sx(n,a,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return g.call(this)},set:function(_){l=""+_,p.call(this,_)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Yc(n){if(!n._valueTracker){var a=Kf(n)?"checked":"value";n._valueTracker=Sx(n,a,""+n[a])}}function Xf(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=Kf(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function Eo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var wx=/[\n"\\]/g;function an(n){return n.replace(wx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Wc(n,a,l,u,g,p,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),a!=null?_==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+sn(a)):n.value!==""+sn(a)&&(n.value=""+sn(a)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),a!=null?Kc(n,_,sn(a)):l!=null?Kc(n,_,sn(l)):u!=null&&n.removeAttribute("value"),g==null&&p!=null&&(n.defaultChecked=!!p),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+sn(T):n.removeAttribute("name")}function Qf(n,a,l,u,g,p,_,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){Yc(n);return}l=l!=null?""+sn(l):"",a=a!=null?""+sn(a):l,T||a===n.value||(n.value=a),n.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Yc(n)}function Kc(n,a,l){a==="number"&&Eo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function zs(n,a,l,u){if(n=n.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<n.length;l++)g=a.hasOwnProperty("$"+n[l].value),n[l].selected!==g&&(n[l].selected=g),g&&u&&(n[l].defaultSelected=!0)}else{for(l=""+sn(l),a=null,g=0;g<n.length;g++){if(n[g].value===l){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}a!==null||n[g].disabled||(a=n[g])}a!==null&&(a.selected=!0)}}function Jf(n,a,l){if(a!=null&&(a=""+sn(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+sn(l):""}function Zf(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(s(92));if(le(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=sn(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),Yc(n)}function Bs(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var Ex=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eg(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||Ex.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function tg(n,a,l){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&eg(n,g,u)}else for(var p in a)a.hasOwnProperty(p)&&eg(n,p,a[p])}function Xc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(n){return Cx.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Un(){}var Qc=null;function Jc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,Hs=null;function ng(n){var a=Ds(n);if(a&&(n=a.stateNode)){var l=n[Nt]||null;e:switch(n=a.stateNode,a.type){case"input":if(Wc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+an(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var g=u[Nt]||null;if(!g)throw Error(s(90));Wc(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&Xf(u)}break e;case"textarea":Jf(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&zs(n,!!l.multiple,a,!1)}}}var Zc=!1;function ig(n,a,l){if(Zc)return n(a,l);Zc=!0;try{var u=n(a);return u}finally{if(Zc=!1,(Us!==null||Hs!==null)&&(dl(),Us&&(a=Us,n=Hs,Hs=Us=null,ng(a),n)))for(a=0;a<n.length;a++)ng(n[a])}}function $a(n,a){var l=n.stateNode;if(l===null)return null;var u=l[Nt]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,a,typeof l));return l}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=!1;if(Hn)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{eu=!1}var yi=null,tu=null,Co=null;function sg(){if(Co)return Co;var n,a=tu,l=a.length,u,g="value"in yi?yi.value:yi.textContent,p=g.length;for(n=0;n<l&&a[n]===g[n];n++);var _=l-n;for(u=1;u<=_&&a[l-u]===g[p-u];u++);return Co=g.slice(n,1<u?1-u:void 0)}function jo(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ao(){return!0}function ag(){return!1}function Dt(n){function a(l,u,g,p,_){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ao:ag,this.isPropagationStopped=ag,this}return b(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),a}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Dt(Qi),Va=b({},Qi,{view:0,detail:0}),jx=Dt(Va),nu,iu,Ya,Ro=b({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ya&&(Ya&&n.type==="mousemove"?(nu=n.screenX-Ya.screenX,iu=n.screenY-Ya.screenY):iu=nu=0,Ya=n),nu)},movementY:function(n){return"movementY"in n?n.movementY:iu}}),rg=Dt(Ro),Ax=b({},Ro,{dataTransfer:0}),Ox=Dt(Ax),Rx=b({},Va,{relatedTarget:0}),su=Dt(Rx),Mx=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),kx=Dt(Mx),Nx=b({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dx=Dt(Nx),Px=b({},Qi,{data:0}),og=Dt(Px),Lx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ux(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Bx[n])?!!a[n]:!1}function au(){return Ux}var Hx=b({},Va,{key:function(n){if(n.key){var a=Lx[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=jo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(n){return n.type==="keypress"?jo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Fx=Dt(Hx),Ix=b({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lg=Dt(Ix),qx=b({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),$x=Dt(qx),Gx=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vx=Dt(Gx),Yx=b({},Ro,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=Dt(Yx),Kx=b({},Qi,{newState:0,oldState:0}),Xx=Dt(Kx),Qx=[9,13,27,32],ru=Hn&&"CompositionEvent"in window,Wa=null;Hn&&"documentMode"in document&&(Wa=document.documentMode);var Jx=Hn&&"TextEvent"in window&&!Wa,cg=Hn&&(!ru||Wa&&8<Wa&&11>=Wa),ug=" ",hg=!1;function dg(n,a){switch(n){case"keyup":return Qx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fs=!1;function Zx(n,a){switch(n){case"compositionend":return fg(a);case"keypress":return a.which!==32?null:(hg=!0,ug);case"textInput":return n=a.data,n===ug&&hg?null:n;default:return null}}function eS(n,a){if(Fs)return n==="compositionend"||!ru&&dg(n,a)?(n=sg(),Co=tu=yi=null,Fs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return cg&&a.locale!=="ko"?null:a.data;default:return null}}var tS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!tS[n.type]:a==="textarea"}function pg(n,a,l,u){Us?Hs?Hs.push(u):Hs=[u]:Us=u,a=vl(a,"onChange"),0<a.length&&(l=new Oo("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var Ka=null,Xa=null;function nS(n){Qm(n,0)}function Mo(n){var a=qa(n);if(Xf(a))return n}function mg(n,a){if(n==="change")return a}var yg=!1;if(Hn){var ou;if(Hn){var lu="oninput"in document;if(!lu){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),lu=typeof bg.oninput=="function"}ou=lu}else ou=!1;yg=ou&&(!document.documentMode||9<document.documentMode)}function vg(){Ka&&(Ka.detachEvent("onpropertychange",_g),Xa=Ka=null)}function _g(n){if(n.propertyName==="value"&&Mo(Xa)){var a=[];pg(a,Xa,n,Jc(n)),ig(nS,a)}}function iS(n,a,l){n==="focusin"?(vg(),Ka=a,Xa=l,Ka.attachEvent("onpropertychange",_g)):n==="focusout"&&vg()}function sS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Mo(Xa)}function aS(n,a){if(n==="click")return Mo(a)}function rS(n,a){if(n==="input"||n==="change")return Mo(a)}function oS(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Wt=typeof Object.is=="function"?Object.is:oS;function Qa(n,a){if(Wt(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!fe.call(a,g)||!Wt(n[g],a[g]))return!1}return!0}function xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sg(n,a){var l=xg(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xg(l)}}function wg(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?wg(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Eg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Eo(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Eo(n.document)}return a}function cu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var lS=Hn&&"documentMode"in document&&11>=document.documentMode,Is=null,uu=null,Ja=null,hu=!1;function Tg(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hu||Is==null||Is!==Eo(u)||(u=Is,"selectionStart"in u&&cu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ja&&Qa(Ja,u)||(Ja=u,u=vl(uu,"onSelect"),0<u.length&&(a=new Oo("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=Is)))}function Ji(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var qs={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},du={},Cg={};Hn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Zi(n){if(du[n])return du[n];if(!qs[n])return n;var a=qs[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in Cg)return du[n]=a[l];return n}var jg=Zi("animationend"),Ag=Zi("animationiteration"),Og=Zi("animationstart"),cS=Zi("transitionrun"),uS=Zi("transitionstart"),hS=Zi("transitioncancel"),Rg=Zi("transitionend"),Mg=new Map,fu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fu.push("scrollEnd");function bn(n,a){Mg.set(n,a),Xi(a,[n])}var ko=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},rn=[],$s=0,gu=0;function No(){for(var n=$s,a=gu=$s=0;a<n;){var l=rn[a];rn[a++]=null;var u=rn[a];rn[a++]=null;var g=rn[a];rn[a++]=null;var p=rn[a];if(rn[a++]=null,u!==null&&g!==null){var _=u.pending;_===null?g.next=g:(g.next=_.next,_.next=g),u.pending=g}p!==0&&kg(l,g,p)}}function Do(n,a,l,u){rn[$s++]=n,rn[$s++]=a,rn[$s++]=l,rn[$s++]=u,gu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function pu(n,a,l,u){return Do(n,a,l,u),Po(n)}function es(n,a){return Do(n,null,null,a),Po(n)}function kg(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=n.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(g=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,g&&a!==null&&(g=31-Yt(l),n=p.hiddenUpdates,u=n[g],u===null?n[g]=[a]:u.push(a),a.lane=l|536870912),p):null}function Po(n){if(50<_r)throw _r=0,Eh=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Gs={};function dS(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(n,a,l,u){return new dS(n,a,l,u)}function mu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fn(n,a){var l=n.alternate;return l===null?(l=Kt(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Ng(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Lo(n,a,l,u,g,p){var _=0;if(u=n,typeof n=="function")mu(n)&&(_=1);else if(typeof n=="string")_=yw(n,l,Q.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Kt(31,l,a,g),n.elementType=I,n.lanes=p,n;case E:return ts(l.children,g,p,a);case w:_=8,g|=24;break;case C:return n=Kt(12,l,a,g|2),n.elementType=C,n.lanes=p,n;case k:return n=Kt(13,l,a,g),n.elementType=k,n.lanes=p,n;case z:return n=Kt(19,l,a,g),n.elementType=z,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case A:_=10;break e;case j:_=9;break e;case N:_=11;break e;case P:_=14;break e;case J:_=16,u=null;break e}_=29,l=Error(s(130,n===null?"null":typeof n,"")),u=null}return a=Kt(_,l,a,g),a.elementType=n,a.type=u,a.lanes=p,a}function ts(n,a,l,u){return n=Kt(7,n,u,a),n.lanes=l,n}function yu(n,a,l){return n=Kt(6,n,null,a),n.lanes=l,n}function Dg(n){var a=Kt(18,null,null,0);return a.stateNode=n,a}function bu(n,a,l){return a=Kt(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Pg=new WeakMap;function on(n,a){if(typeof n=="object"&&n!==null){var l=Pg.get(n);return l!==void 0?l:(a={value:n,source:a,stack:te(a)},Pg.set(n,a),a)}return{value:n,source:a,stack:te(a)}}var Vs=[],Ys=0,zo=null,Za=0,ln=[],cn=0,bi=null,jn=1,An="";function In(n,a){Vs[Ys++]=Za,Vs[Ys++]=zo,zo=n,Za=a}function Lg(n,a,l){ln[cn++]=jn,ln[cn++]=An,ln[cn++]=bi,bi=n;var u=jn;n=An;var g=32-Yt(u)-1;u&=~(1<<g),l+=1;var p=32-Yt(a)+g;if(30<p){var _=g-g%5;p=(u&(1<<_)-1).toString(32),u>>=_,g-=_,jn=1<<32-Yt(a)+g|l<<g|u,An=p+n}else jn=1<<p|l<<g|u,An=n}function vu(n){n.return!==null&&(In(n,1),Lg(n,1,0))}function _u(n){for(;n===zo;)zo=Vs[--Ys],Vs[Ys]=null,Za=Vs[--Ys],Vs[Ys]=null;for(;n===bi;)bi=ln[--cn],ln[cn]=null,An=ln[--cn],ln[cn]=null,jn=ln[--cn],ln[cn]=null}function zg(n,a){ln[cn++]=jn,ln[cn++]=An,ln[cn++]=bi,jn=a.id,An=a.overflow,bi=n}var _t=null,Ye=null,Re=!1,vi=null,un=!1,xu=Error(s(519));function _i(n){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw er(on(a,n)),xu}function Bg(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[vt]=n,a[Nt]=u,l){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(l=0;l<Sr.length;l++)je(Sr[l],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":je("invalid",a),Qf(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":je("invalid",a);break;case"textarea":je("invalid",a),Zf(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||ty(a.textContent,l)?(u.popover!=null&&(je("beforetoggle",a),je("toggle",a)),u.onScroll!=null&&je("scroll",a),u.onScrollEnd!=null&&je("scrollend",a),u.onClick!=null&&(a.onclick=Un),a=!0):a=!1,a||_i(n,!0)}function Ug(n){for(_t=n.return;_t;)switch(_t.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:_t=_t.return}}function Ws(n){if(n!==_t)return!1;if(!Re)return Ug(n),Re=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Uh(n.type,n.memoizedProps)),l=!l),l&&Ye&&_i(n),Ug(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ye=uy(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));Ye=uy(n)}else a===27?(a=Ye,Di(n.type)?(n=$h,$h=null,Ye=n):Ye=a):Ye=_t?dn(n.stateNode.nextSibling):null;return!0}function ns(){Ye=_t=null,Re=!1}function Su(){var n=vi;return n!==null&&(Bt===null?Bt=n:Bt.push.apply(Bt,n),vi=null),n}function er(n){vi===null?vi=[n]:vi.push(n)}var wu=O(null),is=null,qn=null;function xi(n,a,l){V(wu,a._currentValue),a._currentValue=l}function $n(n){n._currentValue=wu.current,G(wu)}function Eu(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function Tu(n,a,l,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var p=g.dependencies;if(p!==null){var _=g.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=g;for(var R=0;R<a.length;R++)if(T.context===a[R]){p.lanes|=l,T=p.alternate,T!==null&&(T.lanes|=l),Eu(p.return,l,n),u||(_=null);break e}p=T.next}}else if(g.tag===18){if(_=g.return,_===null)throw Error(s(341));_.lanes|=l,p=_.alternate,p!==null&&(p.lanes|=l),Eu(_,l,n),_=null}else _=g.child;if(_!==null)_.return=g;else for(_=g;_!==null;){if(_===n){_=null;break}if(g=_.sibling,g!==null){g.return=_.return,_=g;break}_=_.return}g=_}}function Ks(n,a,l,u){n=null;for(var g=a,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var _=g.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=g.type;Wt(g.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(g===we.current){if(_=g.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(jr):n=[jr])}g=g.return}n!==null&&Tu(a,n,l,u),a.flags|=262144}function Bo(n){for(n=n.firstContext;n!==null;){if(!Wt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ss(n){is=n,qn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function xt(n){return Hg(is,n)}function Uo(n,a){return is===null&&ss(n),Hg(n,a)}function Hg(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},qn===null){if(n===null)throw Error(s(308));qn=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else qn=qn.next=a;return l}var fS=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},gS=i.unstable_scheduleCallback,pS=i.unstable_NormalPriority,lt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cu(){return{controller:new fS,data:new Map,refCount:0}}function tr(n){n.refCount--,n.refCount===0&&gS(pS,function(){n.controller.abort()})}var nr=null,ju=0,Xs=0,Qs=null;function mS(n,a){if(nr===null){var l=nr=[];ju=0,Xs=Rh(),Qs={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ju++,a.then(Fg,Fg),a}function Fg(){if(--ju===0&&nr!==null){Qs!==null&&(Qs.status="fulfilled");var n=nr;nr=null,Xs=0,Qs=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function yS(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Ig=B.S;B.S=function(n,a){Tm=Gt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&mS(n,a),Ig!==null&&Ig(n,a)};var as=O(null);function Au(){var n=as.current;return n!==null?n:Ge.pooledCache}function Ho(n,a){a===null?V(as,as.current):V(as,a.pool)}function qg(){var n=Au();return n===null?null:{parent:lt._currentValue,pool:n}}var Js=Error(s(460)),Ou=Error(s(474)),Fo=Error(s(542)),Io={then:function(){}};function $g(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Gg(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(Un,Un),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Yg(n),n;default:if(typeof a.status=="string")a.then(Un,Un);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Yg(n),n}throw os=a,Js}}function rs(n){try{var a=n._init;return a(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(os=l,Js):l}}var os=null;function Vg(){if(os===null)throw Error(s(459));var n=os;return os=null,n}function Yg(n){if(n===Js||n===Fo)throw Error(s(483))}var Zs=null,ir=0;function qo(n){var a=ir;return ir+=1,Zs===null&&(Zs=[]),Gg(Zs,n,a)}function sr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function $o(n,a){throw a.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wg(n){function a(D,M){if(n){var U=D.deletions;U===null?(D.deletions=[M],D.flags|=16):U.push(M)}}function l(D,M){if(!n)return null;for(;M!==null;)a(D,M),M=M.sibling;return null}function u(D){for(var M=new Map;D!==null;)D.key!==null?M.set(D.key,D):M.set(D.index,D),D=D.sibling;return M}function g(D,M){return D=Fn(D,M),D.index=0,D.sibling=null,D}function p(D,M,U){return D.index=U,n?(U=D.alternate,U!==null?(U=U.index,U<M?(D.flags|=67108866,M):U):(D.flags|=67108866,M)):(D.flags|=1048576,M)}function _(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function T(D,M,U,Z){return M===null||M.tag!==6?(M=yu(U,D.mode,Z),M.return=D,M):(M=g(M,U),M.return=D,M)}function R(D,M,U,Z){var ye=U.type;return ye===E?K(D,M,U.props.children,Z,U.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&rs(ye)===M.type)?(M=g(M,U.props),sr(M,U),M.return=D,M):(M=Lo(U.type,U.key,U.props,null,D.mode,Z),sr(M,U),M.return=D,M)}function H(D,M,U,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=bu(U,D.mode,Z),M.return=D,M):(M=g(M,U.children||[]),M.return=D,M)}function K(D,M,U,Z,ye){return M===null||M.tag!==7?(M=ts(U,D.mode,Z,ye),M.return=D,M):(M=g(M,U),M.return=D,M)}function ee(D,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=yu(""+M,D.mode,U),M.return=D,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return U=Lo(M.type,M.key,M.props,null,D.mode,U),sr(U,M),U.return=D,U;case S:return M=bu(M,D.mode,U),M.return=D,M;case J:return M=rs(M),ee(D,M,U)}if(le(M)||q(M))return M=ts(M,D.mode,U,null),M.return=D,M;if(typeof M.then=="function")return ee(D,qo(M),U);if(M.$$typeof===A)return ee(D,Uo(D,M),U);$o(D,M)}return null}function F(D,M,U,Z){var ye=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:T(D,M,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return U.key===ye?R(D,M,U,Z):null;case S:return U.key===ye?H(D,M,U,Z):null;case J:return U=rs(U),F(D,M,U,Z)}if(le(U)||q(U))return ye!==null?null:K(D,M,U,Z,null);if(typeof U.then=="function")return F(D,M,qo(U),Z);if(U.$$typeof===A)return F(D,M,Uo(D,U),Z);$o(D,U)}return null}function $(D,M,U,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return D=D.get(U)||null,T(M,D,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case x:return D=D.get(Z.key===null?U:Z.key)||null,R(M,D,Z,ye);case S:return D=D.get(Z.key===null?U:Z.key)||null,H(M,D,Z,ye);case J:return Z=rs(Z),$(D,M,U,Z,ye)}if(le(Z)||q(Z))return D=D.get(U)||null,K(M,D,Z,ye,null);if(typeof Z.then=="function")return $(D,M,U,qo(Z),ye);if(Z.$$typeof===A)return $(D,M,U,Uo(M,Z),ye);$o(M,Z)}return null}function he(D,M,U,Z){for(var ye=null,ke=null,ge=M,Ee=M=0,Oe=null;ge!==null&&Ee<U.length;Ee++){ge.index>Ee?(Oe=ge,ge=null):Oe=ge.sibling;var Ne=F(D,ge,U[Ee],Z);if(Ne===null){ge===null&&(ge=Oe);break}n&&ge&&Ne.alternate===null&&a(D,ge),M=p(Ne,M,Ee),ke===null?ye=Ne:ke.sibling=Ne,ke=Ne,ge=Oe}if(Ee===U.length)return l(D,ge),Re&&In(D,Ee),ye;if(ge===null){for(;Ee<U.length;Ee++)ge=ee(D,U[Ee],Z),ge!==null&&(M=p(ge,M,Ee),ke===null?ye=ge:ke.sibling=ge,ke=ge);return Re&&In(D,Ee),ye}for(ge=u(ge);Ee<U.length;Ee++)Oe=$(ge,D,Ee,U[Ee],Z),Oe!==null&&(n&&Oe.alternate!==null&&ge.delete(Oe.key===null?Ee:Oe.key),M=p(Oe,M,Ee),ke===null?ye=Oe:ke.sibling=Oe,ke=Oe);return n&&ge.forEach(function(Ui){return a(D,Ui)}),Re&&In(D,Ee),ye}function be(D,M,U,Z){if(U==null)throw Error(s(151));for(var ye=null,ke=null,ge=M,Ee=M=0,Oe=null,Ne=U.next();ge!==null&&!Ne.done;Ee++,Ne=U.next()){ge.index>Ee?(Oe=ge,ge=null):Oe=ge.sibling;var Ui=F(D,ge,Ne.value,Z);if(Ui===null){ge===null&&(ge=Oe);break}n&&ge&&Ui.alternate===null&&a(D,ge),M=p(Ui,M,Ee),ke===null?ye=Ui:ke.sibling=Ui,ke=Ui,ge=Oe}if(Ne.done)return l(D,ge),Re&&In(D,Ee),ye;if(ge===null){for(;!Ne.done;Ee++,Ne=U.next())Ne=ee(D,Ne.value,Z),Ne!==null&&(M=p(Ne,M,Ee),ke===null?ye=Ne:ke.sibling=Ne,ke=Ne);return Re&&In(D,Ee),ye}for(ge=u(ge);!Ne.done;Ee++,Ne=U.next())Ne=$(ge,D,Ee,Ne.value,Z),Ne!==null&&(n&&Ne.alternate!==null&&ge.delete(Ne.key===null?Ee:Ne.key),M=p(Ne,M,Ee),ke===null?ye=Ne:ke.sibling=Ne,ke=Ne);return n&&ge.forEach(function(Aw){return a(D,Aw)}),Re&&In(D,Ee),ye}function $e(D,M,U,Z){if(typeof U=="object"&&U!==null&&U.type===E&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case x:e:{for(var ye=U.key;M!==null;){if(M.key===ye){if(ye=U.type,ye===E){if(M.tag===7){l(D,M.sibling),Z=g(M,U.props.children),Z.return=D,D=Z;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===J&&rs(ye)===M.type){l(D,M.sibling),Z=g(M,U.props),sr(Z,U),Z.return=D,D=Z;break e}l(D,M);break}else a(D,M);M=M.sibling}U.type===E?(Z=ts(U.props.children,D.mode,Z,U.key),Z.return=D,D=Z):(Z=Lo(U.type,U.key,U.props,null,D.mode,Z),sr(Z,U),Z.return=D,D=Z)}return _(D);case S:e:{for(ye=U.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){l(D,M.sibling),Z=g(M,U.children||[]),Z.return=D,D=Z;break e}else{l(D,M);break}else a(D,M);M=M.sibling}Z=bu(U,D.mode,Z),Z.return=D,D=Z}return _(D);case J:return U=rs(U),$e(D,M,U,Z)}if(le(U))return he(D,M,U,Z);if(q(U)){if(ye=q(U),typeof ye!="function")throw Error(s(150));return U=ye.call(U),be(D,M,U,Z)}if(typeof U.then=="function")return $e(D,M,qo(U),Z);if(U.$$typeof===A)return $e(D,M,Uo(D,U),Z);$o(D,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(l(D,M.sibling),Z=g(M,U),Z.return=D,D=Z):(l(D,M),Z=yu(U,D.mode,Z),Z.return=D,D=Z),_(D)):l(D,M)}return function(D,M,U,Z){try{ir=0;var ye=$e(D,M,U,Z);return Zs=null,ye}catch(ge){if(ge===Js||ge===Fo)throw ge;var ke=Kt(29,ge,null,D.mode);return ke.lanes=Z,ke.return=D,ke}finally{}}}var ls=Wg(!0),Kg=Wg(!1),Si=!1;function Ru(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mu(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ei(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(De&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Po(n),kg(n,null,l),a}return Do(n,u,a,l),Po(n)}function ar(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Hf(n,l)}}function ku(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=_:p=p.next=_,l=l.next}while(l!==null);p===null?g=p=a:p=p.next=a}else g=p=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var Nu=!1;function rr(){if(Nu){var n=Qs;if(n!==null)throw n}}function or(n,a,l,u){Nu=!1;var g=n.updateQueue;Si=!1;var p=g.firstBaseUpdate,_=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var R=T,H=R.next;R.next=null,_===null?p=H:_.next=H,_=R;var K=n.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==_&&(T===null?K.firstBaseUpdate=H:T.next=H,K.lastBaseUpdate=R))}if(p!==null){var ee=g.baseState;_=0,K=H=R=null,T=p;do{var F=T.lane&-536870913,$=F!==T.lane;if($?(Ae&F)===F:(u&F)===F){F!==0&&F===Xs&&(Nu=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=n,be=T;F=a;var $e=l;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){ee=he.call($e,ee,F);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,F=typeof he=="function"?he.call($e,ee,F):he,F==null)break e;ee=b({},ee,F);break e;case 2:Si=!0}}F=T.callback,F!==null&&(n.flags|=64,$&&(n.flags|=8192),$=g.callbacks,$===null?g.callbacks=[F]:$.push(F))}else $={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(H=K=$,R=ee):K=K.next=$,_|=F;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;$=T,T=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);K===null&&(R=ee),g.baseState=R,g.firstBaseUpdate=H,g.lastBaseUpdate=K,p===null&&(g.shared.lanes=0),Oi|=_,n.lanes=_,n.memoizedState=ee}}function Xg(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function Qg(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Xg(l[n],a)}var ea=O(null),Go=O(0);function Jg(n,a){n=Zn,V(Go,n),V(ea,a),Zn=n|a.baseLanes}function Du(){V(Go,Zn),V(ea,ea.current)}function Pu(){Zn=Go.current,G(ea),G(Go)}var Xt=O(null),hn=null;function Ti(n){var a=n.alternate;V(st,st.current&1),V(Xt,n),hn===null&&(a===null||ea.current!==null||a.memoizedState!==null)&&(hn=n)}function Lu(n){V(st,st.current),V(Xt,n),hn===null&&(hn=n)}function Zg(n){n.tag===22?(V(st,st.current),V(Xt,n),hn===null&&(hn=n)):Ci()}function Ci(){V(st,st.current),V(Xt,Xt.current)}function Qt(n){G(Xt),hn===n&&(hn=null),G(st)}var st=O(0);function Vo(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Ih(l)||qh(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gn=0,Se=null,Ie=null,ct=null,Yo=!1,ta=!1,cs=!1,Wo=0,lr=0,na=null,bS=0;function tt(){throw Error(s(321))}function zu(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Wt(n[l],a[l]))return!1;return!0}function Bu(n,a,l,u,g,p){return Gn=p,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?Lp:Zu,cs=!1,p=l(u,g),cs=!1,ta&&(p=tp(a,l,u,g)),ep(n),p}function ep(n){B.H=hr;var a=Ie!==null&&Ie.next!==null;if(Gn=0,ct=Ie=Se=null,Yo=!1,lr=0,na=null,a)throw Error(s(300));n===null||ut||(n=n.dependencies,n!==null&&Bo(n)&&(ut=!0))}function tp(n,a,l,u){Se=n;var g=0;do{if(ta&&(na=null),lr=0,ta=!1,25<=g)throw Error(s(301));if(g+=1,ct=Ie=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}B.H=zp,p=a(l,u)}while(ta);return p}function vS(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?cr(a):a,n=n.useState()[0],(Ie!==null?Ie.memoizedState:null)!==n&&(Se.flags|=1024),a}function Uu(){var n=Wo!==0;return Wo=0,n}function Hu(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Fu(n){if(Yo){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Yo=!1}Gn=0,ct=Ie=Se=null,ta=!1,lr=Wo=0,na=null}function kt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Se.memoizedState=ct=n:ct=ct.next=n,ct}function at(){if(Ie===null){var n=Se.alternate;n=n!==null?n.memoizedState:null}else n=Ie.next;var a=ct===null?Se.memoizedState:ct.next;if(a!==null)ct=a,Ie=n;else{if(n===null)throw Se.alternate===null?Error(s(467)):Error(s(310));Ie=n,n={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ct===null?Se.memoizedState=ct=n:ct=ct.next=n}return ct}function Ko(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(n){var a=lr;return lr+=1,na===null&&(na=[]),n=Gg(na,n,a),a=Se,(ct===null?a.memoizedState:ct.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Lp:Zu),n}function Xo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cr(n);if(n.$$typeof===A)return xt(n)}throw Error(s(438,String(n)))}function Iu(n){var a=null,l=Se.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ko(),Se.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=ie;return a.index++,l}function Vn(n,a){return typeof a=="function"?a(n):a}function Qo(n){var a=at();return qu(a,Ie,n)}function qu(n,a,l){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var g=n.baseQueue,p=u.pending;if(p!==null){if(g!==null){var _=g.next;g.next=p.next,p.next=_}a.baseQueue=g=p,u.pending=null}if(p=n.baseState,g===null)n.memoizedState=p;else{a=g.next;var T=_=null,R=null,H=a,K=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Ae&ee)===ee:(Gn&ee)===ee){var F=H.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Xs&&(K=!0);else if((Gn&F)===F){H=H.next,F===Xs&&(K=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(T=R=ee,_=p):R=R.next=ee,Se.lanes|=F,Oi|=F;ee=H.action,cs&&l(p,ee),p=H.hasEagerState?H.eagerState:l(p,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},R===null?(T=R=F,_=p):R=R.next=F,Se.lanes|=ee,Oi|=ee;H=H.next}while(H!==null&&H!==a);if(R===null?_=p:R.next=T,!Wt(p,n.memoizedState)&&(ut=!0,K&&(l=Qs,l!==null)))throw l;n.memoizedState=p,n.baseState=_,n.baseQueue=R,u.lastRenderedState=p}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function $u(n){var a=at(),l=a.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var u=l.dispatch,g=l.pending,p=a.memoizedState;if(g!==null){l.pending=null;var _=g=g.next;do p=n(p,_.action),_=_.next;while(_!==g);Wt(p,a.memoizedState)||(ut=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function np(n,a,l){var u=Se,g=at(),p=Re;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=a();var _=!Wt((Ie||g).memoizedState,l);if(_&&(g.memoizedState=l,ut=!0),g=g.queue,Yu(ap.bind(null,u,g,n),[n]),g.getSnapshot!==a||_||ct!==null&&ct.memoizedState.tag&1){if(u.flags|=2048,ia(9,{destroy:void 0},sp.bind(null,u,g,l,a),null),Ge===null)throw Error(s(349));p||(Gn&127)!==0||ip(u,a,l)}return l}function ip(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=Se.updateQueue,a===null?(a=Ko(),Se.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function sp(n,a,l,u){a.value=l,a.getSnapshot=u,rp(a)&&op(n)}function ap(n,a,l){return l(function(){rp(a)&&op(n)})}function rp(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Wt(n,l)}catch{return!0}}function op(n){var a=es(n,2);a!==null&&Ut(a,n,2)}function Gu(n){var a=kt();if(typeof n=="function"){var l=n;if(n=l(),cs){pi(!0);try{l()}finally{pi(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:n},a}function lp(n,a,l,u){return n.baseState=l,qu(n,Ie,typeof u=="function"?u:Vn)}function _S(n,a,l,u,g){if(el(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};B.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,cp(a,p)):(p.next=l.next,a.pending=l.next=p)}}function cp(n,a){var l=a.action,u=a.payload,g=n.state;if(a.isTransition){var p=B.T,_={};B.T=_;try{var T=l(g,u),R=B.S;R!==null&&R(_,T),up(n,a,T)}catch(H){Vu(n,a,H)}finally{p!==null&&_.types!==null&&(p.types=_.types),B.T=p}}else try{p=l(g,u),up(n,a,p)}catch(H){Vu(n,a,H)}}function up(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){hp(n,a,u)},function(u){return Vu(n,a,u)}):hp(n,a,l)}function hp(n,a,l){a.status="fulfilled",a.value=l,dp(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,cp(n,l)))}function Vu(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,dp(a),a=a.next;while(a!==u)}n.action=null}function dp(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function fp(n,a){return a}function gp(n,a){if(Re){var l=Ge.formState;if(l!==null){e:{var u=Se;if(Re){if(Ye){t:{for(var g=Ye,p=un;g.nodeType!==8;){if(!p){g=null;break t}if(g=dn(g.nextSibling),g===null){g=null;break t}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){Ye=dn(g.nextSibling),u=g.data==="F!";break e}}_i(u)}u=!1}u&&(a=l[0])}}return l=kt(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fp,lastRenderedState:a},l.queue=u,l=Np.bind(null,Se,u),u.dispatch=l,u=Gu(!1),p=Ju.bind(null,Se,!1,u.queue),u=kt(),g={state:a,dispatch:null,action:n,pending:null},u.queue=g,l=_S.bind(null,Se,g,p,l),g.dispatch=l,u.memoizedState=n,[a,l,!1]}function pp(n){var a=at();return mp(a,Ie,n)}function mp(n,a,l){if(a=qu(n,a,fp)[0],n=Qo(Vn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=cr(a)}catch(_){throw _===Js?Fo:_}else u=a;a=at();var g=a.queue,p=g.dispatch;return l!==a.memoizedState&&(Se.flags|=2048,ia(9,{destroy:void 0},xS.bind(null,g,l),null)),[u,p,n]}function xS(n,a){n.action=a}function yp(n){var a=at(),l=Ie;if(l!==null)return mp(a,l,n);at(),a=a.memoizedState,l=at();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function ia(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=Se.updateQueue,a===null&&(a=Ko(),Se.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function bp(){return at().memoizedState}function Jo(n,a,l,u){var g=kt();Se.flags|=n,g.memoizedState=ia(1|a,{destroy:void 0},l,u===void 0?null:u)}function Zo(n,a,l,u){var g=at();u=u===void 0?null:u;var p=g.memoizedState.inst;Ie!==null&&u!==null&&zu(u,Ie.memoizedState.deps)?g.memoizedState=ia(a,p,l,u):(Se.flags|=n,g.memoizedState=ia(1|a,p,l,u))}function vp(n,a){Jo(8390656,8,n,a)}function Yu(n,a){Zo(2048,8,n,a)}function SS(n){Se.flags|=4;var a=Se.updateQueue;if(a===null)a=Ko(),Se.updateQueue=a,a.events=[n];else{var l=a.events;l===null?a.events=[n]:l.push(n)}}function _p(n){var a=at().memoizedState;return SS({ref:a,nextImpl:n}),function(){if((De&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function xp(n,a){return Zo(4,2,n,a)}function Sp(n,a){return Zo(4,4,n,a)}function wp(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Ep(n,a,l){l=l!=null?l.concat([n]):null,Zo(4,4,wp.bind(null,a,n),l)}function Wu(){}function Tp(n,a){var l=at();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&zu(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function Cp(n,a){var l=at();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&zu(a,u[1]))return u[0];if(u=n(),cs){pi(!0);try{n()}finally{pi(!1)}}return l.memoizedState=[u,a],u}function Ku(n,a,l){return l===void 0||(Gn&1073741824)!==0&&(Ae&261930)===0?n.memoizedState=a:(n.memoizedState=l,n=jm(),Se.lanes|=n,Oi|=n,l)}function jp(n,a,l,u){return Wt(l,a)?l:ea.current!==null?(n=Ku(n,l,u),Wt(n,a)||(ut=!0),n):(Gn&42)===0||(Gn&1073741824)!==0&&(Ae&261930)===0?(ut=!0,n.memoizedState=l):(n=jm(),Se.lanes|=n,Oi|=n,a)}function Ap(n,a,l,u,g){var p=ne.p;ne.p=p!==0&&8>p?p:8;var _=B.T,T={};B.T=T,Ju(n,!1,a,l);try{var R=g(),H=B.S;if(H!==null&&H(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=yS(R,u);ur(n,a,K,en(n))}else ur(n,a,u,en(n))}catch(ee){ur(n,a,{then:function(){},status:"rejected",reason:ee},en())}finally{ne.p=p,_!==null&&T.types!==null&&(_.types=T.types),B.T=_}}function wS(){}function Xu(n,a,l,u){if(n.tag!==5)throw Error(s(476));var g=Op(n).queue;Ap(n,g,a,ce,l===null?wS:function(){return Rp(n),l(u)})}function Op(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:ce},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Rp(n){var a=Op(n);a.next===null&&(a=n.alternate.memoizedState),ur(n,a.next.queue,{},en())}function Qu(){return xt(jr)}function Mp(){return at().memoizedState}function kp(){return at().memoizedState}function ES(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=en();n=wi(l);var u=Ei(a,n,l);u!==null&&(Ut(u,a,l),ar(u,a,l)),a={cache:Cu()},n.payload=a;return}a=a.return}}function TS(n,a,l){var u=en();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},el(n)?Dp(a,l):(l=pu(n,a,l,u),l!==null&&(Ut(l,n,u),Pp(l,a,u)))}function Np(n,a,l){var u=en();ur(n,a,l,u)}function ur(n,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(el(n))Dp(a,g);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var _=a.lastRenderedState,T=p(_,l);if(g.hasEagerState=!0,g.eagerState=T,Wt(T,_))return Do(n,a,g,0),Ge===null&&No(),!1}catch{}finally{}if(l=pu(n,a,g,u),l!==null)return Ut(l,n,u),Pp(l,a,u),!0}return!1}function Ju(n,a,l,u){if(u={lane:2,revertLane:Rh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},el(n)){if(a)throw Error(s(479))}else a=pu(n,l,u,2),a!==null&&Ut(a,n,2)}function el(n){var a=n.alternate;return n===Se||a!==null&&a===Se}function Dp(n,a){ta=Yo=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Pp(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Hf(n,l)}}var hr={readContext:xt,use:Xo,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};hr.useEffectEvent=tt;var Lp={readContext:xt,use:Xo,useCallback:function(n,a){return kt().memoizedState=[n,a===void 0?null:a],n},useContext:xt,useEffect:vp,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Jo(4194308,4,wp.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Jo(4194308,4,n,a)},useInsertionEffect:function(n,a){Jo(4,2,n,a)},useMemo:function(n,a){var l=kt();a=a===void 0?null:a;var u=n();if(cs){pi(!0);try{n()}finally{pi(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=kt();if(l!==void 0){var g=l(a);if(cs){pi(!0);try{l(a)}finally{pi(!1)}}}else g=a;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=TS.bind(null,Se,n),[u.memoizedState,n]},useRef:function(n){var a=kt();return n={current:n},a.memoizedState=n},useState:function(n){n=Gu(n);var a=n.queue,l=Np.bind(null,Se,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Wu,useDeferredValue:function(n,a){var l=kt();return Ku(l,n,a)},useTransition:function(){var n=Gu(!1);return n=Ap.bind(null,Se,n.queue,!0,!1),kt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=Se,g=kt();if(Re){if(l===void 0)throw Error(s(407));l=l()}else{if(l=a(),Ge===null)throw Error(s(349));(Ae&127)!==0||ip(u,a,l)}g.memoizedState=l;var p={value:l,getSnapshot:a};return g.queue=p,vp(ap.bind(null,u,p,n),[n]),u.flags|=2048,ia(9,{destroy:void 0},sp.bind(null,u,p,l,a),null),l},useId:function(){var n=kt(),a=Ge.identifierPrefix;if(Re){var l=An,u=jn;l=(u&~(1<<32-Yt(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Wo++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=bS++,a="_"+a+"r_"+l.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Qu,useFormState:gp,useActionState:gp,useOptimistic:function(n){var a=kt();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ju.bind(null,Se,!0,l),l.dispatch=a,[n,a]},useMemoCache:Iu,useCacheRefresh:function(){return kt().memoizedState=ES.bind(null,Se)},useEffectEvent:function(n){var a=kt(),l={impl:n};return a.memoizedState=l,function(){if((De&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Zu={readContext:xt,use:Xo,useCallback:Tp,useContext:xt,useEffect:Yu,useImperativeHandle:Ep,useInsertionEffect:xp,useLayoutEffect:Sp,useMemo:Cp,useReducer:Qo,useRef:bp,useState:function(){return Qo(Vn)},useDebugValue:Wu,useDeferredValue:function(n,a){var l=at();return jp(l,Ie.memoizedState,n,a)},useTransition:function(){var n=Qo(Vn)[0],a=at().memoizedState;return[typeof n=="boolean"?n:cr(n),a]},useSyncExternalStore:np,useId:Mp,useHostTransitionStatus:Qu,useFormState:pp,useActionState:pp,useOptimistic:function(n,a){var l=at();return lp(l,Ie,n,a)},useMemoCache:Iu,useCacheRefresh:kp};Zu.useEffectEvent=_p;var zp={readContext:xt,use:Xo,useCallback:Tp,useContext:xt,useEffect:Yu,useImperativeHandle:Ep,useInsertionEffect:xp,useLayoutEffect:Sp,useMemo:Cp,useReducer:$u,useRef:bp,useState:function(){return $u(Vn)},useDebugValue:Wu,useDeferredValue:function(n,a){var l=at();return Ie===null?Ku(l,n,a):jp(l,Ie.memoizedState,n,a)},useTransition:function(){var n=$u(Vn)[0],a=at().memoizedState;return[typeof n=="boolean"?n:cr(n),a]},useSyncExternalStore:np,useId:Mp,useHostTransitionStatus:Qu,useFormState:yp,useActionState:yp,useOptimistic:function(n,a){var l=at();return Ie!==null?lp(l,Ie,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Iu,useCacheRefresh:kp};zp.useEffectEvent=_p;function eh(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:b({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var th={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=en(),g=wi(u);g.payload=a,l!=null&&(g.callback=l),a=Ei(n,g,u),a!==null&&(Ut(a,n,u),ar(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=en(),g=wi(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ei(n,g,u),a!==null&&(Ut(a,n,u),ar(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=en(),u=wi(l);u.tag=2,a!=null&&(u.callback=a),a=Ei(n,u,l),a!==null&&(Ut(a,n,l),ar(a,n,l))}};function Bp(n,a,l,u,g,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,_):a.prototype&&a.prototype.isPureReactComponent?!Qa(l,u)||!Qa(g,p):!0}function Up(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&th.enqueueReplaceState(a,a.state,null)}function us(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=b({},l));for(var g in n)l[g]===void 0&&(l[g]=n[g])}return l}function Hp(n){ko(n)}function Fp(n){console.error(n)}function Ip(n){ko(n)}function tl(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function qp(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function nh(n,a,l){return l=wi(l),l.tag=3,l.payload={element:null},l.callback=function(){tl(n,a)},l}function $p(n){return n=wi(n),n.tag=3,n}function Gp(n,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;n.payload=function(){return g(p)},n.callback=function(){qp(a,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){qp(a,l,u),typeof g!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function CS(n,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Ks(a,l,g,!0),l=Xt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?fl():l.alternate===null&&nt===0&&(nt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Io?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),jh(n,u,g)),!1;case 22:return l.flags|=65536,u===Io?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),jh(n,u,g)),!1}throw Error(s(435,l.tag))}return jh(n,u,g),fl(),!1}if(Re)return a=Xt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==xu&&(n=Error(s(422),{cause:u}),er(on(n,l)))):(u!==xu&&(a=Error(s(423),{cause:u}),er(on(a,l))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=on(u,l),g=nh(n.stateNode,u,g),ku(n,g),nt!==4&&(nt=2)),!1;var p=Error(s(520),{cause:u});if(p=on(p,l),vr===null?vr=[p]:vr.push(p),nt!==4&&(nt=2),a===null)return!0;u=on(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=g&-g,l.lanes|=n,n=nh(l.stateNode,u,n),ku(l,n),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ri===null||!Ri.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=$p(g),Gp(g,n,l,u),ku(l,g),!1}l=l.return}while(l!==null);return!1}var ih=Error(s(461)),ut=!1;function St(n,a,l,u){a.child=n===null?Kg(a,null,l,u):ls(a,n.child,l,u)}function Vp(n,a,l,u,g){l=l.render;var p=a.ref;if("ref"in u){var _={};for(var T in u)T!=="ref"&&(_[T]=u[T])}else _=u;return ss(a),u=Bu(n,a,l,_,p,g),T=Uu(),n!==null&&!ut?(Hu(n,a,g),Yn(n,a,g)):(Re&&T&&vu(a),a.flags|=1,St(n,a,u,g),a.child)}function Yp(n,a,l,u,g){if(n===null){var p=l.type;return typeof p=="function"&&!mu(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,Wp(n,a,p,u,g)):(n=Lo(l.type,null,u,a,a.mode,g),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!hh(n,g)){var _=p.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(_,u)&&n.ref===a.ref)return Yn(n,a,g)}return a.flags|=1,n=Fn(p,u),n.ref=a.ref,n.return=a,a.child=n}function Wp(n,a,l,u,g){if(n!==null){var p=n.memoizedProps;if(Qa(p,u)&&n.ref===a.ref)if(ut=!1,a.pendingProps=u=p,hh(n,g))(n.flags&131072)!==0&&(ut=!0);else return a.lanes=n.lanes,Yn(n,a,g)}return sh(n,a,l,u,g)}function Kp(n,a,l,u){var g=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,n!==null){for(u=a.child=n.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,a.child=null;return Xp(n,a,p,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ho(a,p!==null?p.cachePool:null),p!==null?Jg(a,p):Du(),Zg(a);else return u=a.lanes=536870912,Xp(n,a,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Ho(a,p.cachePool),Jg(a,p),Ci(),a.memoizedState=null):(n!==null&&Ho(a,null),Du(),Ci());return St(n,a,g,l),a.child}function dr(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Xp(n,a,l,u,g){var p=Au();return p=p===null?null:{parent:lt._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},n!==null&&Ho(a,null),Du(),Zg(a),n!==null&&Ks(n,a,u,!0),a.childLanes=g,null}function nl(n,a){return a=sl({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Qp(n,a,l){return ls(a,n.child,null,l),n=nl(a,a.pendingProps),n.flags|=2,Qt(a),a.memoizedState=null,n}function jS(n,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(Re){if(u.mode==="hidden")return n=nl(a,u),a.lanes=536870912,dr(null,n);if(Lu(a),(n=Ye)?(n=cy(n,un),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:bi!==null?{id:jn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Dg(n),l.return=a,a.child=l,_t=a,Ye=null)):n=null,n===null)throw _i(a);return a.lanes=536870912,null}return nl(a,u)}var p=n.memoizedState;if(p!==null){var _=p.dehydrated;if(Lu(a),g)if(a.flags&256)a.flags&=-257,a=Qp(n,a,l);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(s(558));else if(ut||Ks(n,a,l,!1),g=(l&n.childLanes)!==0,ut||g){if(u=Ge,u!==null&&(_=Ff(u,l),_!==0&&_!==p.retryLane))throw p.retryLane=_,es(n,_),Ut(u,n,_),ih;fl(),a=Qp(n,a,l)}else n=p.treeContext,Ye=dn(_.nextSibling),_t=a,Re=!0,vi=null,un=!1,n!==null&&zg(a,n),a=nl(a,u),a.flags|=4096;return a}return n=Fn(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function il(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function sh(n,a,l,u,g){return ss(a),l=Bu(n,a,l,u,void 0,g),u=Uu(),n!==null&&!ut?(Hu(n,a,g),Yn(n,a,g)):(Re&&u&&vu(a),a.flags|=1,St(n,a,l,g),a.child)}function Jp(n,a,l,u,g,p){return ss(a),a.updateQueue=null,l=tp(a,u,l,g),ep(n),u=Uu(),n!==null&&!ut?(Hu(n,a,p),Yn(n,a,p)):(Re&&u&&vu(a),a.flags|=1,St(n,a,l,p),a.child)}function Zp(n,a,l,u,g){if(ss(a),a.stateNode===null){var p=Gs,_=l.contextType;typeof _=="object"&&_!==null&&(p=xt(_)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=th,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Ru(a),_=l.contextType,p.context=typeof _=="object"&&_!==null?xt(_):Gs,p.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(eh(a,l,_,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&th.enqueueReplaceState(p,p.state,null),or(a,u,p,g),rr(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var T=a.memoizedProps,R=us(l,T);p.props=R;var H=p.context,K=l.contextType;_=Gs,typeof K=="object"&&K!==null&&(_=xt(K));var ee=l.getDerivedStateFromProps;K=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,K||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||H!==_)&&Up(a,p,u,_),Si=!1;var F=a.memoizedState;p.state=F,or(a,u,p,g),rr(),H=a.memoizedState,T||F!==H||Si?(typeof ee=="function"&&(eh(a,l,ee,u),H=a.memoizedState),(R=Si||Bp(a,l,R,u,F,H,_))?(K||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=H),p.props=u,p.state=H,p.context=_,u=R):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Mu(n,a),_=a.memoizedProps,K=us(l,_),p.props=K,ee=a.pendingProps,F=p.context,H=l.contextType,R=Gs,typeof H=="object"&&H!==null&&(R=xt(H)),T=l.getDerivedStateFromProps,(H=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==ee||F!==R)&&Up(a,p,u,R),Si=!1,F=a.memoizedState,p.state=F,or(a,u,p,g),rr();var $=a.memoizedState;_!==ee||F!==$||Si||n!==null&&n.dependencies!==null&&Bo(n.dependencies)?(typeof T=="function"&&(eh(a,l,T,u),$=a.memoizedState),(K=Si||Bp(a,l,K,u,F,$,R)||n!==null&&n.dependencies!==null&&Bo(n.dependencies))?(H||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,R)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=$),p.props=u,p.state=$,p.context=R,u=K):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,il(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=ls(a,n.child,null,g),a.child=ls(a,null,l,g)):St(n,a,l,g),a.memoizedState=p.state,n=a.child):n=Yn(n,a,g),n}function em(n,a,l,u){return ns(),a.flags|=256,St(n,a,l,u),a.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(n){return{baseLanes:n,cachePool:qg()}}function oh(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=Zt),n}function tm(n,a,l){var u=a.pendingProps,g=!1,p=(a.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:(st.current&2)!==0),_&&(g=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,n===null){if(Re){if(g?Ti(a):Ci(),(n=Ye)?(n=cy(n,un),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:bi!==null?{id:jn,overflow:An}:null,retryLane:536870912,hydrationErrors:null},l=Dg(n),l.return=a,a.child=l,_t=a,Ye=null)):n=null,n===null)throw _i(a);return qh(n)?a.lanes=32:a.lanes=536870912,null}var T=u.children;return u=u.fallback,g?(Ci(),g=a.mode,T=sl({mode:"hidden",children:T},g),u=ts(u,g,l,null),T.return=a,u.return=a,T.sibling=u,a.child=T,u=a.child,u.memoizedState=rh(l),u.childLanes=oh(n,_,l),a.memoizedState=ah,dr(null,u)):(Ti(a),lh(a,T))}var R=n.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(p)a.flags&256?(Ti(a),a.flags&=-257,a=ch(n,a,l)):a.memoizedState!==null?(Ci(),a.child=n.child,a.flags|=128,a=null):(Ci(),T=u.fallback,g=a.mode,u=sl({mode:"visible",children:u.children},g),T=ts(T,g,l,null),T.flags|=2,u.return=a,T.return=a,u.sibling=T,a.child=u,ls(a,n.child,null,l),u=a.child,u.memoizedState=rh(l),u.childLanes=oh(n,_,l),a.memoizedState=ah,a=dr(null,u));else if(Ti(a),qh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,u=Error(s(419)),u.stack="",u.digest=_,er({value:u,source:null,stack:null}),a=ch(n,a,l)}else if(ut||Ks(n,a,l,!1),_=(l&n.childLanes)!==0,ut||_){if(_=Ge,_!==null&&(u=Ff(_,l),u!==0&&u!==R.retryLane))throw R.retryLane=u,es(n,u),Ut(_,n,u),ih;Ih(T)||fl(),a=ch(n,a,l)}else Ih(T)?(a.flags|=192,a.child=n.child,a=null):(n=R.treeContext,Ye=dn(T.nextSibling),_t=a,Re=!0,vi=null,un=!1,n!==null&&zg(a,n),a=lh(a,u.children),a.flags|=4096);return a}return g?(Ci(),T=u.fallback,g=a.mode,R=n.child,H=R.sibling,u=Fn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,H!==null?T=Fn(H,T):(T=ts(T,g,l,null),T.flags|=2),T.return=a,u.return=a,u.sibling=T,a.child=u,dr(null,u),u=a.child,T=n.child.memoizedState,T===null?T=rh(l):(g=T.cachePool,g!==null?(R=lt._currentValue,g=g.parent!==R?{parent:R,pool:R}:g):g=qg(),T={baseLanes:T.baseLanes|l,cachePool:g}),u.memoizedState=T,u.childLanes=oh(n,_,l),a.memoizedState=ah,dr(n.child,u)):(Ti(a),l=n.child,n=l.sibling,l=Fn(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(_=a.deletions,_===null?(a.deletions=[n],a.flags|=16):_.push(n)),a.child=l,a.memoizedState=null,l)}function lh(n,a){return a=sl({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function sl(n,a){return n=Kt(22,n,null,a),n.lanes=0,n}function ch(n,a,l){return ls(a,n.child,null,l),n=lh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function nm(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Eu(n.return,a,l)}function uh(n,a,l,u,g,p){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=g,_.treeForkCount=p)}function im(n,a,l){var u=a.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var _=st.current,T=(_&2)!==0;if(T?(_=_&1|2,a.flags|=128):_&=1,V(st,_),St(n,a,u,l),u=Re?Za:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nm(n,l,a);else if(n.tag===19)nm(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)n=l.alternate,n!==null&&Vo(n)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),uh(a,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(n=g.alternate,n!==null&&Vo(n)===null){a.child=g;break}n=g.sibling,g.sibling=l,l=g,g=n}uh(a,!0,l,null,p,u);break;case"together":uh(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Yn(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Oi|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(Ks(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,l=Fn(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=Fn(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function hh(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Bo(n)))}function AS(n,a,l){switch(a.tag){case 3:Xe(a,a.stateNode.containerInfo),xi(a,lt,n.memoizedState.cache),ns();break;case 27:case 5:et(a);break;case 4:Xe(a,a.stateNode.containerInfo);break;case 10:xi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Lu(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ti(a),a.flags|=128,null):(l&a.child.childLanes)!==0?tm(n,a,l):(Ti(a),n=Yn(n,a,l),n!==null?n.sibling:null);Ti(a);break;case 19:var g=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Ks(n,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return im(n,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),V(st,st.current),u)break;return null;case 22:return a.lanes=0,Kp(n,a,l,a.pendingProps);case 24:xi(a,lt,n.memoizedState.cache)}return Yn(n,a,l)}function sm(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)ut=!0;else{if(!hh(n,l)&&(a.flags&128)===0)return ut=!1,AS(n,a,l);ut=(n.flags&131072)!==0}else ut=!1,Re&&(a.flags&1048576)!==0&&Lg(a,Za,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=rs(a.elementType),a.type=n,typeof n=="function")mu(n)?(u=us(n,u),a.tag=1,a=Zp(null,a,n,u,l)):(a.tag=0,a=sh(null,a,n,u,l));else{if(n!=null){var g=n.$$typeof;if(g===N){a.tag=11,a=Vp(null,a,n,u,l);break e}else if(g===P){a.tag=14,a=Yp(null,a,n,u,l);break e}}throw a=de(n)||n,Error(s(306,a,""))}}return a;case 0:return sh(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=us(u,a.pendingProps),Zp(n,a,u,g,l);case 3:e:{if(Xe(a,a.stateNode.containerInfo),n===null)throw Error(s(387));u=a.pendingProps;var p=a.memoizedState;g=p.element,Mu(n,a),or(a,u,null,l);var _=a.memoizedState;if(u=_.cache,xi(a,lt,u),u!==p.cache&&Tu(a,[lt],l,!0),rr(),u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=em(n,a,u,l);break e}else if(u!==g){g=on(Error(s(424)),a),er(g),a=em(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=dn(n.firstChild),_t=a,Re=!0,vi=null,un=!0,l=Kg(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ns(),u===g){a=Yn(n,a,l);break e}St(n,a,u,l)}a=a.child}return a;case 26:return il(n,a),n===null?(l=py(a.type,null,a.pendingProps,null))?a.memoizedState=l:Re||(l=a.type,n=a.pendingProps,u=_l(me.current).createElement(l),u[vt]=a,u[Nt]=n,wt(u,l,n),yt(u),a.stateNode=u):a.memoizedState=py(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return et(a),n===null&&Re&&(u=a.stateNode=dy(a.type,a.pendingProps,me.current),_t=a,un=!0,g=Ye,Di(a.type)?($h=g,Ye=dn(u.firstChild)):Ye=g),St(n,a,a.pendingProps.children,l),il(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Re&&((g=u=Ye)&&(u=sw(u,a.type,a.pendingProps,un),u!==null?(a.stateNode=u,_t=a,Ye=dn(u.firstChild),un=!1,g=!0):g=!1),g||_i(a)),et(a),g=a.type,p=a.pendingProps,_=n!==null?n.memoizedProps:null,u=p.children,Uh(g,p)?u=null:_!==null&&Uh(g,_)&&(a.flags|=32),a.memoizedState!==null&&(g=Bu(n,a,vS,null,null,l),jr._currentValue=g),il(n,a),St(n,a,u,l),a.child;case 6:return n===null&&Re&&((n=l=Ye)&&(l=aw(l,a.pendingProps,un),l!==null?(a.stateNode=l,_t=a,Ye=null,n=!0):n=!1),n||_i(a)),null;case 13:return tm(n,a,l);case 4:return Xe(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=ls(a,null,u,l):St(n,a,u,l),a.child;case 11:return Vp(n,a,a.type,a.pendingProps,l);case 7:return St(n,a,a.pendingProps,l),a.child;case 8:return St(n,a,a.pendingProps.children,l),a.child;case 12:return St(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,xi(a,a.type,u.value),St(n,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,ss(a),g=xt(g),u=u(g),a.flags|=1,St(n,a,u,l),a.child;case 14:return Yp(n,a,a.type,a.pendingProps,l);case 15:return Wp(n,a,a.type,a.pendingProps,l);case 19:return im(n,a,l);case 31:return jS(n,a,l);case 22:return Kp(n,a,l,a.pendingProps);case 24:return ss(a),u=xt(lt),n===null?(g=Au(),g===null&&(g=Ge,p=Cu(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),a.memoizedState={parent:u,cache:g},Ru(a),xi(a,lt,g)):((n.lanes&l)!==0&&(Mu(n,a),or(a,null,null,l),rr()),g=n.memoizedState,p=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),xi(a,lt,u)):(u=p.cache,xi(a,lt,u),u!==g.cache&&Tu(a,[lt],l,!0))),St(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Wn(n){n.flags|=4}function dh(n,a,l,u,g){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(g&335544128)===g)if(n.stateNode.complete)n.flags|=8192;else if(Mm())n.flags|=8192;else throw os=Io,Ou}else n.flags&=-16777217}function am(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!_y(a))if(Mm())n.flags|=8192;else throw os=Io,Ou}function al(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Bf():536870912,n.lanes|=a,oa|=a)}function fr(n,a){if(!Re)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function We(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function OS(n,a,l){var u=a.pendingProps;switch(_u(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),$n(lt),Le(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ws(a)?Wn(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Su())),We(a),null;case 26:var g=a.type,p=a.memoizedState;return n===null?(Wn(a),p!==null?(We(a),am(a,p)):(We(a),dh(a,g,null,u,l))):p?p!==n.memoizedState?(Wn(a),We(a),am(a,p)):(We(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Wn(a),We(a),dh(a,g,n,u,l)),null;case 27:if(ze(a),l=me.current,g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Wn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return We(a),null}n=Q.current,Ws(a)?Bg(a):(n=dy(g,u,l),a.stateNode=n,Wn(a))}return We(a),null;case 5:if(ze(a),g=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Wn(a);else{if(!u){if(a.stateNode===null)throw Error(s(166));return We(a),null}if(p=Q.current,Ws(a))Bg(a);else{var _=_l(me.current);switch(p){case 1:p=_.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=_.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=_.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=_.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?_.createElement(g,{is:u.is}):_.createElement(g)}}p[vt]=a,p[Nt]=u;e:for(_=a.child;_!==null;){if(_.tag===5||_.tag===6)p.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===a)break e;for(;_.sibling===null;){if(_.return===null||_.return===a)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}a.stateNode=p;e:switch(wt(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Wn(a)}}return We(a),dh(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,l),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Wn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(n=me.current,Ws(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,g=_t,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[vt]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||ty(n.nodeValue,l)),n||_i(a,!0)}else n=_l(n).createTextNode(u),n[vt]=a,a.stateNode=n}return We(a),null;case 31:if(l=a.memoizedState,n===null||n.memoizedState!==null){if(u=Ws(a),l!==null){if(n===null){if(!u)throw Error(s(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[vt]=a}else ns(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),n=!1}else l=Su(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return a.flags&256?(Qt(a),a):(Qt(a),null);if((a.flags&128)!==0)throw Error(s(558))}return We(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=Ws(a),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[vt]=a}else ns(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),g=!1}else g=Su(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Qt(a),a):(Qt(a),null)}return Qt(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==n&&l&&(a.child.flags|=8192),al(a,a.updateQueue),We(a),null);case 4:return Le(),n===null&&Dh(a.stateNode.containerInfo),We(a),null;case 10:return $n(a.type),We(a),null;case 19:if(G(st),u=a.memoizedState,u===null)return We(a),null;if(g=(a.flags&128)!==0,p=u.rendering,p===null)if(g)fr(u,!1);else{if(nt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Vo(n),p!==null){for(a.flags|=128,fr(u,!1),n=p.updateQueue,a.updateQueue=n,al(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)Ng(l,n),l=l.sibling;return V(st,st.current&1|2),Re&&In(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&Gt()>ul&&(a.flags|=128,g=!0,fr(u,!1),a.lanes=4194304)}else{if(!g)if(n=Vo(p),n!==null){if(a.flags|=128,g=!0,n=n.updateQueue,a.updateQueue=n,al(a,n),fr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Re)return We(a),null}else 2*Gt()-u.renderingStartTime>ul&&l!==536870912&&(a.flags|=128,g=!0,fr(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Gt(),n.sibling=null,l=st.current,V(st,g?l&1|2:l&1),Re&&In(a,u.treeForkCount),n):(We(a),null);case 22:case 23:return Qt(a),Pu(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),l=a.updateQueue,l!==null&&al(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&G(as),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),$n(lt),We(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function RS(n,a){switch(_u(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return $n(lt),Le(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 31:if(a.memoizedState!==null){if(Qt(a),a.alternate===null)throw Error(s(340));ns()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Qt(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ns()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return G(st),null;case 4:return Le(),null;case 10:return $n(a.type),null;case 22:case 23:return Qt(a),Pu(),n!==null&&G(as),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return $n(lt),null;case 25:return null;default:return null}}function rm(n,a){switch(_u(a),a.tag){case 3:$n(lt),Le();break;case 26:case 27:case 5:ze(a);break;case 4:Le();break;case 31:a.memoizedState!==null&&Qt(a);break;case 13:Qt(a);break;case 19:G(st);break;case 10:$n(a.type);break;case 22:case 23:Qt(a),Pu(),n!==null&&G(as);break;case 24:$n(lt)}}function gr(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&n)===n){u=void 0;var p=l.create,_=l.inst;u=p(),_.destroy=u}l=l.next}while(l!==g)}}catch(T){Ue(a,a.return,T)}}function ji(n,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&n)===n){var _=u.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,g=a;var R=l,H=T;try{H()}catch(K){Ue(g,R,K)}}}u=u.next}while(u!==p)}}catch(K){Ue(a,a.return,K)}}function om(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{Qg(a,l)}catch(u){Ue(n,n.return,u)}}}function lm(n,a,l){l.props=us(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Ue(n,a,u)}}function pr(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(g){Ue(n,a,g)}}function On(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Ue(n,a,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Ue(n,a,g)}else l.current=null}function cm(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Ue(n,n.return,g)}}function fh(n,a,l){try{var u=n.stateNode;JS(u,n.type,l,a),u[Nt]=a}catch(g){Ue(n,n.return,g)}}function um(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Di(n.type)||n.tag===4}function gh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||um(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Di(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ph(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Un));else if(u!==4&&(u===27&&Di(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(ph(n,a,l),n=n.sibling;n!==null;)ph(n,a,l),n=n.sibling}function rl(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&Di(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(rl(n,a,l),n=n.sibling;n!==null;)rl(n,a,l),n=n.sibling}function hm(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);wt(a,u,l),a[vt]=n,a[Nt]=l}catch(p){Ue(n,n.return,p)}}var Kn=!1,ht=!1,mh=!1,dm=typeof WeakSet=="function"?WeakSet:Set,bt=null;function MS(n,a){if(n=n.containerInfo,zh=jl,n=Eg(n),cu(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var _=0,T=-1,R=-1,H=0,K=0,ee=n,F=null;t:for(;;){for(var $;ee!==l||g!==0&&ee.nodeType!==3||(T=_+g),ee!==p||u!==0&&ee.nodeType!==3||(R=_+u),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)F=ee,ee=$;for(;;){if(ee===n)break t;if(F===l&&++H===g&&(T=_),F===p&&++K===u&&(R=_),($=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=$}l=T===-1||R===-1?null:{start:T,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bh={focusedElem:n,selectionRange:l},jl=!1,bt=a;bt!==null;)if(a=bt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,bt=n;else for(;bt!==null;){switch(a=bt,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)g=n[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,l=a,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var he=us(l.type,g);n=u.getSnapshotBeforeUpdate(he,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(be){Ue(l,l.return,be)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Fh(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Fh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,bt=n;break}bt=a.return}}function fm(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Qn(n,l),u&4&&gr(5,l);break;case 1:if(Qn(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(_){Ue(l,l.return,_)}else{var g=us(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(g,a,n.__reactInternalSnapshotBeforeUpdate)}catch(_){Ue(l,l.return,_)}}u&64&&om(l),u&512&&pr(l,l.return);break;case 3:if(Qn(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Qg(n,a)}catch(_){Ue(l,l.return,_)}}break;case 27:a===null&&u&4&&hm(l);case 26:case 5:Qn(n,l),a===null&&u&4&&cm(l),u&512&&pr(l,l.return);break;case 12:Qn(n,l);break;case 31:Qn(n,l),u&4&&mm(n,l);break;case 13:Qn(n,l),u&4&&ym(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=HS.bind(null,l),rw(n,l))));break;case 22:if(u=l.memoizedState!==null||Kn,!u){a=a!==null&&a.memoizedState!==null||ht,g=Kn;var p=ht;Kn=u,(ht=a)&&!p?Jn(n,l,(l.subtreeFlags&8772)!==0):Qn(n,l),Kn=g,ht=p}break;case 30:break;default:Qn(n,l)}}function gm(n){var a=n.alternate;a!==null&&(n.alternate=null,gm(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Vc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qe=null,Pt=!1;function Xn(n,a,l){for(l=l.child;l!==null;)pm(n,a,l),l=l.sibling}function pm(n,a,l){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ua,l)}catch{}switch(l.tag){case 26:ht||On(l,a),Xn(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ht||On(l,a);var u=Qe,g=Pt;Di(l.type)&&(Qe=l.stateNode,Pt=!1),Xn(n,a,l),Er(l.stateNode),Qe=u,Pt=g;break;case 5:ht||On(l,a);case 6:if(u=Qe,g=Pt,Qe=null,Xn(n,a,l),Qe=u,Pt=g,Qe!==null)if(Pt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(p){Ue(l,a,p)}else try{Qe.removeChild(l.stateNode)}catch(p){Ue(l,a,p)}break;case 18:Qe!==null&&(Pt?(n=Qe,oy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),pa(n)):oy(Qe,l.stateNode));break;case 4:u=Qe,g=Pt,Qe=l.stateNode.containerInfo,Pt=!0,Xn(n,a,l),Qe=u,Pt=g;break;case 0:case 11:case 14:case 15:ji(2,l,a),ht||ji(4,l,a),Xn(n,a,l);break;case 1:ht||(On(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&lm(l,a,u)),Xn(n,a,l);break;case 21:Xn(n,a,l);break;case 22:ht=(u=ht)||l.memoizedState!==null,Xn(n,a,l),ht=u;break;default:Xn(n,a,l)}}function mm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{pa(n)}catch(l){Ue(a,a.return,l)}}}function ym(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{pa(n)}catch(l){Ue(a,a.return,l)}}function kS(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new dm),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new dm),a;default:throw Error(s(435,n.tag))}}function ol(n,a){var l=kS(n);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=FS.bind(null,n,u);u.then(g,g)}})}function Lt(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=n,_=a,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Di(T.type)){Qe=T.stateNode,Pt=!1;break e}break;case 5:Qe=T.stateNode,Pt=!1;break e;case 3:case 4:Qe=T.stateNode.containerInfo,Pt=!0;break e}T=T.return}if(Qe===null)throw Error(s(160));pm(p,_,g),Qe=null,Pt=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)bm(a,n),a=a.sibling}var vn=null;function bm(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(a,n),zt(n),u&4&&(ji(3,n,n.return),gr(3,n),ji(5,n,n.return));break;case 1:Lt(a,n),zt(n),u&512&&(ht||l===null||On(l,l.return)),u&64&&Kn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=vn;if(Lt(a,n),zt(n),u&512&&(ht||l===null||On(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Ia]||p[vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),wt(p,u,l),p[vt]=n,yt(p),u=p;break e;case"link":var _=by("link","href",g).get(u+(l.href||""));if(_){for(var T=0;T<_.length;T++)if(p=_[T],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(T,1);break t}}p=g.createElement(u),wt(p,u,l),g.head.appendChild(p);break;case"meta":if(_=by("meta","content",g).get(u+(l.content||""))){for(T=0;T<_.length;T++)if(p=_[T],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(T,1);break t}}p=g.createElement(u),wt(p,u,l),g.head.appendChild(p);break;default:throw Error(s(468,u))}p[vt]=n,yt(p),u=p}n.stateNode=u}else vy(g,n.type,n.stateNode);else n.stateNode=yy(g,u,n.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?vy(g,n.type,n.stateNode):yy(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&fh(n,n.memoizedProps,l.memoizedProps)}break;case 27:Lt(a,n),zt(n),u&512&&(ht||l===null||On(l,l.return)),l!==null&&u&4&&fh(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Lt(a,n),zt(n),u&512&&(ht||l===null||On(l,l.return)),n.flags&32){g=n.stateNode;try{Bs(g,"")}catch(he){Ue(n,n.return,he)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,fh(n,g,l!==null?l.memoizedProps:g)),u&1024&&(mh=!0);break;case 6:if(Lt(a,n),zt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(he){Ue(n,n.return,he)}}break;case 3:if(wl=null,g=vn,vn=xl(a.containerInfo),Lt(a,n),vn=g,zt(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{pa(a.containerInfo)}catch(he){Ue(n,n.return,he)}mh&&(mh=!1,vm(n));break;case 4:u=vn,vn=xl(n.stateNode.containerInfo),Lt(a,n),zt(n),vn=u;break;case 12:Lt(a,n),zt(n);break;case 31:Lt(a,n),zt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ol(n,u)));break;case 13:Lt(a,n),zt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(cl=Gt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ol(n,u)));break;case 22:g=n.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,H=Kn,K=ht;if(Kn=H||g,ht=K||R,Lt(a,n),ht=K,Kn=H,zt(n),u&8192)e:for(a=n.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||R||Kn||ht||hs(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){R=l=a;try{if(p=R.stateNode,g)_=p.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var ee=R.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Ue(R,R.return,he)}}}else if(a.tag===6){if(l===null){R=a;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(he){Ue(R,R.return,he)}}}else if(a.tag===18){if(l===null){R=a;try{var $=R.stateNode;g?ly($,!0):ly(R.stateNode,!1)}catch(he){Ue(R,R.return,he)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ol(n,l))));break;case 19:Lt(a,n),zt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,ol(n,u)));break;case 30:break;case 21:break;default:Lt(a,n),zt(n)}}function zt(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(um(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var g=l.stateNode,p=gh(n);rl(n,p,g);break;case 5:var _=l.stateNode;l.flags&32&&(Bs(_,""),l.flags&=-33);var T=gh(n);rl(n,T,_);break;case 3:case 4:var R=l.stateNode.containerInfo,H=gh(n);ph(n,H,R);break;default:throw Error(s(161))}}catch(K){Ue(n,n.return,K)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function vm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;vm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Qn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)fm(n,a.alternate,a),a=a.sibling}function hs(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ji(4,a,a.return),hs(a);break;case 1:On(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&lm(a,a.return,l),hs(a);break;case 27:Er(a.stateNode);case 26:case 5:On(a,a.return),hs(a);break;case 22:a.memoizedState===null&&hs(a);break;case 30:hs(a);break;default:hs(a)}n=n.sibling}}function Jn(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=n,p=a,_=p.flags;switch(p.tag){case 0:case 11:case 15:Jn(g,p,l),gr(4,p);break;case 1:if(Jn(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(H){Ue(u,u.return,H)}if(u=p,g=u.updateQueue,g!==null){var T=u.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)Xg(R[g],T)}catch(H){Ue(u,u.return,H)}}l&&_&64&&om(p),pr(p,p.return);break;case 27:hm(p);case 26:case 5:Jn(g,p,l),l&&u===null&&_&4&&cm(p),pr(p,p.return);break;case 12:Jn(g,p,l);break;case 31:Jn(g,p,l),l&&_&4&&mm(g,p);break;case 13:Jn(g,p,l),l&&_&4&&ym(g,p);break;case 22:p.memoizedState===null&&Jn(g,p,l),pr(p,p.return);break;case 30:break;default:Jn(g,p,l)}a=a.sibling}}function yh(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&tr(l))}function bh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&tr(n))}function _n(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)_m(n,a,l,u),a=a.sibling}function _m(n,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:_n(n,a,l,u),g&2048&&gr(9,a);break;case 1:_n(n,a,l,u);break;case 3:_n(n,a,l,u),g&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&tr(n)));break;case 12:if(g&2048){_n(n,a,l,u),n=a.stateNode;try{var p=a.memoizedProps,_=p.id,T=p.onPostCommit;typeof T=="function"&&T(_,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ue(a,a.return,R)}}else _n(n,a,l,u);break;case 31:_n(n,a,l,u);break;case 13:_n(n,a,l,u);break;case 23:break;case 22:p=a.stateNode,_=a.alternate,a.memoizedState!==null?p._visibility&2?_n(n,a,l,u):mr(n,a):p._visibility&2?_n(n,a,l,u):(p._visibility|=2,sa(n,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&yh(_,a);break;case 24:_n(n,a,l,u),g&2048&&bh(a.alternate,a);break;default:_n(n,a,l,u)}}function sa(n,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,_=a,T=l,R=u,H=_.flags;switch(_.tag){case 0:case 11:case 15:sa(p,_,T,R,g),gr(8,_);break;case 23:break;case 22:var K=_.stateNode;_.memoizedState!==null?K._visibility&2?sa(p,_,T,R,g):mr(p,_):(K._visibility|=2,sa(p,_,T,R,g)),g&&H&2048&&yh(_.alternate,_);break;case 24:sa(p,_,T,R,g),g&&H&2048&&bh(_.alternate,_);break;default:sa(p,_,T,R,g)}a=a.sibling}}function mr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,g=u.flags;switch(u.tag){case 22:mr(l,u),g&2048&&yh(u.alternate,u);break;case 24:mr(l,u),g&2048&&bh(u.alternate,u);break;default:mr(l,u)}a=a.sibling}}var yr=8192;function aa(n,a,l){if(n.subtreeFlags&yr)for(n=n.child;n!==null;)xm(n,a,l),n=n.sibling}function xm(n,a,l){switch(n.tag){case 26:aa(n,a,l),n.flags&yr&&n.memoizedState!==null&&bw(l,vn,n.memoizedState,n.memoizedProps);break;case 5:aa(n,a,l);break;case 3:case 4:var u=vn;vn=xl(n.stateNode.containerInfo),aa(n,a,l),vn=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=yr,yr=16777216,aa(n,a,l),yr=u):aa(n,a,l));break;default:aa(n,a,l)}}function Sm(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function br(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];bt=u,Em(u,n)}Sm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wm(n),n=n.sibling}function wm(n){switch(n.tag){case 0:case 11:case 15:br(n),n.flags&2048&&ji(9,n,n.return);break;case 3:br(n);break;case 12:br(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,ll(n)):br(n);break;default:br(n)}}function ll(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];bt=u,Em(u,n)}Sm(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ji(8,a,a.return),ll(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,ll(a));break;default:ll(a)}n=n.sibling}}function Em(n,a){for(;bt!==null;){var l=bt;switch(l.tag){case 0:case 11:case 15:ji(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:tr(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,bt=u;else e:for(l=n;bt!==null;){u=bt;var g=u.sibling,p=u.return;if(gm(u),u===l){bt=null;break e}if(g!==null){g.return=p,bt=g;break e}bt=p}}}var NS={getCacheForType:function(n){var a=xt(lt),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l},cacheSignal:function(){return xt(lt).controller.signal}},DS=typeof WeakMap=="function"?WeakMap:Map,De=0,Ge=null,Ce=null,Ae=0,Be=0,Jt=null,Ai=!1,ra=!1,vh=!1,Zn=0,nt=0,Oi=0,ds=0,_h=0,Zt=0,oa=0,vr=null,Bt=null,xh=!1,cl=0,Tm=0,ul=1/0,hl=null,Ri=null,gt=0,Mi=null,la=null,ei=0,Sh=0,wh=null,Cm=null,_r=0,Eh=null;function en(){return(De&2)!==0&&Ae!==0?Ae&-Ae:B.T!==null?Rh():If()}function jm(){if(Zt===0)if((Ae&536870912)===0||Re){var n=vo;vo<<=1,(vo&3932160)===0&&(vo=262144),Zt=n}else Zt=536870912;return n=Xt.current,n!==null&&(n.flags|=32),Zt}function Ut(n,a,l){(n===Ge&&(Be===2||Be===9)||n.cancelPendingCommit!==null)&&(ca(n,0),ki(n,Ae,Zt,!1)),Fa(n,l),((De&2)===0||n!==Ge)&&(n===Ge&&((De&2)===0&&(ds|=l),nt===4&&ki(n,Ae,Zt,!1)),Rn(n))}function Am(n,a,l){if((De&6)!==0)throw Error(s(327));var u=!l&&(a&127)===0&&(a&n.expiredLanes)===0||Ha(n,a),g=u?zS(n,a):Ch(n,a,!0),p=u;do{if(g===0){ra&&!u&&ki(n,a,0,!1);break}else{if(l=n.current.alternate,p&&!PS(l)){g=Ch(n,a,!1),p=!1;continue}if(g===2){if(p=a,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var T=n;g=vr;var R=T.current.memoizedState.isDehydrated;if(R&&(ca(T,_).flags|=256),_=Ch(T,_,!1),_!==2){if(vh&&!R){T.errorRecoveryDisabledLanes|=p,ds|=p,g=4;break e}p=Bt,Bt=g,p!==null&&(Bt===null?Bt=p:Bt.push.apply(Bt,p))}g=_}if(p=!1,g!==2)continue}}if(g===1){ca(n,0),ki(n,a,0,!0);break}e:{switch(u=n,p=g,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:ki(u,a,Zt,!Ai);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=cl+300-Gt(),10<g)){if(ki(u,a,Zt,!Ai),xo(u,0,!0)!==0)break e;ei=a,u.timeoutHandle=ay(Om.bind(null,u,l,Bt,hl,xh,a,Zt,ds,oa,Ai,p,"Throttled",-0,0),g);break e}Om(u,l,Bt,hl,xh,a,Zt,ds,oa,Ai,p,null,-0,0)}}break}while(!0);Rn(n)}function Om(n,a,l,u,g,p,_,T,R,H,K,ee,F,$){if(n.timeoutHandle=-1,ee=a.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},xm(a,p,ee);var he=(p&62914560)===p?cl-Gt():(p&4194048)===p?Tm-Gt():0;if(he=vw(ee,he),he!==null){ei=p,n.cancelPendingCommit=he(zm.bind(null,n,a,p,l,u,g,_,T,R,K,ee,null,F,$)),ki(n,p,_,!H);return}}zm(n,a,p,l,u,g,_,T,R)}function PS(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Wt(p(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ki(n,a,l,u){a&=~_h,a&=~ds,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var g=a;0<g;){var p=31-Yt(g),_=1<<p;u[p]=-1,g&=~_}l!==0&&Uf(n,l,a)}function dl(){return(De&6)===0?(xr(0),!1):!0}function Th(){if(Ce!==null){if(Be===0)var n=Ce.return;else n=Ce,qn=is=null,Fu(n),Zs=null,ir=0,n=Ce;for(;n!==null;)rm(n.alternate,n),n=n.return;Ce=null}}function ca(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,tw(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ei=0,Th(),Ge=n,Ce=l=Fn(n.current,null),Ae=a,Be=0,Jt=null,Ai=!1,ra=Ha(n,a),vh=!1,oa=Zt=_h=ds=Oi=nt=0,Bt=vr=null,xh=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var g=31-Yt(u),p=1<<g;a|=n[g],u&=~p}return Zn=a,No(),l}function Rm(n,a){Se=null,B.H=hr,a===Js||a===Fo?(a=Vg(),Be=3):a===Ou?(a=Vg(),Be=4):Be=a===ih?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Jt=a,Ce===null&&(nt=1,tl(n,on(a,n.current)))}function Mm(){var n=Xt.current;return n===null?!0:(Ae&4194048)===Ae?hn===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?n===hn:!1}function km(){var n=B.H;return B.H=hr,n===null?hr:n}function Nm(){var n=B.A;return B.A=NS,n}function fl(){nt=4,Ai||(Ae&4194048)!==Ae&&Xt.current!==null||(ra=!0),(Oi&134217727)===0&&(ds&134217727)===0||Ge===null||ki(Ge,Ae,Zt,!1)}function Ch(n,a,l){var u=De;De|=2;var g=km(),p=Nm();(Ge!==n||Ae!==a)&&(hl=null,ca(n,a)),a=!1;var _=nt;e:do try{if(Be!==0&&Ce!==null){var T=Ce,R=Jt;switch(Be){case 8:Th(),_=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(a=!0);var H=Be;if(Be=0,Jt=null,ua(n,T,R,H),l&&ra){_=0;break e}break;default:H=Be,Be=0,Jt=null,ua(n,T,R,H)}}LS(),_=nt;break}catch(K){Rm(n,K)}while(!0);return a&&n.shellSuspendCounter++,qn=is=null,De=u,B.H=g,B.A=p,Ce===null&&(Ge=null,Ae=0,No()),_}function LS(){for(;Ce!==null;)Dm(Ce)}function zS(n,a){var l=De;De|=2;var u=km(),g=Nm();Ge!==n||Ae!==a?(hl=null,ul=Gt()+500,ca(n,a)):ra=Ha(n,a);e:do try{if(Be!==0&&Ce!==null){a=Ce;var p=Jt;t:switch(Be){case 1:Be=0,Jt=null,ua(n,a,p,1);break;case 2:case 9:if($g(p)){Be=0,Jt=null,Pm(a);break}a=function(){Be!==2&&Be!==9||Ge!==n||(Be=7),Rn(n)},p.then(a,a);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:$g(p)?(Be=0,Jt=null,Pm(a)):(Be=0,Jt=null,ua(n,a,p,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var T=Ce;if(_?_y(_):T.stateNode.complete){Be=0,Jt=null;var R=T.sibling;if(R!==null)Ce=R;else{var H=T.return;H!==null?(Ce=H,gl(H)):Ce=null}break t}}Be=0,Jt=null,ua(n,a,p,5);break;case 6:Be=0,Jt=null,ua(n,a,p,6);break;case 8:Th(),nt=6;break e;default:throw Error(s(462))}}BS();break}catch(K){Rm(n,K)}while(!0);return qn=is=null,B.H=u,B.A=g,De=l,Ce!==null?0:(Ge=null,Ae=0,No(),nt)}function BS(){for(;Ce!==null&&!Wi();)Dm(Ce)}function Dm(n){var a=sm(n.alternate,n,Zn);n.memoizedProps=n.pendingProps,a===null?gl(n):Ce=a}function Pm(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=Jp(l,a,a.pendingProps,a.type,void 0,Ae);break;case 11:a=Jp(l,a,a.pendingProps,a.type.render,a.ref,Ae);break;case 5:Fu(a);default:rm(l,a),a=Ce=Ng(a,Zn),a=sm(l,a,Zn)}n.memoizedProps=n.pendingProps,a===null?gl(n):Ce=a}function ua(n,a,l,u){qn=is=null,Fu(a),Zs=null,ir=0;var g=a.return;try{if(CS(n,g,a,l,Ae)){nt=1,tl(n,on(l,n.current)),Ce=null;return}}catch(p){if(g!==null)throw Ce=g,p;nt=1,tl(n,on(l,n.current)),Ce=null;return}a.flags&32768?(Re||u===1?n=!0:ra||(Ae&536870912)!==0?n=!1:(Ai=n=!0,(u===2||u===9||u===3||u===6)&&(u=Xt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lm(a,n)):gl(a)}function gl(n){var a=n;do{if((a.flags&32768)!==0){Lm(a,Ai);return}n=a.return;var l=OS(a.alternate,a,Zn);if(l!==null){Ce=l;return}if(a=a.sibling,a!==null){Ce=a;return}Ce=a=n}while(a!==null);nt===0&&(nt=5)}function Lm(n,a){do{var l=RS(n.alternate,n);if(l!==null){l.flags&=32767,Ce=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Ce=n;return}Ce=n=l}while(n!==null);nt=6,Ce=null}function zm(n,a,l,u,g,p,_,T,R){n.cancelPendingCommit=null;do pl();while(gt!==0);if((De&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=gu,yx(n,l,p,_,T,R),n===Ge&&(Ce=Ge=null,Ae=0),la=a,Mi=n,ei=l,Sh=p,wh=g,Cm=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,IS(yo,function(){return Im(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,g=ne.p,ne.p=2,_=De,De|=4;try{MS(n,a,l)}finally{De=_,ne.p=g,B.T=u}}gt=1,Bm(),Um(),Hm()}}function Bm(){if(gt===1){gt=0;var n=Mi,a=la,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var u=ne.p;ne.p=2;var g=De;De|=4;try{bm(a,n);var p=Bh,_=Eg(n.containerInfo),T=p.focusedElem,R=p.selectionRange;if(_!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(R!==null&&cu(T)){var H=R.start,K=R.end;if(K===void 0&&(K=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(K,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var $=F.getSelection(),he=T.textContent.length,be=Math.min(R.start,he),$e=R.end===void 0?be:Math.min(R.end,he);!$.extend&&be>$e&&(_=$e,$e=be,be=_);var D=Sg(T,be),M=Sg(T,$e);if(D&&M&&($.rangeCount!==1||$.anchorNode!==D.node||$.anchorOffset!==D.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var U=ee.createRange();U.setStart(D.node,D.offset),$.removeAllRanges(),be>$e?($.addRange(U),$.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),$.addRange(U))}}}}for(ee=[],$=T;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}jl=!!zh,Bh=zh=null}finally{De=g,ne.p=u,B.T=l}}n.current=a,gt=2}}function Um(){if(gt===2){gt=0;var n=Mi,a=la,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var u=ne.p;ne.p=2;var g=De;De|=4;try{fm(n,a.alternate,a)}finally{De=g,ne.p=u,B.T=l}}gt=3}}function Hm(){if(gt===4||gt===3){gt=0,Ba();var n=Mi,a=la,l=ei,u=Cm;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gt=5:(gt=0,la=Mi=null,Fm(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&(Ri=null),$c(l),a=a.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ua,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,g=ne.p,ne.p=2,B.T=null;try{for(var p=n.onRecoverableError,_=0;_<u.length;_++){var T=u[_];p(T.value,{componentStack:T.stack})}}finally{B.T=a,ne.p=g}}(ei&3)!==0&&pl(),Rn(n),g=n.pendingLanes,(l&261930)!==0&&(g&42)!==0?n===Eh?_r++:(_r=0,Eh=n):_r=0,xr(0)}}function Fm(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,tr(a)))}function pl(){return Bm(),Um(),Hm(),Im()}function Im(){if(gt!==5)return!1;var n=Mi,a=Sh;Sh=0;var l=$c(ei),u=B.T,g=ne.p;try{ne.p=32>l?32:l,B.T=null,l=wh,wh=null;var p=Mi,_=ei;if(gt=0,la=Mi=null,ei=0,(De&6)!==0)throw Error(s(331));var T=De;if(De|=4,wm(p.current),_m(p,p.current,_,l),De=T,xr(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ua,p)}catch{}return!0}finally{ne.p=g,B.T=u,Fm(n,a)}}function qm(n,a,l){a=on(l,a),a=nh(n.stateNode,a,2),n=Ei(n,a,2),n!==null&&(Fa(n,2),Rn(n))}function Ue(n,a,l){if(n.tag===3)qm(n,n,l);else for(;a!==null;){if(a.tag===3){qm(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ri===null||!Ri.has(u))){n=on(l,n),l=$p(2),u=Ei(a,l,2),u!==null&&(Gp(l,u,a,n),Fa(u,2),Rn(u));break}}a=a.return}}function jh(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new DS;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(vh=!0,g.add(l),n=US.bind(null,n,a,l),a.then(n,n))}function US(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ge===n&&(Ae&l)===l&&(nt===4||nt===3&&(Ae&62914560)===Ae&&300>Gt()-cl?(De&2)===0&&ca(n,0):_h|=l,oa===Ae&&(oa=0)),Rn(n)}function $m(n,a){a===0&&(a=Bf()),n=es(n,a),n!==null&&(Fa(n,a),Rn(n))}function HS(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),$m(n,l)}function FS(n,a){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(a),$m(n,l)}function IS(n,a){return xe(n,a)}var ml=null,ha=null,Ah=!1,yl=!1,Oh=!1,Ni=0;function Rn(n){n!==ha&&n.next===null&&(ha===null?ml=ha=n:ha=ha.next=n),yl=!0,Ah||(Ah=!0,$S())}function xr(n,a){if(!Oh&&yl){Oh=!0;do for(var l=!1,u=ml;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var _=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Yt(42|n)+1)-1,p&=g&~(_&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Wm(u,p))}else p=Ae,p=xo(u,u===Ge?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Ha(u,p)||(l=!0,Wm(u,p));u=u.next}while(l);Oh=!1}}function qS(){Gm()}function Gm(){yl=Ah=!1;var n=0;Ni!==0&&ew()&&(n=Ni);for(var a=Gt(),l=null,u=ml;u!==null;){var g=u.next,p=Vm(u,a);p===0?(u.next=null,l===null?ml=g:l.next=g,g===null&&(ha=l)):(l=u,(n!==0||(p&3)!==0)&&(yl=!0)),u=g}gt!==0&&gt!==5||xr(n),Ni!==0&&(Ni=0)}function Vm(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-Yt(p),T=1<<_,R=g[_];R===-1?((T&l)===0||(T&u)!==0)&&(g[_]=mx(T,a)):R<=a&&(n.expiredLanes|=T),p&=~T}if(a=Ge,l=Ae,l=xo(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(Be===2||Be===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&nn(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ha(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&nn(u),$c(l)){case 2:case 8:l=Lf;break;case 32:l=yo;break;case 268435456:l=zf;break;default:l=yo}return u=Ym.bind(null,n),l=xe(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&nn(u),n.callbackPriority=2,n.callbackNode=null,2}function Ym(n,a){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(pl()&&n.callbackNode!==l)return null;var u=Ae;return u=xo(n,n===Ge?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Am(n,u,a),Vm(n,Gt()),n.callbackNode!=null&&n.callbackNode===l?Ym.bind(null,n):null)}function Wm(n,a){if(pl())return null;Am(n,a,!0)}function $S(){nw(function(){(De&6)!==0?xe(Pf,qS):Gm()})}function Rh(){if(Ni===0){var n=Xs;n===0&&(n=bo,bo<<=1,(bo&261888)===0&&(bo=256)),Ni=n}return Ni}function Km(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:To(""+n)}function Xm(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function GS(n,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var p=Km((g[Nt]||null).action),_=u.submitter;_&&(a=(a=_[Nt]||null)?Km(a.formAction):_.getAttribute("formAction"),a!==null&&(p=a,_=null));var T=new Oo("action","action",null,u,g);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ni!==0){var R=_?Xm(g,_):new FormData(g);Xu(l,{pending:!0,data:R,method:g.method,action:p},null,R)}}else typeof p=="function"&&(T.preventDefault(),R=_?Xm(g,_):new FormData(g),Xu(l,{pending:!0,data:R,method:g.method,action:p},p,R))},currentTarget:g}]})}}for(var Mh=0;Mh<fu.length;Mh++){var kh=fu[Mh],VS=kh.toLowerCase(),YS=kh[0].toUpperCase()+kh.slice(1);bn(VS,"on"+YS)}bn(jg,"onAnimationEnd"),bn(Ag,"onAnimationIteration"),bn(Og,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(cS,"onTransitionRun"),bn(uS,"onTransitionStart"),bn(hS,"onTransitionCancel"),bn(Rg,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function Qm(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],g=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var _=u.length-1;0<=_;_--){var T=u[_],R=T.instance,H=T.currentTarget;if(T=T.listener,R!==p&&g.isPropagationStopped())break e;p=T,g.currentTarget=H;try{p(g)}catch(K){ko(K)}g.currentTarget=null,p=R}else for(_=0;_<u.length;_++){if(T=u[_],R=T.instance,H=T.currentTarget,T=T.listener,R!==p&&g.isPropagationStopped())break e;p=T,g.currentTarget=H;try{p(g)}catch(K){ko(K)}g.currentTarget=null,p=R}}}}function je(n,a){var l=a[Gc];l===void 0&&(l=a[Gc]=new Set);var u=n+"__bubble";l.has(u)||(Jm(a,n,2,!1),l.add(u))}function Nh(n,a,l){var u=0;a&&(u|=4),Jm(l,n,u,a)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Dh(n){if(!n[bl]){n[bl]=!0,Gf.forEach(function(l){l!=="selectionchange"&&(WS.has(l)||Nh(l,!1,n),Nh(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[bl]||(a[bl]=!0,Nh("selectionchange",!1,a))}}function Jm(n,a,l,u){switch(jy(a)){case 2:var g=Sw;break;case 8:g=ww;break;default:g=Kh}l=g.bind(null,a,l,n),g=void 0,!eu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(a,l,{capture:!0,passive:g}):n.addEventListener(a,l,!0):g!==void 0?n.addEventListener(a,l,{passive:g}):n.addEventListener(a,l,!1)}function Ph(n,a,l,u,g){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var T=u.stateNode.containerInfo;if(T===g)break;if(_===4)for(_=u.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===g)return;_=_.return}for(;T!==null;){if(_=Ns(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){u=p=_;continue e}T=T.parentNode}}u=u.return}ig(function(){var H=p,K=Jc(l),ee=[];e:{var F=Mg.get(n);if(F!==void 0){var $=Oo,he=n;switch(n){case"keypress":if(jo(l)===0)break e;case"keydown":case"keyup":$=Fx;break;case"focusin":he="focus",$=su;break;case"focusout":he="blur",$=su;break;case"beforeblur":case"afterblur":$=su;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=$x;break;case jg:case Ag:case Og:$=kx;break;case Rg:$=Vx;break;case"scroll":case"scrollend":$=jx;break;case"wheel":$=Wx;break;case"copy":case"cut":case"paste":$=Dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=lg;break;case"toggle":case"beforetoggle":$=Xx}var be=(a&4)!==0,$e=!be&&(n==="scroll"||n==="scrollend"),D=be?F!==null?F+"Capture":null:F;be=[];for(var M=H,U;M!==null;){var Z=M;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||D===null||(Z=$a(M,D),Z!=null&&be.push(wr(M,Z,U))),$e)break;M=M.return}0<be.length&&(F=new $(F,he,null,l,K),ee.push({event:F,listeners:be}))}}if((a&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",F&&l!==Qc&&(he=l.relatedTarget||l.fromElement)&&(Ns(he)||he[ks]))break e;if(($||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,$?(he=l.relatedTarget||l.toElement,$=H,he=he?Ns(he):null,he!==null&&($e=o(he),be=he.tag,he!==$e||be!==5&&be!==27&&be!==6)&&(he=null)):($=null,he=H),$!==he)){if(be=rg,Z="onMouseLeave",D="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(be=lg,Z="onPointerLeave",D="onPointerEnter",M="pointer"),$e=$==null?F:qa($),U=he==null?F:qa(he),F=new be(Z,M+"leave",$,l,K),F.target=$e,F.relatedTarget=U,Z=null,Ns(K)===H&&(be=new be(D,M+"enter",he,l,K),be.target=U,be.relatedTarget=$e,Z=be),$e=Z,$&&he)t:{for(be=KS,D=$,M=he,U=0,Z=D;Z;Z=be(Z))U++;Z=0;for(var ye=M;ye;ye=be(ye))Z++;for(;0<U-Z;)D=be(D),U--;for(;0<Z-U;)M=be(M),Z--;for(;U--;){if(D===M||M!==null&&D===M.alternate){be=D;break t}D=be(D),M=be(M)}be=null}else be=null;$!==null&&Zm(ee,F,$,be,!1),he!==null&&$e!==null&&Zm(ee,$e,he,be,!0)}}e:{if(F=H?qa(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var ke=mg;else if(gg(F))if(yg)ke=rS;else{ke=sS;var ge=iS}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Xc(H.elementType)&&(ke=mg):ke=aS;if(ke&&(ke=ke(n,H))){pg(ee,ke,l,K);break e}ge&&ge(n,F,H),n==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Kc(F,"number",F.value)}switch(ge=H?qa(H):window,n){case"focusin":(gg(ge)||ge.contentEditable==="true")&&(Is=ge,uu=H,Ja=null);break;case"focusout":Ja=uu=Is=null;break;case"mousedown":hu=!0;break;case"contextmenu":case"mouseup":case"dragend":hu=!1,Tg(ee,l,K);break;case"selectionchange":if(lS)break;case"keydown":case"keyup":Tg(ee,l,K)}var Ee;if(ru)e:{switch(n){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Fs?dg(n,l)&&(Oe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(cg&&l.locale!=="ko"&&(Fs||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Fs&&(Ee=sg()):(yi=K,tu="value"in yi?yi.value:yi.textContent,Fs=!0)),ge=vl(H,Oe),0<ge.length&&(Oe=new og(Oe,n,null,l,K),ee.push({event:Oe,listeners:ge}),Ee?Oe.data=Ee:(Ee=fg(l),Ee!==null&&(Oe.data=Ee)))),(Ee=Jx?Zx(n,l):eS(n,l))&&(Oe=vl(H,"onBeforeInput"),0<Oe.length&&(ge=new og("onBeforeInput","beforeinput",null,l,K),ee.push({event:ge,listeners:Oe}),ge.data=Ee)),GS(ee,n,H,l,K)}Qm(ee,a)})}function wr(n,a,l){return{instance:n,listener:a,currentTarget:l}}function vl(n,a){for(var l=a+"Capture",u=[];n!==null;){var g=n,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=$a(n,l),g!=null&&u.unshift(wr(n,g,p)),g=$a(n,a),g!=null&&u.push(wr(n,g,p))),n.tag===3)return u;n=n.return}return[]}function KS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Zm(n,a,l,u,g){for(var p=a._reactName,_=[];l!==null&&l!==u;){var T=l,R=T.alternate,H=T.stateNode;if(T=T.tag,R!==null&&R===u)break;T!==5&&T!==26&&T!==27||H===null||(R=H,g?(H=$a(l,p),H!=null&&_.unshift(wr(l,H,R))):g||(H=$a(l,p),H!=null&&_.push(wr(l,H,R)))),l=l.return}_.length!==0&&n.push({event:a,listeners:_})}var XS=/\r\n?/g,QS=/\u0000|\uFFFD/g;function ey(n){return(typeof n=="string"?n:""+n).replace(XS,`
`).replace(QS,"")}function ty(n,a){return a=ey(a),ey(n)===a}function qe(n,a,l,u,g,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Bs(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Bs(n,""+u);break;case"className":wo(n,"class",u);break;case"tabIndex":wo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":wo(n,l,u);break;case"style":tg(n,u,p);break;case"data":if(a!=="object"){wo(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=To(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&qe(n,a,"name",g.name,g,null),qe(n,a,"formEncType",g.formEncType,g,null),qe(n,a,"formMethod",g.formMethod,g,null),qe(n,a,"formTarget",g.formTarget,g,null)):(qe(n,a,"encType",g.encType,g,null),qe(n,a,"method",g.method,g,null),qe(n,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=To(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Un);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=To(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":je("beforetoggle",n),je("toggle",n),So(n,"popover",u);break;case"xlinkActuate":Bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Bn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Bn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Bn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Bn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":So(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tx.get(l)||l,So(n,l,u))}}function Lh(n,a,l,u,g,p){switch(l){case"style":tg(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Bs(n,u):(typeof u=="number"||typeof u=="bigint")&&Bs(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vf.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),p=n[Nt]||null,p=p!=null?p[l]:null,typeof p=="function"&&n.removeEventListener(a,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,g);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):So(n,l,u)}}}function wt(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var _=l[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:qe(n,a,p,_,l,null)}}g&&qe(n,a,"srcSet",l.srcSet,l,null),u&&qe(n,a,"src",l.src,l,null);return;case"input":je("invalid",n);var T=p=_=g=null,R=null,H=null;for(u in l)if(l.hasOwnProperty(u)){var K=l[u];if(K!=null)switch(u){case"name":g=K;break;case"type":_=K;break;case"checked":R=K;break;case"defaultChecked":H=K;break;case"value":p=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,a));break;default:qe(n,a,u,K,l,null)}}Qf(n,p,T,R,H,_,g,!1);return;case"select":je("invalid",n),u=_=p=null;for(g in l)if(l.hasOwnProperty(g)&&(T=l[g],T!=null))switch(g){case"value":p=T;break;case"defaultValue":_=T;break;case"multiple":u=T;default:qe(n,a,g,T,l,null)}a=p,l=_,n.multiple=!!u,a!=null?zs(n,!!u,a,!1):l!=null&&zs(n,!!u,l,!0);return;case"textarea":je("invalid",n),p=g=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(T=l[_],T!=null))switch(_){case"value":u=T;break;case"defaultValue":g=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:qe(n,a,_,T,l,null)}Zf(n,u,g,p);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(u=l[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qe(n,a,R,u,l,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<Sr.length;u++)je(Sr[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:qe(n,a,H,u,l,null)}return;default:if(Xc(a)){for(K in l)l.hasOwnProperty(K)&&(u=l[K],u!==void 0&&Lh(n,a,K,u,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(u=l[T],u!=null&&qe(n,a,T,u,l,null))}function JS(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,_=null,T=null,R=null,H=null,K=null;for($ in l){var ee=l[$];if(l.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":R=ee;default:u.hasOwnProperty($)||qe(n,a,$,null,u,ee)}}for(var F in u){var $=u[F];if(ee=l[F],u.hasOwnProperty(F)&&($!=null||ee!=null))switch(F){case"type":p=$;break;case"name":g=$;break;case"checked":H=$;break;case"defaultChecked":K=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,a));break;default:$!==ee&&qe(n,a,F,$,u,ee)}}Wc(n,_,T,R,H,K,p,g);return;case"select":$=_=T=F=null;for(p in l)if(R=l[p],l.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":$=R;default:u.hasOwnProperty(p)||qe(n,a,p,null,u,R)}for(g in u)if(p=u[g],R=l[g],u.hasOwnProperty(g)&&(p!=null||R!=null))switch(g){case"value":F=p;break;case"defaultValue":T=p;break;case"multiple":_=p;default:p!==R&&qe(n,a,g,p,u,R)}a=T,l=_,u=$,F!=null?zs(n,!!l,F,!1):!!u!=!!l&&(a!=null?zs(n,!!l,a,!0):zs(n,!!l,l?[]:"",!1));return;case"textarea":$=F=null;for(T in l)if(g=l[T],l.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:qe(n,a,T,null,u,g)}for(_ in u)if(g=u[_],p=l[_],u.hasOwnProperty(_)&&(g!=null||p!=null))switch(_){case"value":F=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==p&&qe(n,a,_,g,u,p)}Jf(n,F,$);return;case"option":for(var he in l)if(F=l[he],l.hasOwnProperty(he)&&F!=null&&!u.hasOwnProperty(he))switch(he){case"selected":n.selected=!1;break;default:qe(n,a,he,null,u,F)}for(R in u)if(F=u[R],$=l[R],u.hasOwnProperty(R)&&F!==$&&(F!=null||$!=null))switch(R){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:qe(n,a,R,F,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in l)F=l[be],l.hasOwnProperty(be)&&F!=null&&!u.hasOwnProperty(be)&&qe(n,a,be,null,u,F);for(H in u)if(F=u[H],$=l[H],u.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,a));break;default:qe(n,a,H,F,u,$)}return;default:if(Xc(a)){for(var $e in l)F=l[$e],l.hasOwnProperty($e)&&F!==void 0&&!u.hasOwnProperty($e)&&Lh(n,a,$e,void 0,u,F);for(K in u)F=u[K],$=l[K],!u.hasOwnProperty(K)||F===$||F===void 0&&$===void 0||Lh(n,a,K,F,u,$);return}}for(var D in l)F=l[D],l.hasOwnProperty(D)&&F!=null&&!u.hasOwnProperty(D)&&qe(n,a,D,null,u,F);for(ee in u)F=u[ee],$=l[ee],!u.hasOwnProperty(ee)||F===$||F==null&&$==null||qe(n,a,ee,F,u,$)}function ny(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ZS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,_=g.initiatorType,T=g.duration;if(p&&T&&ny(_)){for(_=0,T=g.responseEnd,u+=1;u<l.length;u++){var R=l[u],H=R.startTime;if(H>T)break;var K=R.transferSize,ee=R.initiatorType;K&&ny(ee)&&(R=R.responseEnd,_+=K*(R<T?1:(T-H)/(R-H)))}if(--u,a+=8*(p+_)/(g.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var zh=null,Bh=null;function _l(n){return n.nodeType===9?n:n.ownerDocument}function iy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Uh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Hh=null;function ew(){var n=window.event;return n&&n.type==="popstate"?n===Hh?!1:(Hh=n,!0):(Hh=null,!1)}var ay=typeof setTimeout=="function"?setTimeout:void 0,tw=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,nw=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(n){return ry.resolve(null).then(n).catch(iw)}:ay;function iw(n){setTimeout(function(){throw n})}function Di(n){return n==="head"}function oy(n,a){var l=a,u=0;do{var g=l.nextSibling;if(n.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(g),pa(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Er(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Er(l);for(var p=l.firstChild;p;){var _=p.nextSibling,T=p.nodeName;p[Ia]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=_}}else l==="body"&&Er(n.ownerDocument.body);l=g}while(l);pa(a)}function ly(n,a){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Fh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fh(l),Vc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function sw(n,a,l,u){for(;n.nodeType===1;){var g=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ia])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=dn(n.nextSibling),n===null)break}return null}function aw(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=dn(n.nextSibling),n===null))return null;return n}function cy(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=dn(n.nextSibling),n===null))return null;return n}function Ih(n){return n.data==="$?"||n.data==="$~"}function qh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function rw(n,a){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function dn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var $h=null;function uy(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(a===0)return dn(n.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}n=n.nextSibling}return null}function hy(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return n;a--}else l!=="/$"&&l!=="/&"||a++}n=n.previousSibling}return null}function dy(n,a,l){switch(a=_l(l),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Er(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Vc(n)}var fn=new Map,fy=new Set;function xl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ti=ne.d;ne.d={f:ow,r:lw,D:cw,C:uw,L:hw,m:dw,X:gw,S:fw,M:pw};function ow(){var n=ti.f(),a=dl();return n||a}function lw(n){var a=Ds(n);a!==null&&a.tag===5&&a.type==="form"?Rp(a):ti.r(n)}var da=typeof document>"u"?null:document;function gy(n,a,l){var u=da;if(u&&typeof a=="string"&&a){var g=an(a);g='link[rel="'+n+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),fy.has(g)||(fy.add(g),n={rel:n,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),wt(a,"link",n),yt(a),u.head.appendChild(a)))}}function cw(n){ti.D(n),gy("dns-prefetch",n,null)}function uw(n,a){ti.C(n,a),gy("preconnect",n,a)}function hw(n,a,l){ti.L(n,a,l);var u=da;if(u&&n&&a){var g='link[rel="preload"][as="'+an(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+an(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+an(l.imageSizes)+'"]')):g+='[href="'+an(n)+'"]';var p=g;switch(a){case"style":p=fa(n);break;case"script":p=ga(n)}fn.has(p)||(n=b({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),fn.set(p,n),u.querySelector(g)!==null||a==="style"&&u.querySelector(Tr(p))||a==="script"&&u.querySelector(Cr(p))||(a=u.createElement("link"),wt(a,"link",n),yt(a),u.head.appendChild(a)))}}function dw(n,a){ti.m(n,a);var l=da;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(n)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ga(n)}if(!fn.has(p)&&(n=b({rel:"modulepreload",href:n},a),fn.set(p,n),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cr(p)))return}u=l.createElement("link"),wt(u,"link",n),yt(u),l.head.appendChild(u)}}}function fw(n,a,l){ti.S(n,a,l);var u=da;if(u&&n){var g=Ps(u).hoistableStyles,p=fa(n);a=a||"default";var _=g.get(p);if(!_){var T={loading:0,preload:null};if(_=u.querySelector(Tr(p)))T.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":a},l),(l=fn.get(p))&&Gh(n,l);var R=_=u.createElement("link");yt(R),wt(R,"link",n),R._p=new Promise(function(H,K){R.onload=H,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Sl(_,a,u)}_={type:"stylesheet",instance:_,count:1,state:T},g.set(p,_)}}}function gw(n,a){ti.X(n,a);var l=da;if(l&&n){var u=Ps(l).hoistableScripts,g=ga(n),p=u.get(g);p||(p=l.querySelector(Cr(g)),p||(n=b({src:n,async:!0},a),(a=fn.get(g))&&Vh(n,a),p=l.createElement("script"),yt(p),wt(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function pw(n,a){ti.M(n,a);var l=da;if(l&&n){var u=Ps(l).hoistableScripts,g=ga(n),p=u.get(g);p||(p=l.querySelector(Cr(g)),p||(n=b({src:n,async:!0,type:"module"},a),(a=fn.get(g))&&Vh(n,a),p=l.createElement("script"),yt(p),wt(p,"link",n),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function py(n,a,l,u){var g=(g=me.current)?xl(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=fa(l.href),l=Ps(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=fa(l.href);var p=Ps(g).hoistableStyles,_=p.get(n);if(_||(g=g.ownerDocument||g,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=g.querySelector(Tr(n)))&&!p._p&&(_.instance=p,_.state.loading=5),fn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},fn.set(n,l),p||mw(g,n,l,_.state))),a&&u===null)throw Error(s(528,""));return _}if(a&&u!==null)throw Error(s(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ga(l),l=Ps(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fa(n){return'href="'+an(n)+'"'}function Tr(n){return'link[rel="stylesheet"]['+n+"]"}function my(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function mw(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),wt(a,"link",l),yt(a),n.head.appendChild(a))}function ga(n){return'[src="'+an(n)+'"]'}function Cr(n){return"script[async]"+n}function yy(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+an(l.href)+'"]');if(u)return a.instance=u,yt(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),yt(u),wt(u,"style",g),Sl(u,l.precedence,n),a.instance=u;case"stylesheet":g=fa(l.href);var p=n.querySelector(Tr(g));if(p)return a.state.loading|=4,a.instance=p,yt(p),p;u=my(l),(g=fn.get(g))&&Gh(u,g),p=(n.ownerDocument||n).createElement("link"),yt(p);var _=p;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),wt(p,"link",u),a.state.loading|=4,Sl(p,l.precedence,n),a.instance=p;case"script":return p=ga(l.src),(g=n.querySelector(Cr(p)))?(a.instance=g,yt(g),g):(u=l,(g=fn.get(p))&&(u=b({},l),Vh(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),yt(g),wt(g,"link",u),n.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Sl(u,l.precedence,n));return a.instance}function Sl(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,_=0;_<u.length;_++){var T=u[_];if(T.dataset.precedence===a)p=T;else if(p!==g)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function Gh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Vh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var wl=null;function by(n,a,l){if(wl===null){var u=new Map,g=wl=new Map;g.set(l,u)}else g=wl,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),g=0;g<l.length;g++){var p=l[g];if(!(p[Ia]||p[vt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(a)||"";_=n+_;var T=u.get(_);T?T.push(p):u.set(_,[p])}}return u}function vy(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function yw(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _y(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function bw(n,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=fa(u.href),p=a.querySelector(Tr(g));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=El.bind(n),a.then(n,n)),l.state.loading|=4,l.instance=p,yt(p);return}p=a.ownerDocument||a,u=my(u),(g=fn.get(g))&&Gh(u,g),p=p.createElement("link"),yt(p);var _=p;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),wt(p,"link",u),l.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=El.bind(n),a.addEventListener("load",l),a.addEventListener("error",l))}}var Yh=0;function vw(n,a){return n.stylesheets&&n.count===0&&Cl(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&Cl(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Yh===0&&(Yh=62500*ZS());var g=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Cl(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Yh?50:800)+a);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function El(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tl=null;function Cl(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tl=new Map,a.forEach(_w,n),Tl=null,El.call(n))}function _w(n,a){if(!(a.state.loading&4)){var l=Tl.get(n);if(l)var u=l.get(null);else{l=new Map,Tl.set(n,l);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var _=g[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}g=a.instance,_=g.getAttribute("data-precedence"),p=l.get(_)||u,p===u&&l.set(null,g),l.set(_,g),this.count++,u=El.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),a.state.loading|=4}}var jr={$$typeof:A,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function xw(n,a,l,u,g,p,_,T,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.hiddenUpdates=Ic(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function xy(n,a,l,u,g,p,_,T,R,H,K,ee){return n=new xw(n,a,l,_,R,H,K,ee,T),a=1,p===!0&&(a|=24),p=Kt(3,null,null,a),n.current=p,p.stateNode=n,a=Cu(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},Ru(p),n}function Sy(n){return n?(n=Gs,n):Gs}function wy(n,a,l,u,g,p){g=Sy(g),u.context===null?u.context=g:u.pendingContext=g,u=wi(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Ei(n,u,a),l!==null&&(Ut(l,n,a),ar(l,n,a))}function Ey(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Wh(n,a){Ey(n,a),(n=n.alternate)&&Ey(n,a)}function Ty(n){if(n.tag===13||n.tag===31){var a=es(n,67108864);a!==null&&Ut(a,n,67108864),Wh(n,67108864)}}function Cy(n){if(n.tag===13||n.tag===31){var a=en();a=qc(a);var l=es(n,a);l!==null&&Ut(l,n,a),Wh(n,a)}}var jl=!0;function Sw(n,a,l,u){var g=B.T;B.T=null;var p=ne.p;try{ne.p=2,Kh(n,a,l,u)}finally{ne.p=p,B.T=g}}function ww(n,a,l,u){var g=B.T;B.T=null;var p=ne.p;try{ne.p=8,Kh(n,a,l,u)}finally{ne.p=p,B.T=g}}function Kh(n,a,l,u){if(jl){var g=Xh(u);if(g===null)Ph(n,a,u,Al,l),Ay(n,u);else if(Tw(g,n,a,l,u))u.stopPropagation();else if(Ay(n,u),a&4&&-1<Ew.indexOf(n)){for(;g!==null;){var p=Ds(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=Ki(p.pendingLanes);if(_!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-Yt(_);T.entanglements[1]|=R,_&=~R}Rn(p),(De&6)===0&&(ul=Gt()+500,xr(0))}}break;case 31:case 13:T=es(p,2),T!==null&&Ut(T,p,2),dl(),Wh(p,2)}if(p=Xh(u),p===null&&Ph(n,a,u,Al,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else Ph(n,a,u,null,l)}}function Xh(n){return n=Jc(n),Qh(n)}var Al=null;function Qh(n){if(Al=null,n=Ns(n),n!==null){var a=o(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=c(a),n!==null)return n;n=null}else if(l===31){if(n=h(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Al=n,null}function jy(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cx()){case Pf:return 2;case Lf:return 8;case yo:case ux:return 32;case zf:return 268435456;default:return 32}default:return 32}}var Jh=!1,Pi=null,Li=null,zi=null,Ar=new Map,Or=new Map,Bi=[],Ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(n,a){switch(n){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Ar.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(a.pointerId)}}function Rr(n,a,l,u,g,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},a!==null&&(a=Ds(a),a!==null&&Ty(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),n)}function Tw(n,a,l,u,g){switch(a){case"focusin":return Pi=Rr(Pi,n,a,l,u,g),!0;case"dragenter":return Li=Rr(Li,n,a,l,u,g),!0;case"mouseover":return zi=Rr(zi,n,a,l,u,g),!0;case"pointerover":var p=g.pointerId;return Ar.set(p,Rr(Ar.get(p)||null,n,a,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,Or.set(p,Rr(Or.get(p)||null,n,a,l,u,g)),!0}return!1}function Oy(n){var a=Ns(n.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){n.blockedOn=a,qf(n.priority,function(){Cy(l)});return}}else if(a===31){if(a=h(l),a!==null){n.blockedOn=a,qf(n.priority,function(){Cy(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ol(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Xh(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Qc=u,l.target.dispatchEvent(u),Qc=null}else return a=Ds(l),a!==null&&Ty(a),n.blockedOn=l,!1;a.shift()}return!0}function Ry(n,a,l){Ol(n)&&l.delete(a)}function Cw(){Jh=!1,Pi!==null&&Ol(Pi)&&(Pi=null),Li!==null&&Ol(Li)&&(Li=null),zi!==null&&Ol(zi)&&(zi=null),Ar.forEach(Ry),Or.forEach(Ry)}function Rl(n,a){n.blockedOn===a&&(n.blockedOn=null,Jh||(Jh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Cw)))}var Ml=null;function My(n){Ml!==n&&(Ml=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ml===n&&(Ml=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],g=n[a+2];if(typeof u!="function"){if(Qh(u||l)===null)continue;break}var p=Ds(l);p!==null&&(n.splice(a,3),a-=3,Xu(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function pa(n){function a(R){return Rl(R,n)}Pi!==null&&Rl(Pi,n),Li!==null&&Rl(Li,n),zi!==null&&Rl(zi,n),Ar.forEach(a),Or.forEach(a);for(var l=0;l<Bi.length;l++){var u=Bi[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Bi.length&&(l=Bi[0],l.blockedOn===null);)Oy(l),l.blockedOn===null&&Bi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],_=g[Nt]||null;if(typeof p=="function")_||My(l);else if(_){var T=null;if(p&&p.hasAttribute("formAction")){if(g=p,_=p[Nt]||null)T=_.formAction;else if(Qh(g)!==null)continue}else T=_.action;typeof T=="function"?l[u+1]=T:(l.splice(u,3),u-=3),My(l)}}}function ky(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(_){return g=_})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Zh(n){this._internalRoot=n}kl.prototype.render=Zh.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var l=a.current,u=en();wy(l,u,n,a,null,null)},kl.prototype.unmount=Zh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;wy(n.current,2,null,n,null,null),dl(),a[ks]=null}};function kl(n){this._internalRoot=n}kl.prototype.unstable_scheduleHydration=function(n){if(n){var a=If();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Bi.length&&a!==0&&a<Bi[l].priority;l++);Bi.splice(l,0,n),l===0&&Oy(n)}};var Ny=e.version;if(Ny!=="19.2.0")throw Error(s(527,Ny,"19.2.0"));ne.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var jw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Ua=Nl.inject(jw),Vt=Nl}catch{}}return kr.createRoot=function(n,a){if(!r(n))throw Error(s(299));var l=!1,u="",g=Hp,p=Fp,_=Ip;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=xy(n,1,!1,null,null,l,u,null,g,p,_,ky),n[ks]=a.current,Dh(n),new Zh(a)},kr.hydrateRoot=function(n,a,l){if(!r(n))throw Error(s(299));var u=!1,g="",p=Hp,_=Fp,T=Ip,R=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),a=xy(n,1,!0,a,l??null,u,g,R,p,_,T,ky),a.context=Sy(null),l=a.current,u=en(),u=qc(u),g=wi(u),g.callback=null,Ei(l,g,u),l=u,a.current.lanes=l,Fa(a,l),Rn(a),n[ks]=a.current,Dh(n),new kl(a)},kr.version="19.2.0",kr}var qy;function Uw(){if(qy)return nd.exports;qy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nd.exports=Bw(),nd.exports}var Hw=Uw();const Fw=ef(Hw);var $y="popstate";function Iw(i={}){function e(s,r){let{pathname:o,search:c,hash:h}=s.location;return Ad("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(s,r){return typeof r=="string"?r:Jr(r)}return $w(e,t,null,i)}function Ze(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qw(){return Math.random().toString(36).substring(2,10)}function Gy(i,e){return{usr:i.state,key:i.key,idx:e}}function Ad(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Na(e):e,state:t,key:e&&e.key||s||qw()}}function Jr({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Na(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function $w(i,e,t,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,c=r.history,h="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function b(){h="POP";let w=m(),C=w==null?null:w-f;f=w,d&&d({action:h,location:E.location,delta:C})}function v(w,C){h="PUSH";let j=Ad(E.location,w,C);f=m()+1;let A=Gy(j,f),N=E.createHref(j);try{c.pushState(A,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(N)}o&&d&&d({action:h,location:E.location,delta:1})}function x(w,C){h="REPLACE";let j=Ad(E.location,w,C);f=m();let A=Gy(j,f),N=E.createHref(j);c.replaceState(A,"",N),o&&d&&d({action:h,location:E.location,delta:0})}function S(w){return Gw(w)}let E={get action(){return h},get location(){return i(r,c)},listen(w){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener($y,b),d=w,()=>{r.removeEventListener($y,b),d=null}},createHref(w){return e(r,w)},createURL:S,encodeLocation(w){let C=S(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:x,go(w){return c.go(w)}};return E}function Gw(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Jr(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Iv(i,e,t="/"){return Vw(i,e,t,!1)}function Vw(i,e,t,s){let r=typeof e=="string"?Na(e):e,o=ui(r.pathname||"/",t);if(o==null)return null;let c=qv(i);Yw(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=s1(o);h=n1(c[d],f,s)}return h}function qv(i,e=[],t=[],s="",r=!1){let o=(c,h,d=r,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&d)return;Ze(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let b=ci([s,m.relativePath]),v=t.concat(m);c.children&&c.children.length>0&&(Ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),qv(c.children,e,v,b,d)),!(c.path==null&&!c.index)&&e.push({path:b,score:e1(b,c.index),routesMeta:v})};return i.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let d of $v(c.path))o(c,h,!0,d)}),e}function $v(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,r=t.endsWith("?"),o=t.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let c=$v(s.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),r&&h.push(...c),h.map(d=>i.startsWith("/")&&d===""?"/":d)}function Yw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:t1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Ww=/^:[\w-]+$/,Kw=3,Xw=2,Qw=1,Jw=10,Zw=-2,Vy=i=>i==="*";function e1(i,e){let t=i.split("/"),s=t.length;return t.some(Vy)&&(s+=Zw),e&&(s+=Xw),t.filter(r=>!Vy(r)).reduce((r,o)=>r+(Ww.test(o)?Kw:o===""?Qw:Jw),s)}function t1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,r)=>s===e[r])?i[i.length-1]-e[e.length-1]:0}function n1(i,e,t=!1){let{routesMeta:s}=i,r={},o="/",c=[];for(let h=0;h<s.length;++h){let d=s[h],f=h===s.length-1,m=o==="/"?e:e.slice(o.length)||"/",b=gc({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),v=d.route;if(!b&&f&&t&&!s[s.length-1].route.index&&(b=gc({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(r,b.params),c.push({params:r,pathname:ci([o,b.pathname]),pathnameBase:c1(ci([o,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(o=ci([o,b.pathnameBase]))}return c}function gc(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=i1(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((f,{paramName:m,isOptional:b},v)=>{if(m==="*"){let S=h[v]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[v];return b&&!x?f[m]=void 0:f[m]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:i}}function i1(i,e=!1,t=!0){Tn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function s1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ui(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var a1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=i=>a1.test(i);function o1(i,e="/"){let{pathname:t,search:s="",hash:r=""}=typeof i=="string"?Na(i):i,o;if(t)if(r1(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Tn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Yy(t.substring(1),"/"):o=Yy(t,e)}else o=e;return{pathname:o,search:u1(s),hash:h1(r)}}function Yy(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function rd(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l1(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gv(i){let e=l1(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Vv(i,e,t,s=!1){let r;typeof i=="string"?r=Na(i):(r={...i},Ze(!r.pathname||!r.pathname.includes("?"),rd("?","pathname","search",r)),Ze(!r.pathname||!r.pathname.includes("#"),rd("#","pathname","hash",r)),Ze(!r.search||!r.search.includes("#"),rd("#","search","hash",r)));let o=i===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;r.pathname=v.join("/")}h=b>=0?e[b]:"/"}let d=o1(r,h),f=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var ci=i=>i.join("/").replace(/\/\/+/g,"/"),c1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),u1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,h1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function d1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yv=["POST","PUT","PATCH","DELETE"];new Set(Yv);var f1=["GET",...Yv];new Set(f1);var Da=L.createContext(null);Da.displayName="DataRouter";var Mc=L.createContext(null);Mc.displayName="DataRouterState";L.createContext(!1);var Wv=L.createContext({isTransitioning:!1});Wv.displayName="ViewTransition";var g1=L.createContext(new Map);g1.displayName="Fetchers";var p1=L.createContext(null);p1.displayName="Await";var Ln=L.createContext(null);Ln.displayName="Navigation";var uo=L.createContext(null);uo.displayName="Location";var hi=L.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var nf=L.createContext(null);nf.displayName="RouteError";function m1(i,{relative:e}={}){Ze(ho(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=L.useContext(Ln),{hash:r,pathname:o,search:c}=fo(i,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ci([t,o])),s.createHref({pathname:h,search:c,hash:r})}function ho(){return L.useContext(uo)!=null}function di(){return Ze(ho(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(uo).location}var Kv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xv(i){L.useContext(Ln).static||L.useLayoutEffect(i)}function y1(){let{isDataRoute:i}=L.useContext(hi);return i?R1():b1()}function b1(){Ze(ho(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(Da),{basename:e,navigator:t}=L.useContext(Ln),{matches:s}=L.useContext(hi),{pathname:r}=di(),o=JSON.stringify(Gv(s)),c=L.useRef(!1);return Xv(()=>{c.current=!0}),L.useCallback((d,f={})=>{if(Tn(c.current,Kv),!c.current)return;if(typeof d=="number"){t.go(d);return}let m=Vv(d,JSON.parse(o),r,f.relative==="path");i==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ci([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,r,i])}L.createContext(null);function fo(i,{relative:e}={}){let{matches:t}=L.useContext(hi),{pathname:s}=di(),r=JSON.stringify(Gv(t));return L.useMemo(()=>Vv(i,JSON.parse(r),s,e==="path"),[i,r,s,e])}function v1(i,e){return Qv(i,e)}function Qv(i,e,t,s,r){Ze(ho(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=L.useContext(Ln),{matches:c}=L.useContext(hi),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",m=h?h.pathnameBase:"/",b=h&&h.route;{let j=b&&b.path||"";Jv(f,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let v=di(),x;if(e){let j=typeof e=="string"?Na(e):e;Ze(m==="/"||j.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=v;let S=x.pathname||"/",E=S;if(m!=="/"){let j=m.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let w=Iv(i,{pathname:E});Tn(b||w!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Tn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=E1(w&&w.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:ci([m,o.encodeLocation?o.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:ci([m,o.encodeLocation?o.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,t,s,r);return e&&C?L.createElement(uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function _1(){let i=O1(),e=d1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:r},t):null,c)}var x1=L.createElement(_1,null),S1=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(hi.Provider,{value:this.props.routeContext},L.createElement(nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w1({routeContext:i,match:e,children:t}){let s=L.useContext(Da);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(hi.Provider,{value:i},t)}function E1(i,e=[],t=null,s=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,c=t?.errors;if(c!=null){let m=o.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);Ze(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let b=o[m];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(d=m),b.route.id){let{loaderData:v,errors:x}=t,S=b.route.loader&&!v.hasOwnProperty(b.route.id)&&(!x||x[b.route.id]===void 0);if(b.route.lazy||S){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=t&&s?(m,b)=>{s(m,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return o.reduceRight((m,b,v)=>{let x,S=!1,E=null,w=null;t&&(x=c&&b.route.id?c[b.route.id]:void 0,E=b.route.errorElement||x1,h&&(d<0&&v===0?(Jv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,w=null):d===v&&(S=!0,w=b.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,v+1)),j=()=>{let A;return x?A=E:S?A=w:b.route.Component?A=L.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=m,L.createElement(w1,{match:b,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:A})};return t&&(b.route.ErrorBoundary||b.route.errorElement||v===0)?L.createElement(S1,{location:t.location,revalidation:t.revalidation,component:E,error:x,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:f}):j()},null)}function sf(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(i){let e=L.useContext(Da);return Ze(e,sf(i)),e}function C1(i){let e=L.useContext(Mc);return Ze(e,sf(i)),e}function j1(i){let e=L.useContext(hi);return Ze(e,sf(i)),e}function af(i){let e=j1(i),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function A1(){return af("useRouteId")}function O1(){let i=L.useContext(nf),e=C1("useRouteError"),t=af("useRouteError");return i!==void 0?i:e.errors?.[t]}function R1(){let{router:i}=T1("useNavigate"),e=af("useNavigate"),t=L.useRef(!1);return Xv(()=>{t.current=!0}),L.useCallback(async(r,o={})=>{Tn(t.current,Kv),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...o}))},[i,e])}var Wy={};function Jv(i,e,t){!e&&!Wy[i]&&(Wy[i]=!0,Tn(!1,t))}L.memo(M1);function M1({routes:i,future:e,state:t,unstable_onError:s}){return Qv(i,void 0,t,s,e)}function ac(i){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k1({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:r,static:o=!1}){Ze(!ho(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof t=="string"&&(t=Na(t));let{pathname:d="/",search:f="",hash:m="",state:b=null,key:v="default"}=t,x=L.useMemo(()=>{let S=ui(d,c);return S==null?null:{location:{pathname:S,search:f,hash:m,state:b,key:v},navigationType:s}},[c,d,f,m,b,v,s]);return Tn(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Ln.Provider,{value:h},L.createElement(uo.Provider,{children:e,value:x}))}function N1({children:i,location:e}){return v1(Od(i),e)}function Od(i,e=[]){let t=[];return L.Children.forEach(i,(s,r)=>{if(!L.isValidElement(s))return;let o=[...e,r];if(s.type===L.Fragment){t.push.apply(t,Od(s.props.children,o));return}Ze(s.type===ac,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Od(s.props.children,o)),t.push(c)}),t}var rc="get",oc="application/x-www-form-urlencoded";function kc(i){return i!=null&&typeof i.tagName=="string"}function D1(i){return kc(i)&&i.tagName.toLowerCase()==="button"}function P1(i){return kc(i)&&i.tagName.toLowerCase()==="form"}function L1(i){return kc(i)&&i.tagName.toLowerCase()==="input"}function z1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function B1(i,e){return i.button===0&&(!e||e==="_self")&&!z1(i)}var Dl=null;function U1(){if(Dl===null)try{new FormData(document.createElement("form"),0),Dl=!1}catch{Dl=!0}return Dl}var H1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(i){return i!=null&&!H1.has(i)?(Tn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):i}function F1(i,e){let t,s,r,o,c;if(P1(i)){let h=i.getAttribute("action");s=h?ui(h,e):null,t=i.getAttribute("method")||rc,r=od(i.getAttribute("enctype"))||oc,o=new FormData(i)}else if(D1(i)||L1(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=i.getAttribute("formaction")||h.getAttribute("action");if(s=d?ui(d,e):null,t=i.getAttribute("formmethod")||h.getAttribute("method")||rc,r=od(i.getAttribute("formenctype"))||od(h.getAttribute("enctype"))||oc,o=new FormData(h,i),!U1()){let{name:f,type:m,value:b}=i;if(m==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,b)}}else{if(kc(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=rc,s=null,r=oc,c=i}return o&&r==="text/plain"&&(c=o,o=void 0),{action:s,method:t.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rf(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function I1(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ui(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function q1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function G1(i,e,t){let s=await Promise.all(i.map(async r=>{let o=e.routes[r.route.id];if(o){let c=await q1(o,t);return c.links?c.links():[]}return[]}));return K1(s.flat(1).filter($1).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Ky(i,e,t,s,r,o){let c=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>t[f].pathname!==d.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>c(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{let m=s.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function V1(i,e,{includeHydrateFallback:t}={}){return Y1(i.map(s=>{let r=e.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function Y1(i){return[...new Set(i)]}function W1(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function K1(i,e){let t=new Set;return new Set(e),i.reduce((s,r)=>{let o=JSON.stringify(W1(r));return t.has(o)||(t.add(o),s.push({key:o,link:r})),s},[])}function Zv(){let i=L.useContext(Da);return rf(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function X1(){let i=L.useContext(Mc);return rf(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var of=L.createContext(void 0);of.displayName="FrameworkContext";function e0(){let i=L.useContext(of);return rf(i,"You must render this element inside a <HydratedRouter> element"),i}function Q1(i,e){let t=L.useContext(of),[s,r]=L.useState(!1),[o,c]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:b}=e,v=L.useRef(null);L.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let E=C=>{C.forEach(j=>{c(j.isIntersecting)})},w=new IntersectionObserver(E,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[i]),L.useEffect(()=>{if(s){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[s]);let x=()=>{r(!0)},S=()=>{r(!1),c(!1)};return t?i!=="intent"?[o,v,{}]:[o,v,{onFocus:Nr(h,x),onBlur:Nr(d,S),onMouseEnter:Nr(f,x),onMouseLeave:Nr(m,S),onTouchStart:Nr(b,x)}]:[!1,v,{}]}function Nr(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function J1({page:i,...e}){let{router:t}=Zv(),s=L.useMemo(()=>Iv(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?L.createElement(eE,{page:i,matches:s,...e}):null}function Z1(i){let{manifest:e,routeModules:t}=e0(),[s,r]=L.useState([]);return L.useEffect(()=>{let o=!1;return G1(i,e,t).then(c=>{o||r(c)}),()=>{o=!0}},[i,e,t]),s}function eE({page:i,matches:e,...t}){let s=di(),{manifest:r,routeModules:o}=e0(),{basename:c}=Zv(),{loaderData:h,matches:d}=X1(),f=L.useMemo(()=>Ky(i,e,d,r,s,"data"),[i,e,d,r,s]),m=L.useMemo(()=>Ky(i,e,d,r,s,"assets"),[i,e,d,r,s]),b=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let S=new Set,E=!1;if(e.forEach(C=>{let j=r.routes[C.route.id];!j||!j.hasLoader||(!f.some(A=>A.route.id===C.route.id)&&C.route.id in h&&o[C.route.id]?.shouldRevalidate||j.hasClientLoader?E=!0:S.add(C.route.id))}),S.size===0)return[];let w=I1(i,c,"data");return E&&S.size>0&&w.searchParams.set("_routes",e.filter(C=>S.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[c,h,s,r,f,e,i,o]),v=L.useMemo(()=>V1(m,r),[m,r]),x=Z1(m);return L.createElement(L.Fragment,null,b.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),v.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),x.map(({key:S,link:E})=>L.createElement("link",{key:S,nonce:t.nonce,...E})))}function tE(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var t0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t0&&(window.__reactRouterVersion="7.9.6")}catch{}function nE({basename:i,children:e,window:t}){let s=L.useRef();s.current==null&&(s.current=Iw({window:t,v5Compat:!0}));let r=s.current,[o,c]=L.useState({action:r.action,location:r.location}),h=L.useCallback(d=>{L.startTransition(()=>c(d))},[c]);return L.useLayoutEffect(()=>r.listen(h),[r,h]),L.createElement(k1,{basename:i,children:e,location:o.location,navigationType:o.action,navigator:r})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=L.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:r,reloadDocument:o,replace:c,state:h,target:d,to:f,preventScrollReset:m,viewTransition:b,...v},x){let{basename:S}=L.useContext(Ln),E=typeof f=="string"&&n0.test(f),w,C=!1;if(typeof f=="string"&&E&&(w=f,t0))try{let I=new URL(window.location.href),ie=f.startsWith("//")?new URL(I.protocol+f):new URL(f),Y=ui(ie.pathname,S);ie.origin===I.origin&&Y!=null?f=Y+ie.search+ie.hash:C=!0}catch{Tn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=m1(f,{relative:r}),[A,N,k]=Q1(s,v),z=rE(f,{replace:c,state:h,target:d,preventScrollReset:m,relative:r,viewTransition:b});function P(I){e&&e(I),I.defaultPrevented||z(I)}let J=L.createElement("a",{...v,...k,href:w||j,onClick:C||o?e:P,ref:tE(x,N),target:d,"data-discover":!E&&t==="render"?"true":void 0});return A&&!E?L.createElement(L.Fragment,null,J,L.createElement(J1,{page:j})):J});Yr.displayName="Link";var iE=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:r=!1,style:o,to:c,viewTransition:h,children:d,...f},m){let b=fo(c,{relative:f.relative}),v=di(),x=L.useContext(Mc),{navigator:S,basename:E}=L.useContext(Ln),w=x!=null&&hE(b)&&h===!0,C=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,j=v.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(j=j.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&E&&(A=ui(A,E)||A);const N=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=j===C||!r&&j.startsWith(C)&&j.charAt(N)==="/",z=A!=null&&(A===C||!r&&A.startsWith(C)&&A.charAt(C.length)==="/"),P={isActive:k,isPending:z,isTransitioning:w},J=k?e:void 0,I;typeof s=="function"?I=s(P):I=[s,k?"active":null,z?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ie=typeof o=="function"?o(P):o;return L.createElement(Yr,{...f,"aria-current":J,className:I,ref:m,style:ie,to:c,viewTransition:h},typeof d=="function"?d(P):d)});iE.displayName="NavLink";var sE=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:r,state:o,method:c=rc,action:h,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:b,...v},x)=>{let S=cE(),E=uE(h,{relative:f}),w=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&n0.test(h),j=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let N=A.nativeEvent.submitter,k=N?.getAttribute("formmethod")||c;S(N||A.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:b})};return L.createElement("form",{ref:x,method:w,action:E,onSubmit:s?d:j,...v,"data-discover":!C&&i==="render"?"true":void 0})});sE.displayName="Form";function aE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(i){let e=L.useContext(Da);return Ze(e,aE(i)),e}function rE(i,{target:e,replace:t,state:s,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=y1(),d=di(),f=fo(i,{relative:o});return L.useCallback(m=>{if(B1(m,e)){m.preventDefault();let b=t!==void 0?t:Jr(d)===Jr(f);h(i,{replace:b,state:s,preventScrollReset:r,relative:o,viewTransition:c})}},[d,h,f,t,s,e,i,r,o,c])}var oE=0,lE=()=>`__${String(++oE)}__`;function cE(){let{router:i}=i0("useSubmit"),{basename:e}=L.useContext(Ln),t=A1();return L.useCallback(async(s,r={})=>{let{action:o,method:c,encType:h,formData:d,body:f}=F1(s,e);if(r.navigate===!1){let m=r.fetcherKey||lE();await i.fetch(m,t,r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await i.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:d,body:f,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function uE(i,{relative:e}={}){let{basename:t}=L.useContext(Ln),s=L.useContext(hi);Ze(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...fo(i||".",{relative:e})},c=di();if(i==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(b=>b).forEach(b=>h.append("index",b));let m=h.toString();o.search=m?`?${m}`:""}}return(!i||i===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ci([t,o.pathname])),Jr(o)}function hE(i,{relative:e}={}){let t=L.useContext(Wv);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i0("useViewTransitionState"),r=fo(i,{relative:e});if(!t.isTransitioning)return!1;let o=ui(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=ui(t.nextLocation.pathname,s)||t.nextLocation.pathname;return gc(r.pathname,c)!=null||gc(r.pathname,o)!=null}const dE=()=>{const i=di(),e=t=>i.pathname===t;return y.jsx("nav",{style:{background:"#020617",borderBottom:"1px solid #1f2937",padding:"0 24px"},children:y.jsxs("div",{style:{maxWidth:1400,margin:"0 auto",display:"flex",gap:8},children:[y.jsx(Yr,{to:"/",style:{padding:"16px 20px",textDecoration:"none",color:e("/")?"#38bdf8":"#e5e7eb",borderBottom:e("/")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Create Invoice"}),y.jsx(Yr,{to:"/preview",style:{padding:"16px 20px",textDecoration:"none",color:e("/preview")?"#38bdf8":"#e5e7eb",borderBottom:e("/preview")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Preview"}),y.jsx(Yr,{to:"/dashboard",style:{padding:"16px 20px",textDecoration:"none",color:e("/dashboard")?"#38bdf8":"#e5e7eb",borderBottom:e("/dashboard")?"2px solid #38bdf8":"2px solid transparent",fontSize:14,fontWeight:500,transition:"all 0.2s"},children:"Dashboard"})]})})};var ni={},Pl={},Rd=function(i,e){return Rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r])},Rd(i,e)};function s0(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rd(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var pc=function(){return pc=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},pc.apply(this,arguments)};function Pa(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(t[s[r]]=i[s[r]]);return t}function a0(i,e,t,s){var r=arguments.length,o=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,t):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,e,t,s);else for(var h=i.length-1;h>=0;h--)(c=i[h])&&(o=(r<3?c(o):r>3?c(e,t,o):c(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function r0(i,e){return function(t,s){e(t,s,i)}}function o0(i,e,t,s,r,o){function c(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var h=s.kind,d=h==="getter"?"get":h==="setter"?"set":"value",f=!e&&i?s.static?i:i.prototype:null,m=e||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),b,v=!1,x=t.length-1;x>=0;x--){var S={};for(var E in s)S[E]=E==="access"?{}:s[E];for(var E in s.access)S.access[E]=s.access[E];S.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(c(C||null))};var w=(0,t[x])(h==="accessor"?{get:m.get,set:m.set}:m[d],S);if(h==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(b=c(w.get))&&(m.get=b),(b=c(w.set))&&(m.set=b),(b=c(w.init))&&r.unshift(b)}else(b=c(w))&&(h==="field"?r.unshift(b):m[d]=b)}f&&Object.defineProperty(f,s.name,m),v=!0}function l0(i,e,t){for(var s=arguments.length>2,r=0;r<e.length;r++)t=s?e[r].call(i,t):e[r].call(i);return s?t:void 0}function c0(i){return typeof i=="symbol"?i:"".concat(i)}function u0(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function h0(i,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,e)}function ue(i,e,t,s){function r(o){return o instanceof t?o:new t(function(c){c(o)})}return new(t||(t=Promise))(function(o,c){function h(m){try{f(s.next(m))}catch(b){c(b)}}function d(m){try{f(s.throw(m))}catch(b){c(b)}}function f(m){m.done?o(m.value):r(m.value).then(h,d)}f((s=s.apply(i,e||[])).next())})}function d0(i,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,r,o,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(f){return function(m){return d([f,m])}}function d(f){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(s=1,r&&(o=f[0]&2?r.return:f[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,f[1])).done)return o;switch(r=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,r=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){t.label=f[1];break}if(f[0]===6&&t.label<o[1]){t.label=o[1],o=f;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(f);break}o[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(i,t)}catch(m){f=[6,m],r=0}finally{s=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Nc=Object.create?(function(i,e,t,s){s===void 0&&(s=t);var r=Object.getOwnPropertyDescriptor(e,t);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(i,s,r)}):(function(i,e,t,s){s===void 0&&(s=t),i[s]=e[t]});function f0(i,e){for(var t in i)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Nc(e,i,t)}function mc(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],s=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lf(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var s=t.call(i),r,o=[],c;try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(h){c={error:h}}finally{try{r&&!r.done&&(t=s.return)&&t.call(s)}finally{if(c)throw c.error}}return o}function g0(){for(var i=[],e=0;e<arguments.length;e++)i=i.concat(lf(arguments[e]));return i}function p0(){for(var i=0,e=0,t=arguments.length;e<t;e++)i+=arguments[e].length;for(var s=Array(i),r=0,e=0;e<t;e++)for(var o=arguments[e],c=0,h=o.length;c<h;c++,r++)s[r]=o[c];return s}function m0(i,e,t){if(t||arguments.length===2)for(var s=0,r=e.length,o;s<r;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return i.concat(o||Array.prototype.slice.call(e))}function Oa(i){return this instanceof Oa?(this.v=i,this):new Oa(i)}function y0(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(i,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(x){return function(S){return Promise.resolve(S).then(x,b)}}function h(x,S){s[x]&&(r[x]=function(E){return new Promise(function(w,C){o.push([x,E,w,C])>1||d(x,E)})},S&&(r[x]=S(r[x])))}function d(x,S){try{f(s[x](S))}catch(E){v(o[0][3],E)}}function f(x){x.value instanceof Oa?Promise.resolve(x.value.v).then(m,b):v(o[0][2],x)}function m(x){d("next",x)}function b(x){d("throw",x)}function v(x,S){x(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function b0(i){var e,t;return e={},s("next"),s("throw",function(r){throw r}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(r,o){e[r]=i[r]?function(c){return(t=!t)?{value:Oa(i[r](c)),done:!1}:o?o(c):c}:o}}function v0(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof mc=="function"?mc(i):i[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(o){t[o]=i[o]&&function(c){return new Promise(function(h,d){c=i[o](c),r(h,d,c.done,c.value)})}}function r(o,c,h,d){Promise.resolve(d).then(function(f){o({value:f,done:h})},c)}}function _0(i,e){return Object.defineProperty?Object.defineProperty(i,"raw",{value:e}):i.raw=e,i}var fE=Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e},Md=function(i){return Md=Object.getOwnPropertyNames||function(e){var t=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[t.length]=s);return t},Md(i)};function x0(i){if(i&&i.__esModule)return i;var e={};if(i!=null)for(var t=Md(i),s=0;s<t.length;s++)t[s]!=="default"&&Nc(e,i,t[s]);return fE(e,i),e}function S0(i){return i&&i.__esModule?i:{default:i}}function w0(i,e,t,s){if(t==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?s:t==="a"?s.call(i):s?s.value:e.get(i)}function E0(i,e,t,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(i,t):r?r.value=t:e.set(i,t),t}function T0(i,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?e===i:i.has(e)}function C0(i,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],t&&(r=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");r&&(s=function(){try{r.call(this)}catch(o){return Promise.reject(o)}}),i.stack.push({value:e,dispose:s,async:t})}else t&&i.stack.push({async:!0});return e}var gE=typeof SuppressedError=="function"?SuppressedError:function(i,e,t){var s=new Error(t);return s.name="SuppressedError",s.error=i,s.suppressed=e,s};function j0(i){function e(o){i.error=i.hasError?new gE(o,i.error,"An error was suppressed during disposal."):o,i.hasError=!0}var t,s=0;function r(){for(;t=i.stack.pop();)try{if(!t.async&&s===1)return s=0,i.stack.push(t),Promise.resolve().then(r);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return s|=2,Promise.resolve(o).then(r,function(c){return e(c),r()})}else s|=1}catch(c){e(c)}if(s===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return r()}function A0(i,e){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,s,r,o,c){return s?e?".jsx":".js":r&&(!o||!c)?t:r+o+"."+c.toLowerCase()+"js"}):i}const pE={__extends:s0,__assign:pc,__rest:Pa,__decorate:a0,__param:r0,__esDecorate:o0,__runInitializers:l0,__propKey:c0,__setFunctionName:u0,__metadata:h0,__awaiter:ue,__generator:d0,__createBinding:Nc,__exportStar:f0,__values:mc,__read:lf,__spread:g0,__spreadArrays:p0,__spreadArray:m0,__await:Oa,__asyncGenerator:y0,__asyncDelegator:b0,__asyncValues:v0,__makeTemplateObject:_0,__importStar:x0,__importDefault:S0,__classPrivateFieldGet:w0,__classPrivateFieldSet:E0,__classPrivateFieldIn:T0,__addDisposableResource:C0,__disposeResources:j0,__rewriteRelativeImportExtension:A0},mE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:C0,get __assign(){return pc},__asyncDelegator:b0,__asyncGenerator:y0,__asyncValues:v0,__await:Oa,__awaiter:ue,__classPrivateFieldGet:w0,__classPrivateFieldIn:T0,__classPrivateFieldSet:E0,__createBinding:Nc,__decorate:a0,__disposeResources:j0,__esDecorate:o0,__exportStar:f0,__extends:s0,__generator:d0,__importDefault:S0,__importStar:x0,__makeTemplateObject:_0,__metadata:h0,__param:r0,__propKey:c0,__read:lf,__rest:Pa,__rewriteRelativeImportExtension:A0,__runInitializers:l0,__setFunctionName:u0,__spread:g0,__spreadArray:m0,__spreadArrays:p0,__values:mc,default:pE},Symbol.toStringTag,{value:"Module"})),yE=i=>i?(...e)=>i(...e):(...e)=>fetch(...e);let Dc=class extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}},O0=class extends Dc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},kd=class extends Dc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},Nd=class extends Dc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var yc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(yc||(yc={}));class bE{constructor(e,{headers:t={},customFetch:s,region:r=yc.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=yE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return ue(this,arguments,void 0,function*(t,s={}){var r;let o,c;try{const{headers:h,method:d,body:f,signal:m,timeout:b}=s;let v={},{region:x}=s;x||(x=this.region);const S=new URL(`${this.url}/${t}`);x&&x!=="any"&&(v["x-region"]=x,S.searchParams.set("forceFunctionRegion",x));let E;f&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(v["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(v["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let w=m;b&&(c=new AbortController,o=setTimeout(()=>c.abort(),b),m?(w=c.signal,m.addEventListener("abort",()=>c.abort())):w=c.signal);const C=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:E,signal:w}).catch(k=>{throw new O0(k)}),j=C.headers.get("x-relay-error");if(j&&j==="true")throw new kd(C);if(!C.ok)throw new Nd(C);let A=((r=C.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),N;return A==="application/json"?N=yield C.json():A==="application/octet-stream"||A==="application/pdf"?N=yield C.blob():A==="text/event-stream"?N=C:A==="multipart/form-data"?N=yield C.formData():N=yield C.text(),{data:N,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof Nd||h instanceof kd?h.context:void 0}}finally{o&&clearTimeout(o)}})}}const vE=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return yc},FunctionsClient:bE,FunctionsError:Dc,FunctionsFetchError:O0,FunctionsHttpError:Nd,FunctionsRelayError:kd},Symbol.toStringTag,{value:"Module"})),R0=co(vE);var jt={};const La=co(mE);var Ll={},zl={},Bl={},Ul={},Hl={},Fl={},Xy;function M0(){if(Xy)return Fl;Xy=1,Object.defineProperty(Fl,"__esModule",{value:!0});class i extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Fl.default=i,Fl}var Qy;function k0(){if(Qy)return Hl;Qy=1,Object.defineProperty(Hl,"__esModule",{value:!0});const e=La.__importDefault(M0());let t=class{constructor(r){var o,c;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(o=r.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=r.signal,this.isMaybeSingle=(c=r.isMaybeSingle)!==null&&c!==void 0?c:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,o){return this.headers=new Headers(this.headers),this.headers.set(r,o),this}then(r,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,b,v;let x=null,S=null,E=null,w=d.status,C=d.statusText;if(d.ok){if(this.method!=="HEAD"){const k=await d.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?S=k:S=JSON.parse(k))}const A=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),N=(b=d.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");A&&N&&N.length>1&&(E=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(S)&&(S.length>1?(x={code:"PGRST116",details:`Results contain ${S.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},S=null,E=null,w=406,C="Not Acceptable"):S.length===1?S=S[0]:S=null)}else{const A=await d.text();try{x=JSON.parse(A),Array.isArray(x)&&d.status===404&&(S=[],x=null,w=200,C="OK")}catch{d.status===404&&A===""?(w=204,C="No Content"):x={message:A}}if(x&&this.isMaybeSingle&&(!((v=x?.details)===null||v===void 0)&&v.includes("0 rows"))&&(x=null,w=200,C="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:S,count:E,status:w,statusText:C}});return this.shouldThrowOnError||(h=h.catch(d=>{var f,m,b,v,x,S;let E="";const w=d?.cause;if(w){const C=(f=w?.message)!==null&&f!==void 0?f:"",j=(m=w?.code)!==null&&m!==void 0?m:"";E=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,E+=`

Caused by: ${(v=w?.name)!==null&&v!==void 0?v:"Error"}: ${C}`,j&&(E+=` (${j})`),w?.stack&&(E+=`
${w.stack}`)}else E=(x=d?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(r,o)}returns(){return this}overrideTypes(){return this}};return Hl.default=t,Hl}var Jy;function N0(){if(Jy)return Ul;Jy=1,Object.defineProperty(Ul,"__esModule",{value:!0});const e=La.__importDefault(k0());let t=class extends e.default{select(r){let o=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:o=!0,nullsFirst:c,foreignTable:h,referencedTable:d=h}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${r}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:o,referencedTable:c=o}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,o,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"offset":`${h}.offset`,f=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${r}`),this.url.searchParams.set(f,`${o-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:o=!1,settings:c=!1,buffers:h=!1,wal:d=!1,format:f="text"}={}){var m;const b=[r?"analyze":null,o?"verbose":null,c?"settings":null,h?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${v}"; options=${b};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};return Ul.default=t,Ul}var Zy;function cf(){if(Zy)return Bl;Zy=1,Object.defineProperty(Bl,"__esModule",{value:!0});const e=La.__importDefault(N0()),t=new RegExp("[,()]");let s=class extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}regexMatch(o,c){return this.url.searchParams.append(o,`match.${c}`),this}regexIMatch(o,c){return this.url.searchParams.append(o,`imatch.${c}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}isDistinct(o,c){return this.url.searchParams.append(o,`isdistinct.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&t.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${f}fts${m}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}};return Bl.default=s,Bl}var eb;function D0(){if(eb)return zl;eb=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=La.__importDefault(cf());let t=class{constructor(r,{headers:o={},schema:c,fetch:h}){this.url=r,this.headers=new Headers(o),this.schema=c,this.fetch=h}select(r,o){const{head:c=!1,count:h}=o??{},d=c?"HEAD":"GET";let f=!1;const m=(r??"*").split("").map(b=>/\s/.test(b)&&!f?"":(b==='"'&&(f=!f),b)).join("");return this.url.searchParams.set("select",m),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:o,defaultToNull:c=!0}={}){var h;const d="POST";if(o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(f.length>0){const m=[...new Set(f)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(r,{onConflict:o,ignoreDuplicates:c=!1,count:h,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),h&&this.headers.append("Prefer",`count=${h}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const b=r.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(b.length>0){const v=[...new Set(b)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(r,{count:o}={}){var c;const h="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var o;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};return zl.default=t,zl}var tb;function _E(){if(tb)return Ll;tb=1,Object.defineProperty(Ll,"__esModule",{value:!0});const i=La,e=i.__importDefault(D0()),t=i.__importDefault(cf());let s=class P0{constructor(o,{headers:c={},schema:h,fetch:d}={}){this.url=o,this.headers=new Headers(c),this.schemaName=h,this.fetch=d}from(o){if(!o||typeof o!="string"||o.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${o}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new P0(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,c={},{head:h=!1,get:d=!1,count:f}={}){var m;let b;const v=new URL(`${this.url}/rpc/${o}`);let x;h||d?(b=h?"HEAD":"GET",Object.entries(c).filter(([E,w])=>w!==void 0).map(([E,w])=>[E,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([E,w])=>{v.searchParams.append(E,w)})):(b="POST",x=c);const S=new Headers(this.headers);return f&&S.set("Prefer",`count=${f}`),new t.default({method:b,url:v,headers:S,schema:this.schemaName,body:x,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};return Ll.default=s,Ll}var nb;function L0(){if(nb)return jt;nb=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const i=La,e=i.__importDefault(_E());jt.PostgrestClient=e.default;const t=i.__importDefault(D0());jt.PostgrestQueryBuilder=t.default;const s=i.__importDefault(cf());jt.PostgrestFilterBuilder=s.default;const r=i.__importDefault(N0());jt.PostgrestTransformBuilder=r.default;const o=i.__importDefault(k0());jt.PostgrestBuilder=o.default;const c=i.__importDefault(M0());return jt.PostgrestError=c.default,jt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:o.default,PostgrestError:c.default},jt}class z0{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,r=parseInt(s.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const xE="2.87.1",SE=`realtime-js/${xE}`,B0="1.0.0",wE="2.0.0",ib=B0,Dd=1e4,EE=1e3,TE=100;var ws;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ws||(ws={}));var dt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(dt||(dt={}));var wn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(wn||(wn={}));var Pd;(function(i){i.websocket="websocket"})(Pd||(Pd={}));var Es;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Es||(Es={}));class CE{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,s;const r=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,s;const r=(s=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&s!==void 0?s:{},c=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,t,s){var r,o;const c=e.topic,h=(r=e.ref)!==null&&r!==void 0?r:"",d=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},b=Object.keys(m).length===0?"":JSON.stringify(m);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+h.length+c.length+f.length+b.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(x),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,d.length),S.setUint8(E++,h.length),S.setUint8(E++,c.length),S.setUint8(E++,f.length),S.setUint8(E++,b.length),S.setUint8(E++,t),Array.from(d,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(c,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(b,C=>S.setUint8(E++,C.charCodeAt(0)));var w=new Uint8Array(x.byteLength+s.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(s),x.byteLength),w.buffer}decode(e,t){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return t(s)}if(typeof e=="string"){const s=JSON.parse(e),[r,o,c,h,d]=s;return t({join_ref:r,ref:o,topic:c,event:h,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),s=t.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,s){const r=t.getUint8(1),o=t.getUint8(2),c=t.getUint8(3),h=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=s.decode(e.slice(d,d+r));d=d+r;const m=s.decode(e.slice(d,d+o));d=d+o;const b=s.decode(e.slice(d,d+c));d=d+c;const v=e.slice(d,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(s.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:x};return c>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([s])=>t.includes(s)))}}class U0{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ve||(Ve={}));const sb=(i,e,t={})=>{var s;const r=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=jE(c,i,e,r),o),{}):{}},jE=(i,e,t,s)=>{const r=e.find(h=>h.name===i),o=r?.type,c=t[i];return o&&!s.includes(o)?H0(o,c):Ld(c)},H0=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return ME(e,t)}switch(i){case Ve.bool:return AE(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return OE(e);case Ve.json:case Ve.jsonb:return RE(e);case Ve.timestamp:return kE(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return Ld(e);default:return Ld(e)}},Ld=i=>i,AE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},OE=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},RE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},ME=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,s=i[t];if(i[0]==="{"&&s==="}"){let o;const c=i.slice(1,t);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>H0(e,h))}return i},kE=i=>typeof i=="string"?i.replace(" ","T"):i,F0=i=>{const e=new URL(i);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ld{constructor(e,t,s={},r=Dd){this.channel=e,this.event=t,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zd;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(zd||(zd={}));let I0=class lc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,r,o,c),this.pendingDiffs.forEach(d=>{this.state=lc.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},r=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=lc.syncDiff(this.state,r,o,c),h())}),this.onJoin((r,o,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:o,newPresences:c})}),this.onLeave((r,o,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,r){const o=this.cloneDeep(e),c=this.transformState(t),h={},d={};return this.map(o,(f,m)=>{c[f]||(d[f]=m)}),this.map(c,(f,m)=>{const b=o[f];if(b){const v=m.map(w=>w.presence_ref),x=b.map(w=>w.presence_ref),S=m.filter(w=>x.indexOf(w.presence_ref)<0),E=b.filter(w=>v.indexOf(w.presence_ref)<0);S.length>0&&(h[f]=S),E.length>0&&(d[f]=E)}else h[f]=m}),this.syncDiff(o,{joins:h,leaves:d},s,r)}static syncDiff(e,t,s,r){const{joins:o,leaves:c}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(o,(h,d)=>{var f;const m=(f=e[h])!==null&&f!==void 0?f:[];if(e[h]=this.cloneDeep(d),m.length>0){const b=e[h].map(x=>x.presence_ref),v=m.filter(x=>b.indexOf(x.presence_ref)<0);e[h].unshift(...v)}s(h,m,d)}),this.map(c,(h,d)=>{let f=e[h];if(!f)return;const m=d.map(b=>b.presence_ref);f=f.filter(b=>m.indexOf(b.presence_ref)<0),e[h]=f,r(h,f,d),f.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const r=e[s];return"metas"in r?t[s]=r.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[s]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Bd;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Bd||(Bd={}));var Ta;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ta||(Ta={}));var Dn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));const NE=dt;let q0=class Fr{constructor(e,t={config:{}},s){var r,o;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ld(this,wn.join,this.params,this.timeout),this.rejoinTimer=new U0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=dt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wn.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new I0(this),this.broadcastEndpointURL=F0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==dt.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params,f=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&r!==void 0?r:[],m=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},v={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(Dn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(Dn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(Dn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,w=(S=E?.length)!==null&&S!==void 0?S:0,C=[];for(let j=0;j<w;j++){const A=E[j],{filter:{event:N,schema:k,table:z,filter:P}}=A,J=x&&x[j];if(J&&J.event===N&&Fr.isFilterValueEqual(J.schema,k)&&Fr.isFilterValueEqual(J.table,z)&&Fr.isFilterValueEqual(J.filter,P))C.push(Object.assign(Object.assign({},A),{id:J.id}));else{this.unsubscribe(),this.state=dt.errored,e?.(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,e&&e(Dn.SUBSCRIBED);return}}).receive("error",x=>{this.state=dt.errored,e?.(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===dt.joined&&e===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,s)}async httpSend(e,t,s={}){var r;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(h.status===202)return{success:!0};let d=h.statusText;try{const f=await h.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var s,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=f.body)===null||r===void 0?void 0:r.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=dt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new ld(this,wn.leave,{},e),s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=dt.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const r=new AbortController,o=setTimeout(()=>r.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(o),c}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ld(this,e,t,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>TE){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var r,o;const c=e.toLocaleLowerCase(),{close:h,error:d,leave:f,join:m}=wn;if(s&&[h,d,f,m].indexOf(c)>=0&&s!==this._joinRef())return;let v=this._onMessage(c,t,s);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var S,E,w;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((w=(E=x.filter)===null||E===void 0?void 0:E.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===c}).map(x=>x.callback(v,s)):(o=this.bindings[c])===null||o===void 0||o.filter(x=>{var S,E,w,C,j,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const N=x.id,k=(S=x.filter)===null||S===void 0?void 0:S.event;return N&&((E=t.ids)===null||E===void 0?void 0:E.includes(N))&&(k==="*"||k?.toLocaleLowerCase()===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const N=(j=(C=x?.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return N==="*"||N===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:E,table:w,commit_timestamp:C,type:j,errors:A}=S;v=Object.assign(Object.assign({},{schema:E,table:w,commit_timestamp:C,eventType:j,new:{},old:{},errors:A}),this._getPayloadRecords(S))}x.callback(v,s)})}_isClosed(){return this.state===dt.closed}_isJoined(){return this.state===dt.joined}_isJoining(){return this.state===dt.joining}_isLeaving(){return this.state===dt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const r=e.toLocaleLowerCase(),o={type:r,filter:t,callback:s};return this.bindings[r]?this.bindings[r].push(o):this.bindings[r]=[o],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var o;return!(((o=r.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&Fr.isEqual(r.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wn.close,{},e)}_onError(e){this._on(wn.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=dt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=sb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=sb(e.columns,e.old_record)),t}};const cd=()=>{},Il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DE=[1e3,2e3,5e3,1e4],PE=1e4,LE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let zE=class{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dd,this.transport=null,this.heartbeatIntervalMs=Il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cd,this.ref=0,this.reconnectTimer=null,this.vsn=ib,this.logger=cd,this.conn=null,this.sendBuffer=[],this.serializer=new CE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...o)=>r(...o):(...o)=>fetch(...o),!(!((s=t?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Pd.websocket}`,this.httpEndpoint=F0(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ws.connecting:return Es.Connecting;case ws.open:return Es.Open;case ws.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,r=this.getChannels().find(o=>o.topic===s);if(r)return r;{const o=new q0(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:s,payload:r,ref:o}=e,c=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${t} ${s} (${o})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(EE,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Il.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:r,payload:o,ref:c}=t,h=c?`(${c})`:"",d=o.status||"";this.log("receive",`${d} ${s} ${r} ${h}`.trim(),o),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(r,o,c)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ws.open||this.conn.readyState===ws.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(wn.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return`${e}${s}${r}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([LE],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,s=!1;if(e)t=e,s=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),t=this.accessTokenValue}else t=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:SE};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(wn.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new U0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,r,o,c,h,d,f,m,b,v,x;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Dd,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:Il.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:cd,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:ib,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>DE[S-1]||PE),this.vsn){case B0:this.encode=(m=e?.encode)!==null&&m!==void 0?m:((S,E)=>E(JSON.stringify(S))),this.decode=(b=e?.decode)!==null&&b!==void 0?b:((S,E)=>E(JSON.parse(S)));break;case wE:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const BE=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:NE,get REALTIME_LISTEN_TYPES(){return Ta},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return Bd},get REALTIME_PRESENCE_LISTEN_EVENTS(){return zd},get REALTIME_SUBSCRIBE_STATES(){return Dn},RealtimeChannel:q0,RealtimeClient:zE,RealtimePresence:I0,WebSocketFactory:z0},Symbol.toStringTag,{value:"Module"})),$0=co(BE);class go extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Je(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class G0 extends go{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bc extends go{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const uf=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),UE=()=>Response,Ud=i=>{if(Array.isArray(i))return i.map(t=>Ud(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,s])=>{const r=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[r]=Ud(s)}),e},HE=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},FE=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i),ud=i=>{var e;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(e=i.error)===null||e===void 0?void 0:e.message)||JSON.stringify(i)},IE=(i,e,t)=>ue(void 0,void 0,void 0,function*(){const s=yield UE();i instanceof s&&!t?.noResolveJson?i.json().then(r=>{const o=i.status||500,c=r?.statusCode||o+"";e(new G0(ud(r),o,c))}).catch(r=>{e(new bc(ud(r),r))}):e(new bc(ud(i),i))}),qE=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"||!s?r:(HE(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,e?.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),t))};function po(i,e,t,s,r,o){return ue(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,qE(e,s,r,o)).then(d=>{if(!d.ok)throw d;return s?.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>IE(d,h,s))})})}function Zr(i,e,t,s){return ue(this,void 0,void 0,function*(){return po(i,"GET",e,t,s)})}function Sn(i,e,t,s,r){return ue(this,void 0,void 0,function*(){return po(i,"POST",e,s,r,t)})}function Hd(i,e,t,s,r){return ue(this,void 0,void 0,function*(){return po(i,"PUT",e,s,r,t)})}function $E(i,e,t,s){return ue(this,void 0,void 0,function*(){return po(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function hf(i,e,t,s,r){return ue(this,void 0,void 0,function*(){return po(i,"DELETE",e,s,r,t)})}class GE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return ue(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}var V0;class VE{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[V0]="BlobDownloadBuilder",this.promise=null}asStream(){return new GE(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ue(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Je(e))return{data:null,error:e};throw e}})}}V0=Symbol.toStringTag;const YE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ab={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WE{constructor(e,t={},s,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=uf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,r){return ue(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},ab),r);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),d&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(d))):(o=s,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),r?.headers&&(h=Object.assign(Object.assign({},h),r.headers));const f=this._removeEmptyFolders(t),m=this._getFinalPath(f),b=yield(e=="PUT"?Hd:Sn)(this.fetch,`${this.url}/object/${m}`,o,Object.assign({headers:h},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:b.Id,fullPath:b.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Je(o))return{data:null,error:o};throw o}})}upload(e,t,s){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,r){return ue(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:ab.upsert},r),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",s)):typeof FormData<"u"&&s instanceof FormData?(d=s,d.append("cacheControl",f.cacheControl)):(d=s,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const b=yield Hd(this.fetch,h.toString(),d,{headers:m});return{data:{path:o,fullPath:b.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Je(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return ue(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const r=Object.assign({},this.headers);t?.upsert&&(r["x-upsert"]="true");const o=yield Sn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:r}),c=new URL(this.url+o.url),h=c.searchParams.get("token");if(!h)throw new go("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}update(e,t,s){return ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return ue(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}copy(e,t,s){return ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Sn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,s){return ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),o=yield Sn(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,s){return ue(this,void 0,void 0,function*(){try{const r=yield Sn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(e),d=()=>Zr(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new VE(d,this.shouldThrowOnError)}info(e){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield Zr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Ud(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}exists(e){return ue(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield $E(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s)&&s instanceof bc){const r=s.originalError;if([400,404].includes(r?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),r=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const h=typeof t?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(t?.transform||{});d!==""&&r.push(d);let f=r.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${f}`)}}}remove(e){return ue(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}list(e,t,s){return ue(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},YE),t),{prefix:e||""});return{data:yield Sn(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}listV2(e,t){return ue(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Sn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Y0="2.87.1",W0={"X-Client-Info":`storage-js/${Y0}`};class KE{constructor(e,t={},s,r){this.shouldThrowOnError=!1;const o=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),t),this.fetch=uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Zr(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Zr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}createBucket(e){return ue(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Je(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return ue(this,void 0,void 0,function*(){try{return{data:yield Hd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Je(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}var eo=class extends Error{constructor(i,e){super(i),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function XE(i,e,t){const s=new URL(e,i);if(t)for(const[r,o]of Object.entries(t))o!==void 0&&s.searchParams.set(r,o);return s.toString()}async function QE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function JE(i){const e=i.fetchImpl??globalThis.fetch;return{async request({method:t,path:s,query:r,body:o,headers:c}){const h=XE(i.baseUrl,s,r),d=await QE(i.auth),f=await e(h,{method:t,headers:{...o?{"Content-Type":"application/json"}:{},...d,...c},body:o?JSON.stringify(o):void 0}),m=await f.text(),b=(f.headers.get("content-type")||"").includes("application/json"),v=b&&m?JSON.parse(m):m;if(!f.ok){const x=b?v:void 0,S=x?.error;throw new eo(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:x})}return{status:f.status,headers:f.headers,data:v}}}}function ql(i){return i.join("")}var ZE=class{constructor(i,e=""){this.client=i,this.prefix=e}async listNamespaces(i){const e=i?{parent:ql(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(i,e){const t={namespace:i.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ql(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ql(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ql(i.namespace)}`}),!0}catch(e){if(e instanceof eo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(i,e){try{return await this.createNamespace(i,e)}catch(t){if(t instanceof eo&&t.status===409)return;throw t}}};function ma(i){return i.join("")}var eT=class{constructor(i,e="",t){this.client=i,this.prefix=e,this.accessDelegation=t}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables`})).data.identifiers}async createTable(i,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(i,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(i,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(i){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,headers:e})).data.metadata}async tableExists(i){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ma(i.namespace)}/tables/${i.name}`,headers:e}),!0}catch(t){if(t instanceof eo&&t.status===404)return!1;throw t}}async createTableIfNotExists(i,e){try{return await this.createTable(i,e)}catch(t){if(t instanceof eo&&t.status===409)return await this.loadTable({namespace:i.namespace,name:e.name});throw t}}},tT=class{constructor(i){let e="v1";i.catalogName&&(e+=`/${i.catalogName}`);const t=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=JE({baseUrl:t,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new ZE(this.client,e),this.tableOps=new eT(this.client,e,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,e){return this.namespaceOps.createNamespace(i,e)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,e){return this.tableOps.createTable(i,e)}async updateTable(i,e){return this.tableOps.updateTable(i,e)}async dropTable(i,e){await this.tableOps.dropTable(i,e)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,e){return this.namespaceOps.createNamespaceIfNotExists(i,e)}async createTableIfNotExists(i,e){return this.tableOps.createTableIfNotExists(i,e)}};class K0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},W0),t),this.fetch=uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield Sn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}listBuckets(e){return ue(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const s=t.toString(),r=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Zr(this.fetch,r,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Je(t))return{data:null,error:t};throw t}})}from(e){if(!FE(e))throw new go("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new tT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>ue(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(t,{get(o,c){const h=o[c];return typeof h!="function"?h:(...d)=>ue(this,void 0,void 0,function*(){try{return{data:yield h.apply(o,d),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}})}})}}const df={"X-Client-Info":`storage-js/${Y0}`,"Content-Type":"application/json"};class ff extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function It(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}class cc extends ff{constructor(e,t,s){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class X0 extends ff{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var Fd;(function(i){i.InternalError="InternalError",i.S3VectorConflictException="S3VectorConflictException",i.S3VectorNotFoundException="S3VectorNotFoundException",i.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",i.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",i.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fd||(Fd={}));const Pc=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),nT=()=>Response,Q0=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},iT=i=>Array.from(new Float32Array(i)),sT=(i,e)=>{if(e!==void 0&&i.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${i.float32.length}`)},rb=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),aT=(i,e,t)=>ue(void 0,void 0,void 0,function*(){if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!t?.noResolveJson){const r=i.status||500,o=i;if(typeof o.json=="function")o.json().then(c=>{const h=c?.statusCode||c?.code||r+"";e(new cc(rb(c),r,h))}).catch(()=>{const c=r+"",h=o.statusText||`HTTP ${r} error`;e(new cc(h,r,c))});else{const c=r+"",h=o.statusText||`HTTP ${r} error`;e(new cc(h,r,c))}}else e(new X0(rb(i),i))}),rT=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return s?(Q0(s)?(r.headers=Object.assign({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(s)):r.body=s,Object.assign(Object.assign({},r),t)):r};function oT(i,e,t,s,r,o){return ue(this,void 0,void 0,function*(){return new Promise((c,h)=>{i(t,rT(e,s,r,o)).then(d=>{if(!d.ok)throw d;if(s?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>c(d)).catch(d=>aT(d,h,s))})})}function tn(i,e,t,s,r){return ue(this,void 0,void 0,function*(){return oT(i,"POST",e,s,r,t)})}class J0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getIndex(e,t){return ue(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}listIndexes(e){return ue(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return ue(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}})}}class Z0{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}listVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield tn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}queryVectors(e){return ue(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}deleteVectors(e){return ue(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}class e_{constructor(e,t={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},df),t),this.fetch=Pc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}getBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:yield tn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}listBuckets(){return ue(this,arguments,void 0,function*(e={}){try{return{data:yield tn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}deleteBucket(e){return ue(this,void 0,void 0,function*(){try{return{data:(yield tn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(It(t))return{data:null,error:t};throw t}})}}class t_ extends e_{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new n_(this.url,this.headers,e,this.fetch)}createBucket(e){const t=Object.create(null,{createBucket:{get:()=>super.createBucket}});return ue(this,void 0,void 0,function*(){return t.createBucket.call(this,e)})}getBucket(e){const t=Object.create(null,{getBucket:{get:()=>super.getBucket}});return ue(this,void 0,void 0,function*(){return t.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return ue(this,arguments,void 0,function*(t={}){return e.listBuckets.call(this,t)})}deleteBucket(e){const t=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return ue(this,void 0,void 0,function*(){return t.deleteBucket.call(this,e)})}}class n_ extends J0{constructor(e,t,s,r){super(e,t,r),this.vectorBucketName=s}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ue(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ue(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ue(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ue(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new i_(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class i_ extends Z0{constructor(e,t,s,r,o){super(e,t,o),this.vectorBucketName=s,this.indexName=r}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ue(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ue(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ue(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ue(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ue(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class lT extends KE{constructor(e,t={},s,r){super(e,t,s,r)}from(e){return new WE(this.url,this.headers,e,this.fetch)}get vectors(){return new t_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new K0(this.url+"/iceberg",this.headers,this.fetch)}}const cT=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:K0,StorageApiError:G0,StorageClient:lT,StorageError:go,StorageUnknownError:bc,StorageVectorsApiError:cc,StorageVectorsClient:t_,StorageVectorsError:ff,get StorageVectorsErrorCode(){return Fd},StorageVectorsUnknownError:X0,VectorBucketApi:e_,VectorBucketScope:n_,VectorDataApi:Z0,VectorIndexApi:J0,VectorIndexScope:i_,isPlainObject:Q0,isStorageError:Je,isStorageVectorsError:It,normalizeToFloat32:iT,resolveFetch:Pc,resolveResponse:nT,validateVectorDimension:sT},Symbol.toStringTag,{value:"Module"})),uT=co(cT);var hd={},Dr={},ob;function hT(){return ob||(ob=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.version=void 0,Dr.version="2.87.1"),Dr}var lb;function dT(){return lb||(lb=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_REALTIME_OPTIONS=i.DEFAULT_AUTH_OPTIONS=i.DEFAULT_DB_OPTIONS=i.DEFAULT_GLOBAL_OPTIONS=i.DEFAULT_HEADERS=void 0;const e=hT();let t="";typeof Deno<"u"?t="deno":typeof document<"u"?t="web":typeof navigator<"u"&&navigator.product==="ReactNative"?t="react-native":t="node",i.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${t}/${e.version}`},i.DEFAULT_GLOBAL_OPTIONS={headers:i.DEFAULT_HEADERS},i.DEFAULT_DB_OPTIONS={schema:"public"},i.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i.DEFAULT_REALTIME_OPTIONS={}})(hd)),hd}var dd={},cb;function fT(){return cb||(cb=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.fetchWithAuth=i.resolveHeadersConstructor=i.resolveFetch=void 0;const e=r=>r?(...o)=>r(...o):(...o)=>fetch(...o);i.resolveFetch=e;const t=()=>Headers;i.resolveHeadersConstructor=t;const s=(r,o,c)=>{const h=(0,i.resolveFetch)(c),d=(0,i.resolveHeadersConstructor)();return async(f,m)=>{var b;const v=(b=await o())!==null&&b!==void 0?b:r;let x=new d(m?.headers);return x.has("apikey")||x.set("apikey",r),x.has("Authorization")||x.set("Authorization",`Bearer ${v}`),h(f,Object.assign(Object.assign({},m),{headers:x}))}};i.fetchWithAuth=s})(dd)),dd}var ii={},ub;function gT(){if(ub)return ii;ub=1,Object.defineProperty(ii,"__esModule",{value:!0}),ii.isBrowser=void 0,ii.uuid=i,ii.ensureTrailingSlash=e,ii.applySettingDefaults=s,ii.validateSupabaseUrl=r;function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var c=Math.random()*16|0,h=o=="x"?c:c&3|8;return h.toString(16)})}function e(o){return o.endsWith("/")?o:o+"/"}const t=()=>typeof window<"u";ii.isBrowser=t;function s(o,c){var h,d;const{db:f,auth:m,realtime:b,global:v}=o,{db:x,auth:S,realtime:E,global:w}=c,C={db:Object.assign(Object.assign({},x),f),auth:Object.assign(Object.assign({},S),m),realtime:Object.assign(Object.assign({},E),b),storage:{},global:Object.assign(Object.assign(Object.assign({},w),v),{headers:Object.assign(Object.assign({},(h=w?.headers)!==null&&h!==void 0?h:{}),(d=v?.headers)!==null&&d!==void 0?d:{})}),accessToken:async()=>""};return o.accessToken?C.accessToken=o.accessToken:delete C.accessToken,C}function r(o){const c=o?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return ii}var Pr={};const s_="2.87.1",wa=30*1e3,Id=3,fd=Id*wa,pT="http://localhost:9999",mT="supabase.auth.token",yT={"X-Client-Info":`gotrue-js/${s_}`},qd="X-Supabase-Api-Version",a_={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vT=600*1e3;let Ra=class extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}};function pe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}let r_=class extends Ra{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}};function o_(i){return pe(i)&&i.name==="AuthApiError"}let Hi=class extends Ra{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}},fi=class extends Ra{constructor(e,t,s,r){super(e,s,r),this.name=t,this.status=s}},Ft=class extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function l_(i){return pe(i)&&i.name==="AuthSessionMissingError"}let bs=class extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Ir=class extends fi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},qr=class extends fi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function c_(i){return pe(i)&&i.name==="AuthImplicitGrantRedirectError"}let $d=class extends fi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},vc=class extends fi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}};function uc(i){return pe(i)&&i.name==="AuthRetryableFetchError"}let Gd=class extends fi{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}};function _T(i){return pe(i)&&i.name==="AuthWeakPasswordError"}let _c=class extends fi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hb=` 	
\r=`.split(""),xT=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<hb.length;e+=1)i[hb[e].charCodeAt(0)]=-2;for(let e=0;e<xc.length;e+=1)i[xc[e].charCodeAt(0)]=e;return i})();function db(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(xc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(xc[s]),e.queuedBits-=6}}function u_(i,e,t){const s=xT[i];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function fb(i){const e=[],t=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},o=c=>{ET(c,s,t)};for(let c=0;c<i.length;c+=1)u_(i.charCodeAt(c),r,o);return e.join("")}function ST(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function wT(i,e){for(let t=0;t<i.length;t+=1){let s=i.charCodeAt(t);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(i.charCodeAt(t+1)-56320&65535|r)+65536,t+=1}ST(s,e)}}function ET(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let s=1;s<6;s+=1)if((i>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Ca(i){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};for(let r=0;r<i.length;r+=1)u_(i.charCodeAt(r),t,s);return new Uint8Array(e)}function TT(i){const e=[];return wT(i,t=>e.push(t)),new Uint8Array(e)}function Ts(i){const e=[],t={queue:0,queuedBits:0},s=r=>{e.push(r)};return i.forEach(r=>db(r,t,s)),db(null,t,s),e.join("")}function CT(i){return Math.round(Date.now()/1e3)+i}function jT(){return Symbol("auth-callback")}const Tt=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},h_=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function AT(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((r,o)=>{e[o]=r})}catch{}return t.searchParams.forEach((s,r)=>{e[r]=s}),e}const d_=i=>i?(...e)=>i(...e):(...e)=>fetch(...e),OT=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ea=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},gs=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Et=async(i,e)=>{await i.removeItem(e)};class Lc{constructor(){this.promise=new Lc.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Lc.promiseConstructor=Promise;function gd(i){const e=i.split(".");if(e.length!==3)throw new _c("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!bT.test(e[s]))throw new _c("JWT not in base64url format");return{header:JSON.parse(fb(e[0])),payload:JSON.parse(fb(e[1])),signature:Ca(e[2]),raw:{header:e[0],payload:e[1]}}}async function RT(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function MT(i,e){return new Promise((s,r)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await i(o);if(!e(o,null,c)){s(c);return}}catch(c){if(!e(o,c)){r(c);return}}})()})}function kT(i){return("0"+i.toString(16)).substr(-2)}function NT(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let r="";for(let o=0;o<56;o++)r+=t.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(e),Array.from(e,kT).join("")}async function DT(i){const t=new TextEncoder().encode(i),s=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(s);return Array.from(r).map(o=>String.fromCharCode(o)).join("")}async function PT(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await DT(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ya(i,e,t=!1){const s=NT();let r=s;t&&(r+="/PASSWORD_RECOVERY"),await Ea(i,`${e}-code-verifier`,r);const o=await PT(s);return[o,s===o?"plain":"s256"]}const LT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zT(i){const e=i.headers.get(qd);if(!e||!e.match(LT))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BT(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function UT(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const HT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ba(i){if(!HT.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pd(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FT(i,e){return new Proxy(i,{get:(t,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,s,r)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,s,r)}})}function gb(i){return JSON.parse(JSON.stringify(i))}const vs=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),IT=[502,503,504];async function pb(i){var e;if(!OT(i))throw new vc(vs(i),0);if(IT.includes(i.status))throw new vc(vs(i),i.status);let t;try{t=await i.json()}catch(o){throw new Hi(vs(o),o)}let s;const r=zT(i);if(r&&r.getTime()>=a_["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new Gd(vs(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Ft}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Gd(vs(t),i.status,t.weak_password.reasons);throw new r_(vs(t),i.status||500,s)}const qT=(i,e,t,s)=>{const r={method:i,headers:e?.headers||{}};return i==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),t))};async function ve(i,e,t,s){var r;const o=Object.assign({},s?.headers);o[qd]||(o[qd]=a_["2024-01-01"].name),s?.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const c=(r=s?.query)!==null&&r!==void 0?r:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await $T(i,e,t+h,{headers:o,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(d):{data:Object.assign({},d),error:null}}async function $T(i,e,t,s,r,o){const c=qT(e,s,r,o);let h;try{h=await i(t,Object.assign({},c))}catch(d){throw console.error(d),new vc(vs(d),0)}if(h.ok||await pb(h),s?.noResolveJson)return h;try{return await h.json()}catch(d){await pb(d)}}function xn(i){var e;let t=null;YT(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=CT(i.expires_in)));const s=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:s},error:null}}function mb(i){const e=xn(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Fi(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function GT(i){return{data:i,error:null}}function VT(i){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:o}=i,c=Pa(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:s,redirect_to:r,verification_type:o},d=Object.assign({},c);return{data:{properties:h,user:d},error:null}}function yb(i){return i}function YT(i){return i.access_token&&i.refresh_token&&i.expires_in}const hc=["global","local","others"];let gf=class{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=d_(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=hc[0]){if(hc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hc.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Fi})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=Pa(e,["options"]),r=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(r.new_email=s?.newEmail,delete r.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:VT,redirectTo:t?.redirectTo})}catch(t){if(pe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fi})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,r,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:yb});if(m.error)throw m.error;const b=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(pe(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ba(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fi})}catch(t){if(pe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ba(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Fi})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){ba(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Fi})}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ba(e.userId);try{const{data:t,error:s}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:t,error:s}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ba(e.userId),ba(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,r,o,c,h,d;try{const f={nextPage:null,lastPage:0,total:0},m=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(o=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:""},xform:yb});if(m.error)throw m.error;const b=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(S.split(";")[1].split("=")[1]);f[`${w}Page`]=E}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},b),f),error:null}}catch(f){if(pe(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(pe(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(pe(t))return{data:null,error:t};throw t}}};function bb(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}const _s={debug:!!(globalThis&&h_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let f_=class extends pf{};class WT extends pf{}async function g_(i,e,t){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),_s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,r.name);try{return await t()}finally{_s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,r.name)}}else{if(e===0)throw _s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new f_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(_s.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}const vb={};async function KT(i,e,t){var s;const r=(s=vb[i])!==null&&s!==void 0?s:Promise.resolve(),o=Promise.race([r.catch(()=>null),e>=0?new Promise((c,h)=>{setTimeout(()=>{h(new WT(`Acquring process lock with name "${i}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await t());return vb[i]=o.catch(async c=>{if(c&&c.isAcquireTimeout)return await r,null;throw c}),await o}function XT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function p_(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function QT(i){return parseInt(i,16)}function JT(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function ZT(i){var e;const{chainId:t,domain:s,expirationTime:r,issuedAt:o=new Date,nonce:c,notBefore:h,requestId:d,resources:f,scheme:m,uri:b,version:v}=i;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const x=p_(i.address),S=m?`${m}://${s}`:s,E=i.statement?`${i.statement}
`:"",w=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${t}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(r&&(C+=`
Expiration Time: ${r.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),d&&(C+=`
Request ID: ${d}`),f){let j=`
Resources:`;for(const A of f){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);j+=`
- ${A}`}C+=j}return`${w}
${C}`}class ft extends Error{constructor({message:e,code:t,cause:s,name:r}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=r??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=t}}class Sc extends ft{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function eC({error:i,options:e}){var t,s,r;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((t=o.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new ft({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ft({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ft({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new ft({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new ft({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ft({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new ft({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const c=window.location.hostname;if(m_(c)){if(o.rp.id!==c)return new ft({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ft({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function tC({error:i,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ft({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new ft({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const s=window.location.hostname;if(m_(s)){if(t.rpId!==s)return new ft({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new ft({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new ft({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new ft({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class nC{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const iC=new nC;function sC(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:t,excludeCredentials:s}=i,r=Pa(i,["challenge","user","excludeCredentials"]),o=Ca(e).buffer,c=Object.assign(Object.assign({},t),{id:Ca(t.id).buffer}),h=Object.assign(Object.assign({},r),{challenge:o,user:c});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];h.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Ca(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return h}function aC(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:t}=i,s=Pa(i,["challenge","allowCredentials"]),r=Ca(e).buffer,o=Object.assign(Object.assign({},s),{challenge:r});if(t&&t.length>0){o.allowCredentials=new Array(t.length);for(let c=0;c<t.length;c++){const h=t[c];o.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Ca(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function rC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ts(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function oC(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i,s=i.getClientExtensionResults(),r=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ts(new Uint8Array(r.authenticatorData)),clientDataJSON:Ts(new Uint8Array(r.clientDataJSON)),signature:Ts(new Uint8Array(r.signature)),userHandle:r.userHandle?Ts(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m_(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function _b(){var i,e;return!!(Tt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function lC(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sc("Browser returned unexpected credential type",e)}:{data:null,error:new Sc("Empty credential response",e)}}catch(e){return{data:null,error:eC({error:e,options:i})}}}async function cC(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sc("Browser returned unexpected credential type",e)}:{data:null,error:new Sc("Empty credential response",e)}}catch(e){return{data:null,error:tC({error:e,options:i})}}}const uC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wc(...i){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),t=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of i)if(r)for(const o in r){const c=r[o];if(c!==void 0)if(Array.isArray(c))s[o]=c;else if(t(c))s[o]=c;else if(e(c)){const h=s[o];e(h)?s[o]=wc(h,c):s[o]=wc(c)}else s[o]=c}return s}function dC(i,e){return wc(uC,i,e||{})}function fC(i,e){return wc(hC,i,e||{})}class gC{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:r},o){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};const d=r??iC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=dC(c.webauthn.credential_options.publicKey,o?.create),{data:m,error:b}=await lC({publicKey:f,signal:d});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}case"request":{const f=fC(c.webauthn.credential_options.publicKey,o?.request),{data:m,error:b}=await cC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:b}}}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Hi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new Ra("rpId is required for WebAuthn authentication")};try{if(!_b())return{data:null,error:new Hi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:r},{request:o});if(!c)return{data:null,error:h};const{webauthn:d}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:s,credential_response:d.credential_response}})}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Hi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},o){if(!t)return{data:null,error:new Ra("rpId is required for WebAuthn registration")};try{if(!_b())return{data:null,error:new Hi("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var b;return(b=m.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:h};const{data:d,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:r},{create:o});return d?this._verify({factorId:c.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:s,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(c){return pe(c)?{data:null,error:c}:{data:null,error:new Hi("Unexpected error in register",c)}}}}XT();const pC={url:pT,storageKey:mT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function xb(i,e,t){return await t()}const va={};let mf=class Vd{get jwks(){var e,t;return(t=(e=va[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=va[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){va[this.storageKey]=Object.assign(Object.assign({},va[this.storageKey]),{cachedAt:e})}constructor(e){var t,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},pC),e);if(this.storageKey=o.storageKey,this.instanceID=(t=Vd.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Vd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Tt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new gf({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=d_(o.fetch),this.lock=o.lock||xb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Tt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=g_:this.lock=xb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:h_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=bb(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${s_}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},s="none";if(Tt()&&(t=AT(window.location.href),this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce")),Tt()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:o}=await this._getSessionFromURL(t,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),c_(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return pe(t)?this._returnResult({error:t}):this._returnResult({error:new Hi("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,r;try{const o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:xn}),{data:c,error:h}=o;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var t,s,r;try{let o;if("email"in e){const{email:m,password:b,options:v}=e;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await ya(this.storage,this.storageKey)),o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:b,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:S},xform:xn})}else if("phone"in e){const{phone:m,password:b,options:v}=e;o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:b,data:(s=v?.data)!==null&&s!==void 0?s:{},channel:(r=v?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:xn})}else throw new Ir("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return await Et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const d=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let t;if("email"in e){const{email:o,password:c,options:h}=e;t=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:mb})}else if("phone"in e){const{phone:o,password:c,options:h}=e;t=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:mb})}else throw new Ir("You must provide either an email or phone number and a password");const{data:s,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const o=new bs;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,s,r,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,r,o,c,h,d,f,m,b,v;let x,S;if("message"in e)x=e.message,S=e.signature;else{const{chain:E,wallet:w,statement:C,options:j}=e;let A;if(Tt())if(typeof w=="object")A=w;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")A=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const N=new URL((t=j?.url)!==null&&t!==void 0?t:window.location.href),k=await A.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const z=p_(k[0]);let P=(s=j?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!P){const I=await A.request({method:"eth_chainId"});P=QT(I)}const J={domain:N.host,address:z,statement:C,uri:N.href,version:"1",chainId:P,nonce:(r=j?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(o=j?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=j?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=ZT(J),S=await A.request({method:"personal_sign",params:[JT(x),z]})}try{const{data:E,error:w}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:xn});if(w)throw w;if(!E||!E.session||!E.user){const C=new bs;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:w})}catch(E){if(pe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var t,s,r,o,c,h,d,f,m,b,v,x;let S,E;if("message"in e)S=e.message,E=e.signature;else{const{chain:w,wallet:C,statement:j,options:A}=e;let N;if(Tt())if(typeof C=="object")N=C;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))N=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=C}const k=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in N&&N.signIn){const z=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),j?{statement:j}:null));let P;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")P=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)P=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),E=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(r=(s=A?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((f=A?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((b=(m=A?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||b===void 0)&&b.length?["Resources",...A.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const z=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=z}}try{const{data:w,error:C}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Ts(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xn});if(C)throw C;if(!w||!w.session||!w.user){const j=new bs;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:C})}catch(w){if(pe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const t=await gs(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(t??"").split("/");try{const{data:o,error:c}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:xn});if(await Et(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const h=new bs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:c})}catch(o){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:t,provider:s,token:r,access_token:o,nonce:c}=e,h=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:xn}),{data:d,error:f}=h;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new bs;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,s,r,o,c;try{if("email"in e){const{email:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await ya(this.storage,this.storageKey));const{error:b}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:h,options:d}=e,{data:f,error:m}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(c=d?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Ir("You must provide either an email or phone number.")}catch(h){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var t,s;try{let r,o;"options"in e&&(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:h}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:xn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,f=c.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(r){if(pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,s,r,o,c;try{let h=null,d=null;this.flowType==="pkce"&&([h,d]=await ya(this.storage,this.storageKey));const f=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:d}),headers:this.headers,xform:GT});return!((o=f.data)===null||o===void 0)&&o.url&&Tt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(h){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new Ft;const{error:r}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:r,options:o}=e,{error:c}=await ve(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:s,type:r,options:o}=e,{data:c,error:h}=await ve(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:h})}throw new Ir("You must provide either an email or phone number and a type")}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<fd:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await gs(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=pd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=FT(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(-1,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fi}):await this._useSession(async t=>{var s,r,o;const{data:c,error:h}=t;if(h)throw h;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ft}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Fi})})}catch(t){if(pe(t))return l_(t)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:r,error:o}=s;if(o)throw o;if(!r.session)throw new Ft;const c=r.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await ya(this.storage,this.storageKey));const{data:f,error:m}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:c.access_token,xform:Fi});if(m)throw m;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(s){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ft;const t=Date.now()/1e3;let s=t,r=!0,o=null;const{payload:c}=gd(e.access_token);if(c.exp&&(s=c.exp,r=s<=t),r){const{data:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(t){if(pe(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:c,error:h}=t;if(h)throw h;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Ft;const{data:r,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Tt())throw new qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new $d("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qr("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $d("No code detected.");const{data:j,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:c,expires_in:h,expires_at:d,token_type:f}=e;if(!o||!h||!c||!f)throw new qr("No session defined in URL");const m=Math.round(Date.now()/1e3),b=parseInt(h);let v=m+b;d&&(v=parseInt(d));const x=v-m;x*1e3<=wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${b}s`);const S=v-b;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:E,error:w}=await this._getUser(o);if(w)throw w;const C={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:b,expires_at:v,refresh_token:c,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(s){if(pe(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return this._returnResult({error:o});const c=(s=r.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(o_(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=jT(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,r;try{const{data:{session:o},error:c}=t;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,t={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await ya(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(o){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:r}=await this._useSession(async o=>{var c,h,d,f,m;const{data:b,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(f=b.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(r)throw r;return Tt()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(pe(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:r,data:{session:o}}=t;if(r)throw r;const{options:c,provider:h,token:d,access_token:f,nonce:m}=e,b=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:xn}),{data:v,error:x}=b;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new bs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(r){if(await Et(this.storage,`${this.storageKey}-code-verifier`),pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,r;const{data:o,error:c}=t;if(c)throw c;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await MT(async r=>(r>0&&await RT(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(r,o)=>{const c=200*Math.pow(2,r);return o&&uc(o)&&Date.now()+c-s<wa})}catch(s){if(this._debug(t,"error",s),pe(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Tt()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await gs(this.storage,this.storageKey);if(r&&this.userStorage){let c=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await Ea(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c?.user)!==null&&e!==void 0?e:pd()}else if(r&&!r.user&&!r.user){const c=await gs(this.storage,this.storageKey+"-user");c&&c?.user?(r.user=c.user,await Et(this.storage,this.storageKey+"-user"),await Ea(this.storage,this.storageKey,r)):r.user=pd()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const o=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<fd;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${fd}s`),o){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),uc(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&c?.user?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new Ft;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Lc;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Ft;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(r,"error",o),pe(o)){const c={data:null,error:o};return uc(o)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t,s=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Et(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await Ea(this.userStorage,this.storageKey+"-user",{user:t.user});const r=Object.assign({},t);delete r.user;const o=gb(r);await Ea(this.storage,this.storageKey,o)}else{const r=gb(t);await Ea(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-e)/wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${wa}ms, refresh threshold is ${Id} ticks`),r<=Id&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof pf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const r=[`provider=${encodeURIComponent(t)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,c]=await ya(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(s?.queryParams){const o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;return o?this._returnResult({data:null,error:o}):await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,r;const{data:o,error:c}=t;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((r=d?.totp)===null||r===void 0)&&r.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rC(e.webauthn.credential_response):oC(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:d}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:d}))})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:r,error:o}=t;if(o)return this._returnResult({data:null,error:o});const c=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:sC(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:aC(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=t?.factors)!==null&&e!==void 0?e:[])r.all.push(o),o.status==="verified"&&r[o.factor_type].push(o);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:s},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=gd(s.access_token);let c=null;o.aal&&(c=o.aal);let h=c;((t=(e=s.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new Ft});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Tt()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!r)return this._returnResult({data:null,error:new Ft});const c=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Tt()&&!t?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;return s?this._returnResult({data:null,error:s}):t?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Ft})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ft})})}catch(t){if(pe(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(h=>h.kid===e);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(h=>h.kid===e),s&&this.jwks_cached_at+vT>r)return s;const{data:o,error:c}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=r,s=o.keys.find(h=>h.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:x,error:S}=await this.getSession();if(S||!x.session)return this._returnResult({data:null,error:S});s=x.session.access_token}const{header:r,payload:o,signature:c,raw:{header:h,payload:d}}=gd(s);t?.allowExpired||BT(o.exp);const f=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:o,header:r,signature:c},error:null}}const m=UT(r.alg),b=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,c,TT(`${h}.${d}`)))throw new _c("Invalid JWT signature");return{data:{claims:o,header:r,signature:c},error:null}}catch(s){if(pe(s))return this._returnResult({data:null,error:s});throw s}}};mf.nextInstanceID={};const mC=gf,yC=mf,bC=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:mC,AuthApiError:r_,AuthClient:yC,AuthError:Ra,AuthImplicitGrantRedirectError:qr,AuthInvalidCredentialsError:Ir,AuthInvalidJwtError:_c,AuthInvalidTokenResponseError:bs,AuthPKCEGrantCodeExchangeError:$d,AuthRetryableFetchError:vc,AuthSessionMissingError:Ft,AuthUnknownError:Hi,AuthWeakPasswordError:Gd,CustomAuthError:fi,GoTrueAdminApi:gf,GoTrueClient:mf,NavigatorLockAcquireTimeoutError:f_,SIGN_OUT_SCOPES:hc,isAuthApiError:o_,isAuthError:pe,isAuthImplicitGrantRedirectError:c_,isAuthRetryableFetchError:uc,isAuthSessionMissingError:l_,isAuthWeakPasswordError:_T,lockInternals:_s,navigatorLock:g_,processLock:KT},Symbol.toStringTag,{value:"Module"})),y_=co(bC);var Sb;function vC(){if(Sb)return Pr;Sb=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.SupabaseAuthClient=void 0;const i=y_;let e=class extends i.AuthClient{constructor(s){super(s)}};return Pr.SupabaseAuthClient=e,Pr}var wb;function Eb(){if(wb)return Pl;wb=1,Object.defineProperty(Pl,"__esModule",{value:!0});const i=R0,e=L0(),t=$0,s=uT,r=dT(),o=fT(),c=gT(),h=vC();class d{constructor(m,b,v){var x,S,E;this.supabaseUrl=m,this.supabaseKey=b;const w=(0,c.validateSupabaseUrl)(m);if(!b)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",w),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",w),this.storageUrl=new URL("storage/v1",w),this.functionsUrl=new URL("functions/v1",w);const C=`sb-${w.hostname.split(".")[0]}-auth-token`,j={db:r.DEFAULT_DB_OPTIONS,realtime:r.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},r.DEFAULT_AUTH_OPTIONS),{storageKey:C}),global:r.DEFAULT_GLOBAL_OPTIONS},A=(0,c.applySettingDefaults)(v??{},j);this.storageKey=(x=A.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(S=A.global.headers)!==null&&S!==void 0?S:{},A.accessToken?(this.accessToken=A.accessToken,this.auth=new Proxy({},{get:(N,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=A.auth)!==null&&E!==void 0?E:{},this.headers,A.global.fetch),this.fetch=(0,o.fetchWithAuth)(b,this._getAccessToken.bind(this),A.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},A.realtime)),this.accessToken&&this.accessToken().then(N=>this.realtime.setAuth(N)).catch(N=>console.warn("Failed to set initial Realtime auth token:",N)),this.rest=new e.PostgrestClient(new URL("rest/v1",w).href,{headers:this.headers,schema:A.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,v?.storage),A.accessToken||this._listenForAuthEvents()}get functions(){return new i.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(m){return this.rest.from(m)}schema(m){return this.rest.schema(m)}rpc(m,b={},v={head:!1,get:!1,count:void 0}){return this.rest.rpc(m,b,v)}channel(m,b={config:{}}){return this.realtime.channel(m,b)}getChannels(){return this.realtime.getChannels()}removeChannel(m){return this.realtime.removeChannel(m)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var m,b;if(this.accessToken)return await this.accessToken();const{data:v}=await this.auth.getSession();return(b=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&b!==void 0?b:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:m,persistSession:b,detectSessionInUrl:v,storage:x,userStorage:S,storageKey:E,flowType:w,lock:C,debug:j,throwOnError:A},N,k){const z={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},z),N),storageKey:E,autoRefreshToken:m,persistSession:b,detectSessionInUrl:v,storage:x,userStorage:S,flowType:w,lock:C,debug:j,throwOnError:A,fetch:k,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(m){return new t.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},m),{params:Object.assign({apikey:this.supabaseKey},m?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((b,v)=>{this._handleTokenChanged(b,"CLIENT",v?.access_token)})}_handleTokenChanged(m,b,v){(m==="TOKEN_REFRESHED"||m==="SIGNED_IN")&&this.changedAccessToken!==v?(this.changedAccessToken=v,this.realtime.setAuth(v)):m==="SIGNED_OUT"&&(this.realtime.setAuth(),b=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Pl.default=d,Pl}var Tb;function _C(){return Tb||(Tb=1,(function(i){var e=ni&&ni.__createBinding||(Object.create?(function(m,b,v,x){x===void 0&&(x=v);var S=Object.getOwnPropertyDescriptor(b,v);(!S||("get"in S?!b.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return b[v]}}),Object.defineProperty(m,x,S)}):(function(m,b,v,x){x===void 0&&(x=v),m[x]=b[v]})),t=ni&&ni.__exportStar||function(m,b){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(b,v)&&e(b,m,v)},s=ni&&ni.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(i,"__esModule",{value:!0}),i.createClient=i.SupabaseClient=i.FunctionRegion=i.FunctionsError=i.FunctionsRelayError=i.FunctionsFetchError=i.FunctionsHttpError=i.PostgrestError=void 0;const r=s(Eb());t(y_,i);var o=L0();Object.defineProperty(i,"PostgrestError",{enumerable:!0,get:function(){return o.PostgrestError}});var c=R0;Object.defineProperty(i,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(i,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(i,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(i,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(i,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),t($0,i);var h=Eb();Object.defineProperty(i,"SupabaseClient",{enumerable:!0,get:function(){return s(h).default}});const d=(m,b,v)=>new r.default(m,b,v);i.createClient=d;function f(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(m==null)return!1;const b=m.match(/^v(\d+)\./);return b?parseInt(b[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ni)),ni}var b_=_C();const v_=ef(b_),xC=Ow({__proto__:null,default:v_},[b_]),{PostgrestError:V2,FunctionsHttpError:Y2,FunctionsFetchError:W2,FunctionsRelayError:K2,FunctionsError:X2,FunctionRegion:Q2,SupabaseClient:J2,createClient:SC,GoTrueAdminApi:Z2,GoTrueClient:eM,AuthAdminApi:tM,AuthClient:nM,navigatorLock:iM,NavigatorLockAcquireTimeoutError:sM,lockInternals:aM,processLock:rM,SIGN_OUT_SCOPES:oM,AuthError:lM,AuthApiError:cM,AuthUnknownError:uM,CustomAuthError:hM,AuthSessionMissingError:dM,AuthInvalidTokenResponseError:fM,AuthInvalidCredentialsError:gM,AuthImplicitGrantRedirectError:pM,AuthPKCEGrantCodeExchangeError:mM,AuthRetryableFetchError:yM,AuthWeakPasswordError:bM,AuthInvalidJwtError:vM,isAuthError:_M,isAuthApiError:xM,isAuthSessionMissingError:SM,isAuthImplicitGrantRedirectError:wM,isAuthRetryableFetchError:EM,isAuthWeakPasswordError:TM,RealtimePresence:CM,RealtimeChannel:jM,RealtimeClient:AM,REALTIME_LISTEN_TYPES:OM,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:RM,REALTIME_PRESENCE_LISTEN_EVENTS:MM,REALTIME_SUBSCRIBE_STATES:kM,REALTIME_CHANNEL_STATES:NM}=v_||xC,wC="https://gimldhrqyzpgaxfueokt.supabase.co",EC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdpbWxkaHJxeXpwZ2F4ZnVlb2t0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzNzAwMzksImV4cCI6MjA4MDk0NjAzOX0.jGLt8yyu9psWRus5ksfY-dBvhTfgF3o5SHx2Ngwy0VE",rt=SC(wC,EC),TC=async()=>{const e=`INV-${new Date().getFullYear()}-`,{data:t}=await rt.from("invoices").select("invoice_no").like("invoice_no",`${e}%`).order("invoice_no",{ascending:!1}).limit(1).maybeSingle();if(t){const r=parseInt(t.invoice_no.split("-")[2])+1;return`${e}${String(r).padStart(3,"0")}`}return`${e}001`},CC=async i=>{try{const{client:e,meta:t,items:s,vatRate:r,discount:o,notes:c}=i,h=s.reduce((w,C)=>w+C.qty*C.unitPrice,0),d=Math.max(h-o,0),f=d*r/100,m=d+f;let b=null;if(e.name||e.email){const{data:w}=await rt.from("clients").select("id").eq("email",e.email).maybeSingle();if(w)b=w.id;else{const{data:C,error:j}=await rt.from("clients").insert({name:e.name,company:e.company,address:e.address,phone:e.phone,email:e.email,site_address:e.siteAddress}).select().single();if(j)throw j;b=C.id}}const v=await TC(),{data:x,error:S}=await rt.from("invoices").insert({invoice_no:v,client_id:b,project_name:t.projectName,invoice_date:t.date,due_date:t.dueDate||null,subtotal:h,discount:o,vat_rate:r,vat_amount:f,total:m,notes:c,status:"draft"}).select().single();if(S)throw S;const E=x.id;for(let w=0;w<s.length;w++){const C=s[w],j=C.qty*C.unitPrice,{data:A,error:N}=await rt.from("invoice_items").insert({invoice_id:E,category:C.category,code:C.code,description:C.description,dimensions:C.dimensions,qty:C.qty,unit_price:C.unitPrice,line_total:j,image_url:C.image||null,sort_order:w}).select().single();if(N)throw N;if(C.materials&&C.materials.length>0){const k=C.materials.map(P=>({invoice_item_id:A.id,material_name:P.name,unit:P.unit,qty_per_item:P.qty,total_qty:P.qty*C.qty})),{error:z}=await rt.from("item_materials").insert(k);if(z)throw z}}return{success:!0,invoiceId:E,invoiceNo:v}}catch(e){return console.error("Error saving invoice:",e),console.error("Error details:",{message:e?.message,details:e?.details,hint:e?.hint,code:e?.code}),{success:!1,error:e}}},Cb=async i=>{try{const{data:e,error:t}=await rt.from("invoices").select(`
        *,
        clients (
          name,
          company,
          address,
          phone,
          email
        )
      `).eq("id",i).single();if(t)throw t;const{data:s,error:r}=await rt.from("invoice_items").select("*").eq("invoice_id",i).order("sort_order",{ascending:!0});if(r)throw r;const o=await Promise.all(s.map(async c=>{const{data:h,error:d}=await rt.from("item_materials").select("*").eq("invoice_item_id",c.id);if(d)throw d;return{...c,materials:h||[]}}));return{success:!0,data:{invoice:e,items:o}}}catch(e){return console.error("Error fetching invoice details:",e),{success:!1,error:e}}},jC=()=>{const[i]=L.useState({name:"Meduza Studio Works",logoUrl:"/Company%20Logo.svg",address:"Tolon, El Sayeda Zeinab, Cairo , Egypt",phone:"+20 1146700228 / +20 1018705558",email:"info@meduzafurniture.com"}),[e,t]=L.useState({name:"Client Name",company:"Client Company",address:"Client Billing Address",phone:"+20 100 000 0000",email:"client@example.com",siteAddress:"Site / Delivery Address"}),[s,r]=L.useState({invoiceNo:"",date:new Date().toISOString().slice(0,10),dueDate:"",projectName:"Project Name"}),[o,c]=L.useState(14),[h,d]=L.useState(0),[f,m]=L.useState([]),[b,v]=L.useState(""),[x,S]=L.useState({mouskiRate:24e3,zanRate:36e3,aroRate:85e3,beechPineRate:78e3,mdf10RatePerSheet:650,mdf16RatePerSheet:1050,mdf21RatePerSheet:1350,blockboard18RatePerSheet:1650,walnutVeneerRatePerM2:310,oakVeneerRatePerM2:210,beechVeneerRatePerM2:210,hplRatePerSheet:650,lplRatePerSheet:350,finishPuMatteRatePerM2:350,finishPuHighGlossRatePerM2:420,finishNcRatePerM2:280,finishOilRatePerM2:250,glass6RatePerM2:1350,glass10RatePerM2:1750,marbleRatePerM2:4500,ply25RatePerSheet:200,ply27RatePerSheet:390,ply8RatePerSheet:1050,ply12RatePerSheet:1450,ply18RatePerSheet:2050,foamboardRatePerSheet:2100,upholsterySeatOnly:500,upholsteryFull:700,upholsteryArmFull:900,upholsterySofaLowPerM:1250,upholsterySofaHighPerM:1750,fabricLowRate:220,fabricHighRate:450,steelChassisCostPerPiece:1500,laborRatePerHour:160,defaultAccessories:1500,drawerRunnerRate:310,doorHingeRate:89,defaultProfitMargin:30,compliancePerItem:80}),[E,w]=L.useState(!1),[C,j]=L.useState(!1),[A,N]=L.useState(null),[k,z]=L.useState(!1),[P,J]=L.useState(null),[I,ie]=L.useState(!1),[Y,q]=L.useState(null),[X,de]=L.useState(!1),[le,B]=L.useState(null),[ne,ce]=L.useState(!1),[W,re]=L.useState(null);L.useEffect(()=>{localStorage.removeItem("invoice-preview");const te=localStorage.getItem("invoice-draft");if(te)try{const fe=JSON.parse(te);fe.client&&t(fe.client),fe.meta&&r(fe.meta),fe.items&&m(fe.items),fe.vatRate!==void 0&&c(fe.vatRate),fe.discount!==void 0&&d(fe.discount),fe.notes!==void 0&&v(fe.notes)}catch(fe){console.error("Failed to load draft:",fe)}},[]),L.useEffect(()=>{const te={company:i,client:e,meta:s,items:f,vatRate:o,discount:h,notes:b};localStorage.setItem("invoice-draft",JSON.stringify(te))},[i,e,s,f,o,h,b]);const O=(te,fe,xe)=>{m(nn=>nn.map(Wi=>Wi.id===te?{...Wi,[fe]:fe==="qty"||fe==="unitPrice"?Number(xe||0):xe}:Wi))},G=()=>{const te={id:Date.now(),category:"Custom furniture",code:"",description:"",dimensions:"",qty:1,unitPrice:0};m(fe=>[...fe,te])},V=te=>{const fe={id:Date.now(),category:te,code:te,description:"",dimensions:"",qty:1,unitPrice:0};m(xe=>[...xe,fe])},Q=te=>{m(fe=>fe.filter(xe=>xe.id!==te))},se=(te,fe)=>{const xe=fe.target.files?.[0];if(!xe)return;const nn=new FileReader;nn.onload=()=>{m(Wi=>Wi.map(Ba=>Ba.id===te?{...Ba,image:nn.result}:Ba))},nn.readAsDataURL(xe)},me=()=>({company:i,client:e,meta:s,items:f,vatRate:o,discount:h,notes:b}),we=()=>{const te=me();localStorage.setItem("saved-invoice",JSON.stringify(te)),alert("Invoice saved locally ")},Xe=()=>{window.confirm("Are you sure you want to clear all invoice data?")&&(localStorage.removeItem("invoice-draft"),localStorage.removeItem("invoice-preview"),t({name:"Client Name",company:"Client Company",address:"Client Billing Address",phone:"+20 100 000 0000",email:"client@example.com",siteAddress:"Site / Delivery Address"}),r({invoiceNo:"",date:new Date().toISOString().slice(0,10),dueDate:"",projectName:"Project Name"}),m([]),c(14),d(0),v(""))},Le=async()=>{if(!window.confirm("Are you sure you want to add this invoice into the system?"))return;const fe=me(),xe=await CC(fe);xe.success?(alert(`Invoice saved to database successfully! 

Invoice Number: ${xe.invoiceNo}

View analytics in the Dashboard tab.`),Xe()):(alert("Failed to save invoice to database. Check the browser console for details."),console.error("Save failed:",xe.error))},et=()=>{const te=localStorage.getItem("saved-invoice");if(!te){alert("No saved invoice found.");return}try{const fe=JSON.parse(te),xe=fe.items.map(nn=>({category:nn.category||"Custom furniture",...nn}));t(fe.client),r(fe.meta),m(xe),c(fe.vatRate),d(fe.discount),v(fe.notes)}catch{alert("Saved invoice is corrupted.")}},ze=te=>{A&&(m(fe=>fe.map(xe=>xe.id===A?{...xe,unitPrice:Math.round(te.price),description:te.description,dimensions:te.dimensions}:xe)),j(!1))},zn=te=>{P&&(m(fe=>fe.map(xe=>xe.id===P?{...xe,unitPrice:Math.round(te.price),description:te.description}:xe)),z(!1))},Ms=te=>{W&&(m(fe=>fe.map(xe=>xe.id===W?{...xe,unitPrice:Math.round(te.price),description:te.description,dimensions:te.dimensions||xe.dimensions,materials:te.materials??xe.materials}:xe)),ce(!1))},oe=te=>{Y&&(m(fe=>fe.map(xe=>xe.id===Y?{...xe,unitPrice:Math.round(te.price),description:te.description,dimensions:te.dimensions||xe.dimensions}:xe)),ie(!1))},Mt=te=>{le&&(m(fe=>fe.map(xe=>xe.id===le?{...xe,unitPrice:Math.round(te.price),description:te.description}:xe)),de(!1))},$t=te=>!te.dimensions||!te.dimensions.trim()?(alert("Please enter item dimensions first (H  W  T cm)."),!1):!0,Cn=te=>{$t(te)&&(te.category==="Door"?(N(te.id),j(!0)):te.category==="Dining chair"||te.category==="Arm chair"||te.category==="Bar stool"||te.category==="Bench"?(J(te.id),z(!0)):te.category==="Dining table"||te.category==="Coffee table"||te.category==="Side table"||te.category==="Console table"?(q(te.id),ie(!0)):te.category==="Sofa straight"||te.category==="Sofa curved"?(B(te.id),de(!0)):te.category==="Cabinet"?(re(te.id),ce(!0)):alert("Costing is available for doors, seating, tables, sofas and cabinets."))};return y.jsxs("div",{className:"app",children:[y.jsxs("div",{className:"form-shell",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[y.jsx("h1",{className:"app-title",children:"Meduza Invoice Generator"}),y.jsx("button",{type:"button",className:"btn-outline",style:{whiteSpace:"nowrap"},onClick:()=>w(!0),children:"Pricing Settings"})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Client Info"}),y.jsx(ae,{label:"Client Name",value:e.name,onChange:te=>t({...e,name:te})}),y.jsx(ae,{label:"Client Company",value:e.company,onChange:te=>t({...e,company:te})}),y.jsx(ae,{label:"Billing Address",value:e.address,onChange:te=>t({...e,address:te})}),y.jsx(ae,{label:"Phone",value:e.phone,onChange:te=>t({...e,phone:te})}),y.jsx(ae,{label:"Email",value:e.email,onChange:te=>t({...e,email:te})}),y.jsx(ae,{label:"Site / Delivery Address",value:e.siteAddress,onChange:te=>t({...e,siteAddress:te})})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Invoice Details"}),y.jsx(ae,{label:"Date",type:"date",value:s.date,onChange:te=>r({...s,date:te})}),y.jsx(ae,{label:"Due Date",type:"date",value:s.dueDate,onChange:te=>r({...s,dueDate:te})}),y.jsx(ae,{label:"Project Name",value:s.projectName,onChange:te=>r({...s,projectName:te})})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Quick Add Items"}),y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Dining chair"),children:"+ Dining chair"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Arm chair"),children:"+ Arm chair"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Bar stool"),children:"+ Bar stool"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Bench"),children:"+ Bench"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Dining table"),children:"+ Dining table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Cabinet"),children:"+ Cabinet"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Coffee table"),children:"+ Coffee table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Side table"),children:"+ Side table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Console table"),children:"+ Console table"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Sofa straight"),children:"+ Sofa (straight)"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Sofa curved"),children:"+ Sofa (curved)"}),y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>V("Door"),children:"+ Door"})]})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Items"}),f.map(te=>y.jsxs("div",{className:"item-card",children:[y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item Type"}),y.jsxs("select",{className:"input",value:te.category,onChange:fe=>O(te.id,"category",fe.target.value),children:[y.jsx("option",{value:"Door",children:"Door"}),y.jsx("option",{value:"Dining chair",children:"Dining chair"}),y.jsx("option",{value:"Arm chair",children:"Arm chair"}),y.jsx("option",{value:"Bar stool",children:"Bar stool"}),y.jsx("option",{value:"Bench",children:"Bench"}),y.jsx("option",{value:"Dining table",children:"Dining table"}),y.jsx("option",{value:"Cabinet",children:"Cabinet"}),y.jsx("option",{value:"Coffee table",children:"Coffee table"}),y.jsx("option",{value:"Side table",children:"Side table"}),y.jsx("option",{value:"Console table",children:"Console table"}),y.jsx("option",{value:"Sofa straight",children:"Sofa straight"}),y.jsx("option",{value:"Sofa curved",children:"Sofa curved"}),y.jsx("option",{value:"Custom furniture",children:"Custom furniture"})]})]}),y.jsx(ae,{label:"Item Name (Invoice)",value:te.code,onChange:fe=>O(te.id,"code",fe)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Dimensions (H  W  T cm)",value:te.dimensions,onChange:fe=>O(te.id,"dimensions",fe)}),y.jsx(ae,{label:"Qty",type:"number",value:String(te.qty),onChange:fe=>O(te.id,"qty",fe)}),y.jsx(ae,{label:"Unit Price",type:"number",value:String(te.unitPrice),onChange:fe=>O(te.id,"unitPrice",fe)})]}),y.jsx(ae,{label:"Description",value:te.description,onChange:fe=>O(te.id,"description",fe)}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:fe=>se(te.id,fe)})]}),te.image&&y.jsx("div",{className:"form-image-preview",children:y.jsx("img",{src:te.image,alt:"Item Preview"})}),y.jsxs("div",{className:"item-footer",children:[y.jsxs("span",{children:["Line Total:"," ",y.jsx("strong",{children:(te.qty*te.unitPrice).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),y.jsxs("div",{style:{display:"flex",gap:8},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:()=>Cn(te),children:"Costing"}),y.jsx("button",{type:"button",className:"btn-delete",onClick:()=>Q(te.id),children:"Remove"})]})]})]},te.id)),y.jsx("button",{type:"button",className:"btn-outline",onClick:G,children:"+ Add Item"})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Totals & Tax"}),y.jsx(ae,{label:"Discount (EGP)",type:"number",value:String(h),onChange:te=>d(Number(te||0))}),y.jsx(ae,{label:"VAT %",type:"number",value:String(o),onChange:te=>c(Number(te||0))})]}),y.jsxs("section",{className:"card",children:[y.jsx("h2",{className:"card-title",children:"Notes / Terms"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Notes"}),y.jsx("textarea",{className:"textarea",value:b,onChange:te=>v(te.target.value),rows:4})]})]}),y.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[y.jsx("button",{className:"btn-outline",onClick:we,children:"Save Locally"}),y.jsx("button",{className:"btn-outline",onClick:et,children:"Load Local"}),y.jsx("button",{className:"btn-outline",onClick:Xe,style:{marginLeft:"auto",color:"#dc2626"},children:"Clear Form"})]}),y.jsx("button",{className:"btn-primary",onClick:Le,children:"Submit"})]}),y.jsx(AC,{isOpen:E,config:x,onChange:S,onClose:()=>w(!1)}),y.jsx(OC,{isOpen:C,onClose:()=>j(!1),onApply:ze,pricing:x}),y.jsx(RC,{isOpen:k,onClose:()=>z(!1),onApply:zn,pricing:x}),y.jsx(MC,{isOpen:I,onClose:()=>ie(!1),onApply:oe,pricing:x}),y.jsx(kC,{isOpen:X,onClose:()=>de(!1),onApply:Mt,pricing:x}),y.jsx(NC,{isOpen:ne,onClose:()=>ce(!1),onApply:Ms,pricing:x})]})},AC=({isOpen:i,config:e,onChange:t,onClose:s})=>{const[r,o]=L.useState(e),c=(d,f)=>{o(m=>({...m,[d]:Number(f||0)}))},h=()=>{t(r),s()};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Pricing Settings"}),y.jsx("h3",{className:"card-title",style:{fontSize:12},children:"Natural Wood (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Mouski",type:"number",value:String(r.mouskiRate),onChange:d=>c("mouskiRate",d)}),y.jsx(ae,{label:"Zan (Beech)",type:"number",value:String(r.zanRate),onChange:d=>c("zanRate",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Aro (Oak)",type:"number",value:String(r.aroRate),onChange:d=>c("aroRate",d)}),y.jsx(ae,{label:"Beech Pine",type:"number",value:String(r.beechPineRate),onChange:d=>c("beechPineRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"MDF Panels (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"MDF 10 mm",type:"number",value:String(r.mdf10RatePerSheet),onChange:d=>c("mdf10RatePerSheet",d)}),y.jsx(ae,{label:"MDF 16 mm",type:"number",value:String(r.mdf16RatePerSheet),onChange:d=>c("mdf16RatePerSheet",d)}),y.jsx(ae,{label:"MDF 21 mm",type:"number",value:String(r.mdf21RatePerSheet),onChange:d=>c("mdf21RatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Blockboard & Marble"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Blockboard 18mm (sheet)",type:"number",value:String(r.blockboard18RatePerSheet),onChange:d=>c("blockboard18RatePerSheet",d)}),y.jsx(ae,{label:"Marble (EGP / m)",type:"number",value:String(r.marbleRatePerM2),onChange:d=>c("marbleRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Veneer (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Walnut",type:"number",value:String(r.walnutVeneerRatePerM2),onChange:d=>c("walnutVeneerRatePerM2",d)}),y.jsx(ae,{label:"Oak",type:"number",value:String(r.oakVeneerRatePerM2),onChange:d=>c("oakVeneerRatePerM2",d)}),y.jsx(ae,{label:"Beech",type:"number",value:String(r.beechVeneerRatePerM2),onChange:d=>c("beechVeneerRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"HPL / LPL (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"HPL",type:"number",value:String(r.hplRatePerSheet),onChange:d=>c("hplRatePerSheet",d)}),y.jsx(ae,{label:"LPL",type:"number",value:String(r.lplRatePerSheet),onChange:d=>c("lplRatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Finish (EGP / m / face)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"PU matte",type:"number",value:String(r.finishPuMatteRatePerM2),onChange:d=>c("finishPuMatteRatePerM2",d)}),y.jsx(ae,{label:"PU high gloss",type:"number",value:String(r.finishPuHighGlossRatePerM2),onChange:d=>c("finishPuHighGlossRatePerM2",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"NC",type:"number",value:String(r.finishNcRatePerM2),onChange:d=>c("finishNcRatePerM2",d)}),y.jsx(ae,{label:"Oil / stain",type:"number",value:String(r.finishOilRatePerM2),onChange:d=>c("finishOilRatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Glass (EGP / m)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Glass 6mm white",type:"number",value:String(r.glass6RatePerM2),onChange:d=>c("glass6RatePerM2",d)}),y.jsx(ae,{label:"Glass 10mm white",type:"number",value:String(r.glass10RatePerM2),onChange:d=>c("glass10RatePerM2",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Ply wood (EGP / sheet 122244)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"PLY 2.5mm",type:"number",value:String(r.ply25RatePerSheet),onChange:d=>c("ply25RatePerSheet",d)}),y.jsx(ae,{label:"PLY 2.7mm",type:"number",value:String(r.ply27RatePerSheet),onChange:d=>c("ply27RatePerSheet",d)})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"PLY 8mm",type:"number",value:String(r.ply8RatePerSheet),onChange:d=>c("ply8RatePerSheet",d)}),y.jsx(ae,{label:"PLY 12mm",type:"number",value:String(r.ply12RatePerSheet),onChange:d=>c("ply12RatePerSheet",d)}),y.jsx(ae,{label:"PLY 18mm",type:"number",value:String(r.ply18RatePerSheet),onChange:d=>c("ply18RatePerSheet",d)}),y.jsx(ae,{label:"Foamboard 18mm (sheet)",type:"number",value:String(r.foamboardRatePerSheet),onChange:d=>c("foamboardRatePerSheet",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (chairs / benches)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Seat only",type:"number",value:String(r.upholsterySeatOnly),onChange:d=>c("upholsterySeatOnly",d)}),y.jsx(ae,{label:"Full seat",type:"number",value:String(r.upholsteryFull),onChange:d=>c("upholsteryFull",d)}),y.jsx(ae,{label:"Full arm chair",type:"number",value:String(r.upholsteryArmFull),onChange:d=>c("upholsteryArmFull",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Upholstery (sofas)  per meter"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Sofa upholstery low / m",type:"number",value:String(r.upholsterySofaLowPerM),onChange:d=>c("upholsterySofaLowPerM",d)}),y.jsx(ae,{label:"Sofa upholstery high / m",type:"number",value:String(r.upholsterySofaHighPerM),onChange:d=>c("upholsterySofaHighPerM",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Fabric (EGP / meter)"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Fabric low (220)",type:"number",value:String(r.fabricLowRate),onChange:d=>c("fabricLowRate",d)}),y.jsx(ae,{label:"Fabric high (450)",type:"number",value:String(r.fabricHighRate),onChange:d=>c("fabricHighRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Steel chassis"}),y.jsx("div",{className:"item-row",children:y.jsx(ae,{label:"Steel chassis / piece",type:"number",value:String(r.steelChassisCostPerPiece),onChange:d=>c("steelChassisCostPerPiece",d)})}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Hardware"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Drawer runner / drawer",type:"number",value:String(r.drawerRunnerRate),onChange:d=>c("drawerRunnerRate",d)}),y.jsx(ae,{label:"Door hinge / piece",type:"number",value:String(r.doorHingeRate),onChange:d=>c("doorHingeRate",d)})]}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Labor"}),y.jsx("div",{className:"item-row",children:y.jsx(ae,{label:"Labor rate (EGP / hour)",type:"number",value:String(r.laborRatePerHour),onChange:d=>c("laborRatePerHour",d)})}),y.jsx("h3",{className:"card-title",style:{fontSize:12,marginTop:10},children:"Defaults & Compliance"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Default accessories (EGP)",type:"number",value:String(r.defaultAccessories),onChange:d=>c("defaultAccessories",d)}),y.jsx(ae,{label:"Default profit margin %",type:"number",value:String(r.defaultProfitMargin),onChange:d=>c("defaultProfitMargin",d)}),y.jsx(ae,{label:"Compliance / item (EGP)",type:"number",value:String(r.compliancePerItem),onChange:d=>c("compliancePerItem",d)})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:s,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:h,children:"Save"})]})]})}):null},OC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=L.useState({heightCm:220,widthCm:90,thicknessCm:4,veneerType:"Oak",finishType:"PU matte",woodType:"Mouski",glassType:"None",glassAreaM2:0,accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,hasSteelChassis:!1,profitMargin:s.defaultProfitMargin}),c=(X,de)=>{o(typeof de=="boolean"?le=>({...le,[X]:de}):le=>({...le,[X]:typeof le[X]=="number"?Number(de||0):de}))},h=r.heightCm/100*(r.widthCm/100),d=h*2,f=h*(r.thicknessCm/100),m=.045*(r.heightCm/220)*(r.widthCm/90);let b=s.mouskiRate;r.woodType==="Zan"&&(b=s.zanRate),r.woodType==="Aro"&&(b=s.aroRate),r.woodType==="BeechPine"&&(b=s.beechPineRate);const v=m*b,x=1.22*2.44,S=d/x,E=S*s.mdf10RatePerSheet;let w=0,C=0;if(r.veneerType==="Walnut")w=d*s.walnutVeneerRatePerM2;else if(r.veneerType==="Oak")w=d*s.oakVeneerRatePerM2;else if(r.veneerType==="Beech")w=d*s.beechVeneerRatePerM2;else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const X=d/x;r.veneerType==="HPL"?w=X*s.hplRatePerSheet:r.veneerType==="LPL"&&(w=X*s.lplRatePerSheet),C=0}if(r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"){let X=0;r.finishType==="PU matte"?X=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?X=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?X=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(X=s.finishOilRatePerM2),C=d*X}let j=0;r.glassType==="Glass6"?j=r.glassAreaM2*s.glass6RatePerM2:r.glassType==="Glass10"&&(j=r.glassAreaM2*s.glass10RatePerM2);const A=r.hasSteelChassis?s.steelChassisCostPerPiece:0,N=r.laborHours*s.laborRatePerHour,k=v+E+w+C+j+A+r.accessoriesCost+r.overheadCost+N,z=k*r.profitMargin/100,P=k+z,J=r.veneerType==="HPL"||r.veneerType==="LPL",I=r.glassType==="Glass6"||r.glassType==="Glass10",ie=()=>{const X=[];let de="Mouski";r.woodType==="Zan"?de="Zan (Beech)":r.woodType==="Aro"?de="Aro (Oak)":r.woodType==="BeechPine"&&(de="Beech pine"),X.push(`Wood: ${de}`);let le="";return r.veneerType==="Walnut"?le="Walnut veneer":r.veneerType==="Oak"?le="Oak veneer":r.veneerType==="Beech"?le="Beech veneer":r.veneerType==="HPL"?le="HPL facing":r.veneerType==="LPL"&&(le="LPL facing"),X.push(`Veneer: ${le}`),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?X.push(`Finish: ${r.finishType}`):X.push("Finish: none (HPL / LPL)"),r.glassType==="Glass6"?X.push(`Glass: 6mm white, ${r.glassAreaM2.toFixed(2)} m`):r.glassType==="Glass10"?X.push(`Glass: 10mm white, ${r.glassAreaM2.toFixed(2)} m`):X.push("Glass: none"),r.hasSteelChassis&&X.push("Steel chassis: yes"),X.join("  ")},Y=[];if(m>0){let X="Mouski";r.woodType==="Zan"?X="Zan (Beech)":r.woodType==="Aro"?X="Aro (Oak)":r.woodType==="BeechPine"&&(X="Beech pine"),Y.push({name:`Natural wood frame (${X})`,unit:"m",qty:parseFloat(m.toFixed(3))})}if(S>0&&Y.push({name:"MDF 10mm (door faces)",unit:"sheet",qty:parseFloat(S.toFixed(3))}),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech")Y.push({name:`${r.veneerType} veneer`,unit:"m",qty:parseFloat(d.toFixed(3))});else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const X=d/x;Y.push({name:`${r.veneerType} laminate`,unit:"sheet",qty:parseFloat(X.toFixed(3))})}r.glassAreaM2>0&&(r.glassType==="Glass6"||r.glassType==="Glass10")&&Y.push({name:`Glass ${r.glassType==="Glass6"?"6mm":"10mm"}`,unit:"m",qty:parseFloat(r.glassAreaM2.toFixed(3))}),r.hasSteelChassis&&Y.push({name:"Steel chassis",unit:"piece",qty:1}),r.laborHours>0&&Y.push({name:"Labor",unit:"hour",qty:r.laborHours});const q=()=>{const X=ie(),de=`${r.heightCm}${r.widthCm}${r.thicknessCm} cm`;t({price:P,description:X,dimensions:de,materials:Y})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Door Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:X=>c("heightCm",X)}),y.jsx(ae,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:X=>c("widthCm",X)}),y.jsx(ae,{label:"Thickness (cm)",type:"number",value:String(r.thicknessCm),onChange:X=>c("thicknessCm",X)})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Frame wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:X=>c("woodType",X.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Facing / Skin Type"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:X=>c("veneerType",X.target.value),children:[y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"}),y.jsx("option",{value:"HPL",children:"HPL"}),y.jsx("option",{value:"LPL",children:"LPL"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:X=>c("finishType",X.target.value),disabled:J,children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]}),J&&y.jsx("span",{style:{fontSize:10,color:"#9ca3af",marginTop:2,display:"block"},children:"HPL / LPL     (Finish cost = 0)"})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Glass"}),y.jsxs("select",{className:"input",value:r.glassType,onChange:X=>c("glassType",X.target.value),children:[y.jsx("option",{value:"None",children:"No glass"}),y.jsx("option",{value:"Glass6",children:"Glass 6mm white"}),y.jsx("option",{value:"Glass10",children:"Glass 10mm white"})]})]}),I&&y.jsx(ae,{label:"Glass area (m)",type:"number",value:String(r.glassAreaM2),onChange:X=>c("glassAreaM2",X)}),y.jsx(ae,{label:"Accessories (EGP)",type:"number",value:String(r.accessoriesCost),onChange:X=>c("accessoriesCost",X)}),y.jsx(ae,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:X=>c("overheadCost",X)}),y.jsx(ae,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:X=>c("laborHours",X)}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Steel chassis"}),y.jsx("input",{type:"checkbox",checked:r.hasSteelChassis,onChange:X=>c("hasSteelChassis",X.target.checked)}),y.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),y.jsx(ae,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:X=>c("profitMargin",X)}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Leaf area (one face): ",h.toFixed(2)," m"]}),y.jsxs("div",{children:["Area both faces: ",d.toFixed(2)," m"]}),y.jsxs("div",{children:["Leaf volume: ",f.toFixed(3)," m"]}),y.jsxs("div",{children:["Frame volume (natural wood): ",m.toFixed(3)," m"]}),y.jsxs("div",{children:["Natural wood cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["MDF 10mm (both faces): ",E.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Skin / veneer / HPL / LPL: ",w.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Glass cost: ",j.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Accessories: ",r.accessoriesCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h "," ",s.laborRatePerHour," = ",N.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Steel chassis: ",A.toFixed(0)," EGP"]}),y.jsx("div",{style:{marginTop:4},children:y.jsxs("strong",{children:["Material cost: ",k.toFixed(0)," EGP"]})}),y.jsxs("div",{children:["Profit (",r.profitMargin,"%): ",z.toFixed(0)," EGP"]}),y.jsx("div",{children:y.jsxs("strong",{children:["Suggested selling price / door: ",P.toFixed(0)," EGP"]})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:q,children:"Apply to Item"})]})]})}):null},RC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const r=(q,X)=>q==="Dining chair"?X==="Light"?.025:.035:q==="Bar stool"?X==="Light"?.03:.04:q==="Bench"?X==="Light"?.035:.05:X==="Light"?.04:.06,o=(q,X)=>q==="Dining chair"?X==="Light"?3:4:q==="Bar stool"?X==="Light"?3:4.5:q==="Bench"?X==="Light"?3.5:5:X==="Light"?4:5.5,[c,h]=L.useState(()=>{const q="Dining chair",X="Light";return{itemType:q,detailLevel:X,solidVolumeM3:r(q,X),woodType:"Mouski",hasPly:!1,plyThickness:"2.7",plySheets:2,areaM2:1.2,veneerType:"None",finishType:"PU matte",upholsteryType:"Seat only",fabricType:"Low",fabricMeters:1.5,hasSteelChassis:!1,overheadCost:350,laborHours:o(q,X),profitMargin:s.defaultProfitMargin}}),d=(q,X)=>{h(de=>{const le={...de,[q]:X};if(q==="itemType"||q==="detailLevel"){const B=q==="itemType"?X:le.itemType,ne=q==="detailLevel"?X:le.detailLevel;le.solidVolumeM3=r(B,ne),le.laborHours=o(B,ne)}return le})};let f=s.mouskiRate;c.woodType==="Zan"&&(f=s.zanRate),c.woodType==="Aro"&&(f=s.aroRate),c.woodType==="BeechPine"&&(f=s.beechPineRate);const m=c.solidVolumeM3*f;let b=0;c.plyThickness==="2.5"?b=s.ply25RatePerSheet:c.plyThickness==="2.7"?b=s.ply27RatePerSheet:c.plyThickness==="8"?b=s.ply8RatePerSheet:c.plyThickness==="12"?b=s.ply12RatePerSheet:c.plyThickness==="18"&&(b=s.ply18RatePerSheet);const v=c.hasPly?c.plySheets*b:0;let x=0;c.veneerType==="Walnut"?x=s.walnutVeneerRatePerM2:c.veneerType==="Oak"?x=s.oakVeneerRatePerM2:c.veneerType==="Beech"&&(x=s.beechVeneerRatePerM2);const S=c.veneerType==="None"?0:c.areaM2*x;let E=0;c.finishType==="PU matte"?E=s.finishPuMatteRatePerM2:c.finishType==="PU high gloss"?E=s.finishPuHighGlossRatePerM2:c.finishType==="NC"?E=s.finishNcRatePerM2:c.finishType==="Oil / stain"&&(E=s.finishOilRatePerM2);const w=c.areaM2*E;let C=0;c.upholsteryType==="Seat only"?C=s.upholsterySeatOnly:c.upholsteryType==="Full"?C=s.upholsteryFull:c.upholsteryType==="Full arm chair"&&(C=s.upholsteryArmFull);let j=0;c.fabricType==="Low"?j=s.fabricLowRate:c.fabricType==="High"&&(j=s.fabricHighRate);const A=c.upholsteryType==="None"?0:c.fabricMeters*j,N=c.hasSteelChassis?s.steelChassisCostPerPiece:0,k=c.laborHours*s.laborRatePerHour,z=m+v+S+w+C+A+c.overheadCost+k+N,P=z*c.profitMargin/100,J=z+P,I=()=>{const q=[];let X="Mouski";c.woodType==="Zan"?X="Zan (Beech)":c.woodType==="Aro"?X="Aro (Oak)":c.woodType==="BeechPine"&&(X="Beech pine"),q.push(`Wood: ${X}`);let de="none";if(c.veneerType==="Walnut"?de="Walnut veneer":c.veneerType==="Oak"?de="Oak veneer":c.veneerType==="Beech"&&(de="Beech veneer"),q.push(`Veneer: ${de}`),q.push(`Finish: ${c.finishType}`),c.upholsteryType==="None")q.push("Fabric: none");else{const le=c.fabricType==="Low"?"Low grade":"High grade";q.push(`Fabric: ${le} (${j} EGP/m, ${c.fabricMeters.toFixed(2)} m)`)}return q.join("  ")},ie=[];if(c.solidVolumeM3>0){let q="Mouski";c.woodType==="Zan"?q="Zan (Beech)":c.woodType==="Aro"?q="Aro (Oak)":c.woodType==="BeechPine"&&(q="Beech pine"),ie.push({name:`Natural solid wood (${q})`,unit:"m",qty:parseFloat(c.solidVolumeM3.toFixed(3))})}c.hasPly&&c.plySheets>0&&ie.push({name:`Plywood ${c.plyThickness}mm`,unit:"sheet",qty:c.plySheets}),c.veneerType!=="None"&&c.areaM2>0&&ie.push({name:`${c.veneerType} veneer`,unit:"m",qty:parseFloat(c.areaM2.toFixed(3))}),c.upholsteryType!=="None"&&c.fabricMeters>0&&ie.push({name:`Fabric (${c.fabricType} grade)`,unit:"meter",qty:c.fabricMeters}),c.hasSteelChassis&&ie.push({name:"Steel chassis",unit:"piece",qty:1}),c.laborHours>0&&ie.push({name:"Labor",unit:"hour",qty:c.laborHours});const Y=()=>{const q=I();t({price:J,description:q,dimensions:"",materials:ie})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Seating Costing (Chairs / Bench / Bar stool)"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Item type"}),y.jsxs("select",{className:"input",value:c.itemType,onChange:q=>d("itemType",q.target.value),children:[y.jsx("option",{children:"Dining chair"}),y.jsx("option",{children:"Bar stool"}),y.jsx("option",{children:"Bench"}),y.jsx("option",{children:"Arm chair"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Solid wood details"}),y.jsxs("select",{className:"input",value:c.detailLevel,onChange:q=>d("detailLevel",q.target.value),children:[y.jsx("option",{value:"Light",children:"Simple details (less wood)"}),y.jsx("option",{value:"Heavy",children:"Rich details (more wood)"})]}),y.jsxs("span",{className:"field-hint",children:["Volume: ",c.solidVolumeM3.toFixed(3)," m"]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Wood type"}),y.jsxs("select",{className:"input",value:c.woodType,onChange:q=>d("woodType",q.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Curved back / ply layers"}),y.jsx("input",{type:"checkbox",checked:c.hasPly,onChange:q=>d("hasPly",q.target.checked)})]}),c.hasPly&&y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Ply thickness"}),y.jsxs("select",{className:"input",value:c.plyThickness,onChange:q=>d("plyThickness",q.target.value),children:[y.jsx("option",{value:"2.5",children:"2.5 mm"}),y.jsx("option",{value:"2.7",children:"2.7 mm"}),y.jsx("option",{value:"8",children:"8 mm"}),y.jsx("option",{value:"12",children:"12 mm"}),y.jsx("option",{value:"18",children:"18 mm"})]})]}),y.jsx(ae,{label:"Ply sheets (pcs)",type:"number",value:String(c.plySheets),onChange:q=>d("plySheets",Number(q||0))})]}),y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:c.veneerType,onChange:q=>d("veneerType",q.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),y.jsx(ae,{label:"Area for veneer/finish (m)",type:"number",value:String(c.areaM2),onChange:q=>d("areaM2",Number(q||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:c.finishType,onChange:q=>d("finishType",q.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Upholstery"}),y.jsxs("select",{className:"input",value:c.upholsteryType,onChange:q=>d("upholsteryType",q.target.value),children:[y.jsx("option",{children:"None"}),y.jsx("option",{children:"Seat only"}),y.jsx("option",{children:"Full"}),y.jsx("option",{children:"Full arm chair"})]})]}),c.upholsteryType!=="None"&&y.jsxs("div",{className:"item-row",children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Fabric type"}),y.jsxs("select",{className:"input",value:c.fabricType,onChange:q=>d("fabricType",q.target.value),children:[y.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),y.jsx(ae,{label:"Fabric length (m)",type:"number",value:String(c.fabricMeters),onChange:q=>d("fabricMeters",Number(q||0))})]}),y.jsxs("label",{className:"field field-inline",children:[y.jsx("span",{className:"field-label",children:"Steel chassis"}),y.jsx("input",{type:"checkbox",checked:c.hasSteelChassis,onChange:q=>d("hasSteelChassis",q.target.checked)}),y.jsxs("span",{className:"field-hint",children:["+"," ",s.steelChassisCostPerPiece.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})," ","per piece"]})]}),y.jsx(ae,{label:"Overhead (EGP)",type:"number",value:String(c.overheadCost),onChange:q=>d("overheadCost",Number(q||0))}),y.jsx(ae,{label:"Labor hours",type:"number",value:String(c.laborHours),onChange:q=>d("laborHours",Number(q||0))}),y.jsx(ae,{label:"Profit Margin %",type:"number",value:String(c.profitMargin),onChange:q=>d("profitMargin",Number(q||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Natural wood cost: ",m.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Ply cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",S.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",w.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Upholstery labor: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Fabric cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Steel chassis: ",N.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",c.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",c.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",k.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",z.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",c.profitMargin,"%): ",P.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / piece: ",J.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:Y,children:"Apply to Item"})]})]})}):null},MC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=L.useState({lengthCm:220,widthCm:110,heightCm:74,legMaterial:"Wood",woodType:"Mouski",topMaterial:"Marble",veneerType:"None",finishType:"PU matte",overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(Y,q)=>{o(X=>({...X,[Y]:q}))},h=1.22*2.44,d=r.lengthCm/100*(r.widthCm/100);let f=0;r.legMaterial==="Wood"&&(f=.35*(r.lengthCm/220)*(r.widthCm/110)*(r.heightCm/74));let m=s.mouskiRate;r.woodType==="Zan"&&(m=s.zanRate),r.woodType==="Aro"&&(m=s.aroRate),r.woodType==="BeechPine"&&(m=s.beechPineRate);const b=f*m;let v=0,x=0,S=0;r.topMaterial==="MDF16"?v=d/h*s.mdf16RatePerSheet:r.topMaterial==="MDF21"?v=d/h*s.mdf21RatePerSheet:r.topMaterial==="Blockboard18"?v=d/h*s.blockboard18RatePerSheet:r.topMaterial==="Marble"?x=d*s.marbleRatePerM2:r.topMaterial==="Glass6"?S=d*s.glass6RatePerM2:r.topMaterial==="Glass10"&&(S=d*s.glass10RatePerM2);const E=r.topMaterial==="MDF16"||r.topMaterial==="MDF21"||r.topMaterial==="Blockboard18";let w=0;r.veneerType==="Walnut"?w=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?w=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(w=s.beechVeneerRatePerM2);const C=E&&r.veneerType!=="None"?d*w:0;let j=0;r.finishType==="PU matte"?j=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?j=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?j=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(j=s.finishOilRatePerM2);const A=E&&r.veneerType!=="None"?d*j:0,N=r.laborHours*s.laborRatePerHour,k=b+v+x+S+C+A+r.overheadCost+N,z=k*r.profitMargin/100,P=k+z,J=()=>{const Y=[];let q="";r.topMaterial==="MDF16"?q="MDF 16mm":r.topMaterial==="MDF21"?q="MDF 21mm":r.topMaterial==="Blockboard18"?q="Blockboard 18mm":r.topMaterial==="Marble"?q="Marble top":r.topMaterial==="Glass6"?q="Glass 6mm top":r.topMaterial==="Glass10"&&(q="Glass 10mm top");let X="Steel";if(r.legMaterial==="Wood"){let de="Mouski";r.woodType==="Zan"?de="Zan (Beech)":r.woodType==="Aro"?de="Aro (Oak)":r.woodType==="BeechPine"&&(de="Beech pine"),X=de}if(Y.push(`Top: ${q}`),Y.push(`Legs: ${X}`),E&&r.veneerType!=="None"){let de="";r.veneerType==="Walnut"?de="Walnut veneer":r.veneerType==="Oak"?de="Oak veneer":r.veneerType==="Beech"&&(de="Beech veneer"),Y.push(`Veneer: ${de}`),Y.push(`Finish: ${r.finishType}`)}return Y.join("  ")},I=[];if(r.legMaterial==="Wood"&&f>0){let Y="Mouski";r.woodType==="Zan"?Y="Zan (Beech)":r.woodType==="Aro"?Y="Aro (Oak)":r.woodType==="BeechPine"&&(Y="Beech pine"),I.push({name:`Table legs wood (${Y})`,unit:"m",qty:parseFloat(f.toFixed(3))})}if(r.topMaterial==="MDF16"||r.topMaterial==="MDF21"||r.topMaterial==="Blockboard18"){const Y=d/h;let q="MDF 16mm";r.topMaterial==="MDF21"?q="MDF 21mm":r.topMaterial==="Blockboard18"&&(q="Blockboard 18mm"),I.push({name:`Table top (${q})`,unit:"sheet",qty:parseFloat(Y.toFixed(3))})}if(r.topMaterial==="Marble"&&I.push({name:"Marble top",unit:"m",qty:parseFloat(d.toFixed(3))}),r.topMaterial==="Glass6"||r.topMaterial==="Glass10"){const Y=r.topMaterial==="Glass6"?"6mm":"10mm";I.push({name:`Glass top ${Y}`,unit:"m",qty:parseFloat(d.toFixed(3))})}E&&r.veneerType!=="None"&&I.push({name:`${r.veneerType} veneer`,unit:"m",qty:parseFloat(d.toFixed(3))}),r.laborHours>0&&I.push({name:"Labor",unit:"hour",qty:r.laborHours});const ie=()=>{const Y=J(),q=`${r.lengthCm}${r.widthCm}${r.heightCm} cm`;t({price:P,description:Y,dimensions:q,materials:I})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Table Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Length (cm)",type:"number",value:String(r.lengthCm),onChange:Y=>c("lengthCm",Number(Y||0))}),y.jsx(ae,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:Y=>c("widthCm",Number(Y||0))}),y.jsx(ae,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:Y=>c("heightCm",Number(Y||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Leg material"}),y.jsxs("select",{className:"input",value:r.legMaterial,onChange:Y=>c("legMaterial",Y.target.value),children:[y.jsx("option",{value:"Wood",children:"Wood"}),y.jsx("option",{value:"Steel",children:"Steel"})]})]}),r.legMaterial==="Wood"&&y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Leg wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:Y=>c("woodType",Y.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Top material"}),y.jsxs("select",{className:"input",value:r.topMaterial,onChange:Y=>c("topMaterial",Y.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Marble",children:"Marble"}),y.jsx("option",{value:"Glass6",children:"Glass 6mm"}),y.jsx("option",{value:"Glass10",children:"Glass 10mm"})]})]}),E&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:Y=>c("veneerType",Y.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),r.veneerType!=="None"&&y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:Y=>c("finishType",Y.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]}),y.jsx("span",{className:"field-hint",children:"Finish is applied on the veneered wooden top area."})]})]}),!E&&y.jsx("span",{className:"field-hint",style:{marginTop:4,display:"block"},children:"Marble / glass tops do not take veneer or finish here."}),y.jsx(ae,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:Y=>c("overheadCost",Number(Y||0))}),y.jsx(ae,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:Y=>c("laborHours",Number(Y||0))}),y.jsx(ae,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:Y=>c("profitMargin",Number(Y||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Top area: ",d.toFixed(2)," m"]}),y.jsxs("div",{children:["Legs wood volume: ",f.toFixed(3)," m"]}),y.jsxs("div",{children:["Legs wood cost: ",b.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Top core cost: ",v.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Marble cost: ",x.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Glass cost: ",S.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",N.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",k.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",z.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / table: ",P.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:ie,children:"Apply to Item"})]})]})}):null},kC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=L.useState({sofaType:"Straight",lengthM:2.5,woodType:"Mouski",solidVolumePerM3:.06,veneerType:"None",veneerAreaM2:4,finishType:"PU matte",upholsteryQuality:"Low",fabricGrade:"Low",fabricMeters:8,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(I,ie)=>{o(Y=>{const q={...Y,[I]:ie};return I==="sofaType"&&(q.solidVolumePerM3=ie==="Straight"?.06:.08),q})};let h=s.mouskiRate;r.woodType==="Zan"&&(h=s.zanRate),r.woodType==="Aro"&&(h=s.aroRate),r.woodType==="BeechPine"&&(h=s.beechPineRate);const d=r.lengthM*r.solidVolumePerM3,f=d*h;let m=0;r.veneerType==="Walnut"?m=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?m=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(m=s.beechVeneerRatePerM2);const b=r.veneerType==="None"?0:r.veneerAreaM2*m;let v=0;r.finishType==="PU matte"?v=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?v=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?v=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(v=s.finishOilRatePerM2);const x=r.veneerType==="None"?0:r.veneerAreaM2*v;let S=0;r.upholsteryQuality==="Low"?S=s.upholsterySofaLowPerM:r.upholsteryQuality==="High"&&(S=s.upholsterySofaHighPerM);const E=r.upholsteryQuality==="None"?0:r.lengthM*S;let w=0;r.fabricGrade==="Low"?w=s.fabricLowRate:r.fabricGrade==="High"&&(w=s.fabricHighRate);const C=r.upholsteryQuality==="None"?0:r.fabricMeters*w,j=r.laborHours*s.laborRatePerHour,A=f+b+x+E+C+r.overheadCost+j,N=A*r.profitMargin/100,k=A+N,z=()=>{const I=[];let ie="Mouski";r.woodType==="Zan"?ie="Zan (Beech)":r.woodType==="Aro"?ie="Aro (Oak)":r.woodType==="BeechPine"&&(ie="Beech pine"),I.push(`Wood: ${ie}`);let Y="none";if(r.veneerType==="Walnut"?Y="Walnut veneer":r.veneerType==="Oak"?Y="Oak veneer":r.veneerType==="Beech"&&(Y="Beech veneer"),I.push(`Veneer: ${Y}`),I.push(`Finish: ${r.veneerType==="None"?"none":r.finishType}`),r.upholsteryQuality==="None")I.push("Fabric: none");else{const q=r.fabricGrade==="Low"?"Low grade":"High grade";I.push(`Fabric: ${q} (${w} EGP/m, ${r.fabricMeters.toFixed(2)} m)`)}return I.join("  ")},P=[];if(d>0){let I="Mouski";r.woodType==="Zan"?I="Zan (Beech)":r.woodType==="Aro"?I="Aro (Oak)":r.woodType==="BeechPine"&&(I="Beech pine"),P.push({name:`Natural solid wood (${I})`,unit:"m",qty:parseFloat(d.toFixed(3))})}r.veneerType!=="None"&&r.veneerAreaM2>0&&P.push({name:`${r.veneerType} veneer`,unit:"m",qty:parseFloat(r.veneerAreaM2.toFixed(3))}),r.upholsteryQuality!=="None"&&r.fabricMeters>0&&P.push({name:`Fabric (${r.fabricGrade} grade)`,unit:"meter",qty:r.fabricMeters}),r.laborHours>0&&P.push({name:"Labor",unit:"hour",qty:r.laborHours});const J=()=>{const I=z();t({price:k,description:I,dimensions:"",materials:P})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Sofa Costing (per meter)"}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Sofa type"}),y.jsxs("select",{className:"input",value:r.sofaType,onChange:I=>c("sofaType",I.target.value),children:[y.jsx("option",{value:"Straight",children:"Straight"}),y.jsx("option",{value:"Curved",children:"Curved"})]}),y.jsx("span",{className:"field-hint",children:"Curved sofas take more wood and labor."})]}),y.jsx(ae,{label:"Length (m)",type:"number",value:String(r.lengthM),onChange:I=>c("lengthM",Number(I||0))}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Wood type"}),y.jsxs("select",{className:"input",value:r.woodType,onChange:I=>c("woodType",I.target.value),children:[y.jsx("option",{value:"Mouski",children:"Mouski"}),y.jsx("option",{value:"Zan",children:"Zan (Beech)"}),y.jsx("option",{value:"Aro",children:"Aro (Oak)"}),y.jsx("option",{value:"BeechPine",children:"Beech Pine"})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:I=>c("veneerType",I.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"})]})]}),r.veneerType!=="None"&&y.jsxs(y.Fragment,{children:[y.jsx(ae,{label:"Veneer / finish area (m)",type:"number",value:String(r.veneerAreaM2),onChange:I=>c("veneerAreaM2",Number(I||0))}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:I=>c("finishType",I.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Upholstery quality"}),y.jsxs("select",{className:"input",value:r.upholsteryQuality,onChange:I=>c("upholsteryQuality",I.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Low",children:"Low (1250 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (1750 EGP/m default)"})]})]}),r.upholsteryQuality!=="None"&&y.jsxs(y.Fragment,{children:[y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Fabric grade"}),y.jsxs("select",{className:"input",value:r.fabricGrade,onChange:I=>c("fabricGrade",I.target.value),children:[y.jsx("option",{value:"Low",children:"Low (220 EGP/m default)"}),y.jsx("option",{value:"High",children:"High (450 EGP/m default)"})]})]}),y.jsx(ae,{label:"Fabric length (m)",type:"number",value:String(r.fabricMeters),onChange:I=>c("fabricMeters",Number(I||0))})]}),y.jsx(ae,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:I=>c("overheadCost",Number(I||0))}),y.jsx(ae,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:I=>c("laborHours",Number(I||0))}),y.jsx(ae,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:I=>c("profitMargin",Number(I||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Wood volume: ",d.toFixed(3)," m"]}),y.jsxs("div",{children:["Wood cost: ",f.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer cost: ",b.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",x.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Upholstery cost: ",E.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Fabric cost: ",C.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",j.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",A.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",N.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / sofa: ",k.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:J,children:"Apply to Item"})]})]})}):null},NC=({isOpen:i,onClose:e,onApply:t,pricing:s})=>{const[r,o]=L.useState({widthCm:80,heightCm:220,depthCm:40,bodyMaterial:"MDF16",faceMaterial:"MDF16",doorsCount:2,shelvesCount:4,drawersCount:0,veneerType:"None",finishType:"PU matte",accessoriesCost:s.defaultAccessories,overheadCost:0,laborHours:0,profitMargin:s.defaultProfitMargin}),c=(oe,Mt)=>{o($t=>({...$t,[oe]:Mt}))},h=1.22*2.44,d=r.widthCm/100,f=r.heightCm/100,m=r.depthCm/100,b=2*f*m,v=2*d*m,x=d*f*.3,S=b+v+x,E=d*f,w=d*m,C=r.shelvesCount*w,j=S+C;let A=s.mdf16RatePerSheet;r.bodyMaterial==="MDF21"?A=s.mdf21RatePerSheet:r.bodyMaterial==="Blockboard18"?A=s.blockboard18RatePerSheet:r.bodyMaterial==="Ply18"?A=s.ply18RatePerSheet:r.bodyMaterial==="Foamboard"&&(A=s.foamboardRatePerSheet);const N=j/h,k=N*A,z=E/h,P=z*s.mdf10RatePerSheet,J=E;let I=s.mdf16RatePerSheet;r.faceMaterial==="MDF21"?I=s.mdf21RatePerSheet:r.faceMaterial==="Blockboard18"?I=s.blockboard18RatePerSheet:r.faceMaterial==="Ply18"?I=s.ply18RatePerSheet:r.faceMaterial==="Foamboard"&&(I=s.foamboardRatePerSheet);const ie=J/h,Y=ie*I,X=d*f+S*.4;let de=0,le=0,B=0;if(r.veneerType==="Walnut"?B=s.walnutVeneerRatePerM2:r.veneerType==="Oak"?B=s.oakVeneerRatePerM2:r.veneerType==="Beech"&&(B=s.beechVeneerRatePerM2),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"){de=X*B;let oe=0;r.finishType==="PU matte"?oe=s.finishPuMatteRatePerM2:r.finishType==="PU high gloss"?oe=s.finishPuHighGlossRatePerM2:r.finishType==="NC"?oe=s.finishNcRatePerM2:r.finishType==="Oil / stain"&&(oe=s.finishOilRatePerM2),le=X*oe}else if(r.veneerType==="HPL"||r.veneerType==="LPL"){const oe=X/h;r.veneerType==="HPL"?de=oe*s.hplRatePerSheet:de=oe*s.lplRatePerSheet,le=0}const ne=2*(.4*.18)+2*(.3*.18),ce=.4*.3,W=r.drawersCount*ne/h,re=r.drawersCount*ce/h,O=W*s.ply12RatePerSheet,G=re*s.mdf10RatePerSheet,V=r.drawersCount*s.drawerRunnerRate;let Q=2;r.heightCm>60&&r.heightCm<=120?Q=3:r.heightCm>120&&r.heightCm<=200?Q=4:r.heightCm>200&&r.heightCm<=300&&(Q=5);const se=r.doorsCount*Q,me=se*s.doorHingeRate,we=r.laborHours*s.laborRatePerHour,Xe=k+P+Y+O+G+V+de+le+me+r.accessoriesCost+r.overheadCost+we,Le=Xe*r.profitMargin/100,et=Xe+Le,ze=[];if(N>0){let oe="MDF 16mm";r.bodyMaterial==="MDF21"?oe="MDF 21mm":r.bodyMaterial==="Blockboard18"?oe="Blockboard 18mm":r.bodyMaterial==="Ply18"?oe="Plywood 18mm":r.bodyMaterial==="Foamboard"&&(oe="Foamboard 18mm"),ze.push({name:`Cabinet body core (${oe})`,unit:"sheet",qty:parseFloat(N.toFixed(3))})}if(z>0&&ze.push({name:"Back (MDF 10mm)",unit:"sheet",qty:parseFloat(z.toFixed(3))}),ie>0){let oe="MDF 16mm";r.faceMaterial==="MDF21"?oe="MDF 21mm":r.faceMaterial==="Blockboard18"?oe="Blockboard 18mm":r.faceMaterial==="Ply18"?oe="Plywood 18mm":r.faceMaterial==="Foamboard"&&(oe="Foamboard 18mm"),ze.push({name:`Face panel (${oe})`,unit:"sheet",qty:parseFloat(ie.toFixed(3))})}if(r.drawersCount>0&&(ze.push({name:"Drawer boxes PLY 12mm",unit:"sheet",qty:parseFloat(W.toFixed(3))}),ze.push({name:"Drawer bottoms MDF 10mm",unit:"sheet",qty:parseFloat(re.toFixed(3))}),ze.push({name:"Drawer runners",unit:"pair",qty:r.drawersCount})),r.veneerType!=="None")if(r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech")ze.push({name:`Veneer (${r.veneerType})`,unit:"m",qty:parseFloat(X.toFixed(2))}),ze.push({name:`Finish (${r.finishType})`,unit:"m",qty:parseFloat(X.toFixed(2))});else{const oe=X/h;ze.push({name:`Laminate (${r.veneerType})`,unit:"sheet",qty:parseFloat(oe.toFixed(3))})}se>0&&ze.push({name:"Door hinges",unit:"pcs",qty:se}),r.accessoriesCost>0&&ze.push({name:"Accessories (handles, screws, etc.)",unit:"EGP",qty:parseFloat(r.accessoriesCost.toFixed(0))}),r.overheadCost>0&&ze.push({name:"Overhead",unit:"EGP",qty:parseFloat(r.overheadCost.toFixed(0))}),we>0&&ze.push({name:"Labor",unit:"EGP",qty:parseFloat(we.toFixed(0))}),ze.push({name:"Profit",unit:"EGP",qty:parseFloat(Le.toFixed(0))});const zn=()=>{const oe=[];let Mt="MDF 16mm";r.bodyMaterial==="MDF21"?Mt="MDF 21mm":r.bodyMaterial==="Blockboard18"?Mt="Blockboard 18mm":r.bodyMaterial==="Ply18"?Mt="Plywood 18mm":r.bodyMaterial==="Foamboard"&&(Mt="Foamboard 18mm"),oe.push(`Body: ${Mt}`),oe.push("Back: MDF 10mm");let $t="MDF 16mm";r.faceMaterial==="MDF21"?$t="MDF 21mm":r.faceMaterial==="Blockboard18"?$t="Blockboard 18mm":r.faceMaterial==="Ply18"?$t="Plywood 18mm":r.faceMaterial==="Foamboard"&&($t="Foamboard 18mm"),oe.push(`Face: ${$t}`),oe.push(`Doors: ${r.doorsCount} pcs`),oe.push(`Shelves: ${r.shelvesCount} pcs`),oe.push(`Drawers: ${r.drawersCount} pcs`);let Cn="none";return r.veneerType==="Walnut"?Cn="Walnut veneer":r.veneerType==="Oak"?Cn="Oak veneer":r.veneerType==="Beech"?Cn="Beech veneer":r.veneerType==="HPL"?Cn="HPL laminate":r.veneerType==="LPL"&&(Cn="LPL laminate"),oe.push(`Facing: ${Cn}`),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?oe.push(`Finish: ${r.finishType}`):r.veneerType==="None"?oe.push("Finish: none"):oe.push("Finish: integrated (HPL/LPL)"),oe.push(`Hinges: ${se} pcs`),oe.join("  ")},Ms=()=>{const oe=zn(),Mt=`${r.heightCm}${r.widthCm}${r.depthCm} cm`;t({price:et,description:oe,dimensions:Mt,materials:ze})};return i?y.jsx("div",{className:"modal-backdrop",children:y.jsxs("div",{className:"modal-card",children:[y.jsx("h2",{className:"card-title",style:{marginBottom:12},children:"Cabinet Costing"}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Width (cm)",type:"number",value:String(r.widthCm),onChange:oe=>c("widthCm",Number(oe||0))}),y.jsx(ae,{label:"Height (cm)",type:"number",value:String(r.heightCm),onChange:oe=>c("heightCm",Number(oe||0))}),y.jsx(ae,{label:"Depth (cm)",type:"number",value:String(r.depthCm),onChange:oe=>c("depthCm",Number(oe||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Body panel material"}),y.jsxs("select",{className:"input",value:r.bodyMaterial,onChange:oe=>c("bodyMaterial",oe.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),y.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),y.jsx("span",{className:"field-hint",children:"Body panels (sides, top, bottom, dividers, shelves core)."})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Face panel material"}),y.jsxs("select",{className:"input",value:r.faceMaterial,onChange:oe=>c("faceMaterial",oe.target.value),children:[y.jsx("option",{value:"MDF16",children:"MDF 16mm"}),y.jsx("option",{value:"MDF21",children:"MDF 21mm"}),y.jsx("option",{value:"Blockboard18",children:"Blockboard 18mm"}),y.jsx("option",{value:"Ply18",children:"Plywood 18mm"}),y.jsx("option",{value:"Foamboard",children:"Foamboard 18mm"})]}),y.jsx("span",{className:"field-hint",children:"Face panel area is same as back (width  height)."})]}),y.jsxs("div",{className:"item-row",children:[y.jsx(ae,{label:"Doors (pcs)",type:"number",value:String(r.doorsCount),onChange:oe=>c("doorsCount",Number(oe||0))}),y.jsx(ae,{label:"Shelves (pcs)",type:"number",value:String(r.shelvesCount),onChange:oe=>c("shelvesCount",Number(oe||0))}),y.jsx(ae,{label:"Drawers (pcs)",type:"number",value:String(r.drawersCount),onChange:oe=>c("drawersCount",Number(oe||0))})]}),y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Facing / Veneer"}),y.jsxs("select",{className:"input",value:r.veneerType,onChange:oe=>c("veneerType",oe.target.value),children:[y.jsx("option",{value:"None",children:"None"}),y.jsx("option",{value:"Walnut",children:"Walnut veneer"}),y.jsx("option",{value:"Oak",children:"Oak veneer"}),y.jsx("option",{value:"Beech",children:"Beech veneer"}),y.jsx("option",{value:"HPL",children:"HPL"}),y.jsx("option",{value:"LPL",children:"LPL"})]})]}),r.veneerType==="Walnut"||r.veneerType==="Oak"||r.veneerType==="Beech"?y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:"Finish Type"}),y.jsxs("select",{className:"input",value:r.finishType,onChange:oe=>c("finishType",oe.target.value),children:[y.jsx("option",{children:"PU matte"}),y.jsx("option",{children:"PU high gloss"}),y.jsx("option",{children:"NC"}),y.jsx("option",{children:"Oil / stain"})]})]}):null,y.jsx(ae,{label:"Accessories (EGP)",type:"number",value:String(r.accessoriesCost),onChange:oe=>c("accessoriesCost",Number(oe||0))}),y.jsx(ae,{label:"Overhead (EGP)",type:"number",value:String(r.overheadCost),onChange:oe=>c("overheadCost",Number(oe||0))}),y.jsx(ae,{label:"Labor hours",type:"number",value:String(r.laborHours),onChange:oe=>c("laborHours",Number(oe||0))}),y.jsx(ae,{label:"Profit Margin %",type:"number",value:String(r.profitMargin),onChange:oe=>c("profitMargin",Number(oe||0))}),y.jsxs("div",{style:{fontSize:11,marginTop:8},children:[y.jsxs("div",{children:["Body area (approx): ",S.toFixed(2)," m"]}),y.jsxs("div",{children:["Shelves area: ",C.toFixed(2)," m"]}),y.jsxs("div",{children:["Core area total: ",j.toFixed(2)," m"]}),y.jsxs("div",{children:["Back area: ",E.toFixed(2)," m"]}),y.jsxs("div",{children:["Face area: ",J.toFixed(2)," m"]}),y.jsxs("div",{children:["Core sheets: ",N.toFixed(3)]}),y.jsxs("div",{children:["Back sheets: ",z.toFixed(3)]}),y.jsxs("div",{children:["Face sheets: ",ie.toFixed(3)]}),y.jsxs("div",{children:["Body core cost: ",k.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Back cost: ",P.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Face cost: ",Y.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Veneer / laminate cost: ",de.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Finish cost: ",le.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawers PLY cost: ",O.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawers MDF cost: ",G.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Drawer runners: ",V.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Hinges cost: ",me.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Accessories: ",r.accessoriesCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Overhead: ",r.overheadCost.toFixed(0)," EGP"]}),y.jsxs("div",{children:["Labor: ",r.laborHours.toFixed(2)," h  ",s.laborRatePerHour," ","= ",we.toFixed(0)," EGP"]}),y.jsxs("div",{style:{marginTop:4,color:"#fff",fontWeight:600},children:["Material cost: ",Xe.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Profit (",r.profitMargin,"%): ",Le.toFixed(0)," EGP"]}),y.jsxs("div",{style:{color:"#fff",fontWeight:600},children:["Suggested selling price / cabinet: ",et.toFixed(0)," EGP"]})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8,marginTop:12},children:[y.jsx("button",{type:"button",className:"btn-outline",onClick:e,children:"Cancel"}),y.jsx("button",{type:"button",className:"btn-primary",onClick:Ms,children:"Apply to Item"})]})]})}):null},ae=({label:i,value:e,onChange:t,type:s="text"})=>y.jsxs("label",{className:"field",children:[y.jsx("span",{className:"field-label",children:i}),y.jsx("input",{className:"input",type:s,value:e,onChange:r=>t(r.target.value)})]});function mo(i){return i+.5|0}const Ii=(i,e,t)=>Math.max(Math.min(i,t),e);function $r(i){return Ii(mo(i*2.55),0,255)}function Vi(i){return Ii(mo(i*255),0,255)}function oi(i){return Ii(mo(i/2.55)/100,0,1)}function jb(i){return Ii(mo(i*100),0,100)}const gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yd=[..."0123456789ABCDEF"],DC=i=>Yd[i&15],PC=i=>Yd[(i&240)>>4]+Yd[i&15],$l=i=>(i&240)>>4===(i&15),LC=i=>$l(i.r)&&$l(i.g)&&$l(i.b)&&$l(i.a);function zC(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&gn[i[1]]*17,g:255&gn[i[2]]*17,b:255&gn[i[3]]*17,a:e===5?gn[i[4]]*17:255}:(e===7||e===9)&&(t={r:gn[i[1]]<<4|gn[i[2]],g:gn[i[3]]<<4|gn[i[4]],b:gn[i[5]]<<4|gn[i[6]],a:e===9?gn[i[7]]<<4|gn[i[8]]:255})),t}const BC=(i,e)=>i<255?e(i):"";function UC(i){var e=LC(i)?DC:PC;return i?"#"+e(i.r)+e(i.g)+e(i.b)+BC(i.a,e):void 0}const HC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function __(i,e,t){const s=e*Math.min(t,1-t),r=(o,c=(o+i/30)%12)=>t-s*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function FC(i,e,t){const s=(r,o=(r+i/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function IC(i,e,t){const s=__(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)s[r]*=1-e-t,s[r]+=e;return s}function qC(i,e,t,s,r){return i===r?(e-t)/s+(e<t?6:0):e===r?(t-i)/s+2:(i-e)/s+4}function yf(i){const t=i.r/255,s=i.g/255,r=i.b/255,o=Math.max(t,s,r),c=Math.min(t,s,r),h=(o+c)/2;let d,f,m;return o!==c&&(m=o-c,f=h>.5?m/(2-o-c):m/(o+c),d=qC(t,s,r,m,o),d=d*60+.5),[d|0,f||0,h]}function bf(i,e,t,s){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,s)).map(Vi)}function vf(i,e,t){return bf(__,i,e,t)}function $C(i,e,t){return bf(IC,i,e,t)}function GC(i,e,t){return bf(FC,i,e,t)}function x_(i){return(i%360+360)%360}function VC(i){const e=HC.exec(i);let t=255,s;if(!e)return;e[5]!==s&&(t=e[6]?$r(+e[5]):Vi(+e[5]));const r=x_(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=$C(r,o,c):e[1]==="hsv"?s=GC(r,o,c):s=vf(r,o,c),{r:s[0],g:s[1],b:s[2],a:t}}function YC(i,e){var t=yf(i);t[0]=x_(t[0]+e),t=vf(t),i.r=t[0],i.g=t[1],i.b=t[2]}function WC(i){if(!i)return;const e=yf(i),t=e[0],s=jb(e[1]),r=jb(e[2]);return i.a<255?`hsla(${t}, ${s}%, ${r}%, ${oi(i.a)})`:`hsl(${t}, ${s}%, ${r}%)`}const Ab={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ob={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KC(){const i={},e=Object.keys(Ob),t=Object.keys(Ab);let s,r,o,c,h;for(s=0;s<e.length;s++){for(c=h=e[s],r=0;r<t.length;r++)o=t[r],h=h.replace(o,Ab[o]);o=parseInt(Ob[c],16),i[h]=[o>>16&255,o>>8&255,o&255]}return i}let Gl;function XC(i){Gl||(Gl=KC(),Gl.transparent=[0,0,0,0]);const e=Gl[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QC=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function JC(i){const e=QC.exec(i);let t=255,s,r,o;if(e){if(e[7]!==s){const c=+e[7];t=e[8]?$r(c):Ii(c*255,0,255)}return s=+e[1],r=+e[3],o=+e[5],s=255&(e[2]?$r(s):Ii(s,0,255)),r=255&(e[4]?$r(r):Ii(r,0,255)),o=255&(e[6]?$r(o):Ii(o,0,255)),{r:s,g:r,b:o,a:t}}}function ZC(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${oi(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const md=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,_a=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function ej(i,e,t){const s=_a(oi(i.r)),r=_a(oi(i.g)),o=_a(oi(i.b));return{r:Vi(md(s+t*(_a(oi(e.r))-s))),g:Vi(md(r+t*(_a(oi(e.g))-r))),b:Vi(md(o+t*(_a(oi(e.b))-o))),a:i.a+t*(e.a-i.a)}}function Vl(i,e,t){if(i){let s=yf(i);s[e]=Math.max(0,Math.min(s[e]+s[e]*t,e===0?360:1)),s=vf(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function S_(i,e){return i&&Object.assign(e||{},i)}function Rb(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Vi(i[3]))):(e=S_(i,{r:0,g:0,b:0,a:1}),e.a=Vi(e.a)),e}function tj(i){return i.charAt(0)==="r"?JC(i):VC(i)}class to{constructor(e){if(e instanceof to)return e;const t=typeof e;let s;t==="object"?s=Rb(e):t==="string"&&(s=zC(e)||XC(e)||tj(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=S_(this._rgb);return e&&(e.a=oi(e.a)),e}set rgb(e){this._rgb=Rb(e)}rgbString(){return this._valid?ZC(this._rgb):void 0}hexString(){return this._valid?UC(this._rgb):void 0}hslString(){return this._valid?WC(this._rgb):void 0}mix(e,t){if(e){const s=this.rgb,r=e.rgb;let o;const c=t===o?.5:t,h=2*c-1,d=s.a-r.a,f=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;o=1-f,s.r=255&f*s.r+o*r.r+.5,s.g=255&f*s.g+o*r.g+.5,s.b=255&f*s.b+o*r.b+.5,s.a=c*s.a+(1-c)*r.a,this.rgb=s}return this}interpolate(e,t){return e&&(this._rgb=ej(this._rgb,e._rgb,t)),this}clone(){return new to(this.rgb)}alpha(e){return this._rgb.a=Vi(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=mo(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Vl(this._rgb,2,e),this}darken(e){return Vl(this._rgb,2,-e),this}saturate(e){return Vl(this._rgb,1,e),this}desaturate(e){return Vl(this._rgb,1,-e),this}rotate(e){return YC(this._rgb,e),this}}function si(){}const nj=(()=>{let i=0;return()=>i++})();function Pe(i){return i==null}function pt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Me(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function mn(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function Mn(i,e){return mn(i)?i:e}function Te(i,e){return typeof i>"u"?e:i}const ij=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,w_=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function Ke(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function He(i,e,t,s){let r,o,c;if(pt(i))for(o=i.length,r=0;r<o;r++)e.call(t,i[r],r);else if(Me(i))for(c=Object.keys(i),o=c.length,r=0;r<o;r++)e.call(t,i[c[r]],c[r])}function Ec(i,e){let t,s,r,o;if(!i||!e||i.length!==e.length)return!1;for(t=0,s=i.length;t<s;++t)if(r=i[t],o=e[t],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Tc(i){if(pt(i))return i.map(Tc);if(Me(i)){const e=Object.create(null),t=Object.keys(i),s=t.length;let r=0;for(;r<s;++r)e[t[r]]=Tc(i[t[r]]);return e}return i}function E_(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function sj(i,e,t,s){if(!E_(i))return;const r=e[i],o=t[i];Me(r)&&Me(o)?no(r,o,s):e[i]=Tc(o)}function no(i,e,t){const s=pt(e)?e:[e],r=s.length;if(!Me(i))return i;t=t||{};const o=t.merger||sj;let c;for(let h=0;h<r;++h){if(c=s[h],!Me(c))continue;const d=Object.keys(c);for(let f=0,m=d.length;f<m;++f)o(d[f],i,c,t)}return i}function Wr(i,e){return no(i,e,{merger:aj})}function aj(i,e,t){if(!E_(i))return;const s=e[i],r=t[i];Me(s)&&Me(r)?Wr(s,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Tc(r))}const Mb={"":i=>i,x:i=>i.x,y:i=>i.y};function rj(i){const e=i.split("."),t=[];let s="";for(const r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(t.push(s),s="");return t}function oj(i){const e=rj(i);return t=>{for(const s of e){if(s==="")break;t=t&&t[s]}return t}}function As(i,e){return(Mb[e]||(Mb[e]=oj(e)))(i)}function _f(i){return i.charAt(0).toUpperCase()+i.slice(1)}const io=i=>typeof i<"u",Yi=i=>typeof i=="function",kb=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function lj(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Fe=Math.PI,it=2*Fe,cj=it+Fe,Cc=Number.POSITIVE_INFINITY,uj=Fe/180,mt=Fe/2,ps=Fe/4,Nb=Fe*2/3,T_=Math.log10,Pn=Math.sign;function Kr(i,e,t){return Math.abs(i-e)<t}function Db(i){const e=Math.round(i);i=Kr(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(T_(i))),s=i/t;return(s<=1?1:s<=2?2:s<=5?5:10)*t}function hj(i){const e=[],t=Math.sqrt(i);let s;for(s=1;s<t;s++)i%s===0&&(e.push(s),e.push(i/s));return t===(t|0)&&e.push(t),e.sort((r,o)=>r-o).pop(),e}function dj(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function so(i){return!dj(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function fj(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function gj(i,e,t){let s,r,o;for(s=0,r=i.length;s<r;s++)o=i[s][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function li(i){return i*(Fe/180)}function pj(i){return i*(180/Fe)}function Pb(i){if(!mn(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function C_(i,e){const t=e.x-i.x,s=e.y-i.y,r=Math.sqrt(t*t+s*s);let o=Math.atan2(s,t);return o<-.5*Fe&&(o+=it),{angle:o,distance:r}}function Wd(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function mj(i,e){return(i-e+cj)%it-Fe}function En(i){return(i%it+it)%it}function ao(i,e,t,s){const r=En(i),o=En(e),c=En(t),h=En(o-r),d=En(c-r),f=En(r-o),m=En(r-c);return r===o||r===c||s&&o===c||h>d&&f<m}function Ot(i,e,t){return Math.max(e,Math.min(t,i))}function yj(i){return Ot(i,-32768,32767)}function qi(i,e,t,s=1e-6){return i>=Math.min(e,t)-s&&i<=Math.max(e,t)+s}function xf(i,e,t){t=t||(c=>i[c]<e);let s=i.length-1,r=0,o;for(;s-r>1;)o=r+s>>1,t(o)?r=o:s=o;return{lo:r,hi:s}}const Cs=(i,e,t,s)=>xf(i,t,s?r=>{const o=i[r][e];return o<t||o===t&&i[r+1][e]===t}:r=>i[r][e]<t),bj=(i,e,t)=>xf(i,t,s=>i[s][e]>=t);function vj(i,e,t){let s=0,r=i.length;for(;s<r&&i[s]<e;)s++;for(;r>s&&i[r-1]>t;)r--;return s>0||r<i.length?i.slice(s,r):i}const j_=["push","pop","shift","splice","unshift"];function _j(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),j_.forEach(t=>{const s="_onData"+_f(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...o)}),c}})})}function Lb(i,e){const t=i._chartjs;if(!t)return;const s=t.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(j_.forEach(o=>{delete i[o]}),delete i._chartjs)}function A_(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const O_=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function R_(i,e){let t=[],s=!1;return function(...r){t=r,s||(s=!0,O_.call(window,()=>{s=!1,i.apply(e,t)}))}}function xj(i,e){let t;return function(...s){return e?(clearTimeout(t),t=setTimeout(i,e,s)):i.apply(this,s),e}}const Sf=i=>i==="start"?"left":i==="end"?"right":"center",At=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,Sj=(i,e,t,s)=>i===(s?"left":"right")?t:i==="center"?(e+t)/2:e;function wj(i,e,t){const s=e.length;let r=0,o=s;if(i._sorted){const{iScale:c,vScale:h,_parsed:d}=i,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,m=c.axis,{min:b,max:v,minDefined:x,maxDefined:S}=c.getUserBounds();if(x){if(r=Math.min(Cs(d,m,b).lo,t?s:Cs(e,m,c.getPixelForValue(b)).lo),f){const E=d.slice(0,r+1).reverse().findIndex(w=>!Pe(w[h.axis]));r-=Math.max(0,E)}r=Ot(r,0,s-1)}if(S){let E=Math.max(Cs(d,c.axis,v,!0).hi+1,t?0:Cs(e,m,c.getPixelForValue(v),!0).hi+1);if(f){const w=d.slice(E-1).findIndex(C=>!Pe(C[h.axis]));E+=Math.max(0,w)}o=Ot(E,r,s)-r}else o=s-r}return{start:r,count:o}}function Ej(i){const{xScale:e,yScale:t,_scaleRanges:s}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!s)return i._scaleRanges=r,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==t.min||s.ymax!==t.max;return Object.assign(s,r),o}const Yl=i=>i===0||i===1,zb=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*it/t)),Bb=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*it/t)+1,Xr={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*mt)+1,easeOutSine:i=>Math.sin(i*mt),easeInOutSine:i=>-.5*(Math.cos(Fe*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Yl(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Yl(i)?i:zb(i,.075,.3),easeOutElastic:i=>Yl(i)?i:Bb(i,.075,.3),easeInOutElastic(i){return Yl(i)?i:i<.5?.5*zb(i*2,.1125,.45):.5+.5*Bb(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Xr.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Xr.easeInBounce(i*2)*.5:Xr.easeOutBounce(i*2-1)*.5+.5};function wf(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Ub(i){return wf(i)?i:new to(i)}function yd(i){return wf(i)?i:new to(i).saturate(.5).darken(.1).hexString()}const Tj=["x","y","borderWidth","radius","tension"],Cj=["color","borderColor","backgroundColor"];function jj(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:Cj},numbers:{type:"number",properties:Tj}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Aj(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Hb=new Map;function Oj(i,e){e=e||{};const t=i+JSON.stringify(e);let s=Hb.get(t);return s||(s=new Intl.NumberFormat(i,e),Hb.set(t,s)),s}function Ef(i,e,t){return Oj(e,t).format(i)}const Rj={values(i){return pt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const s=this.chart.options.locale;let r,o=i;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=Mj(i,t)}const c=T_(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),d={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),Ef(i,s,d)}};function Mj(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var M_={formatters:Rj};function kj(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:M_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Os=Object.create(null),Kd=Object.create(null);function Qr(i,e){if(!e)return i;const t=e.split(".");for(let s=0,r=t.length;s<r;++s){const o=t[s];i=i[o]||(i[o]=Object.create(null))}return i}function bd(i,e,t){return typeof e=="string"?no(Qr(i,e),t):no(Qr(i,""),e)}class Nj{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>yd(r.backgroundColor),this.hoverBorderColor=(s,r)=>yd(r.borderColor),this.hoverColor=(s,r)=>yd(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return bd(this,e,t)}get(e){return Qr(this,e)}describe(e,t){return bd(Kd,e,t)}override(e,t){return bd(Os,e,t)}route(e,t,s,r){const o=Qr(this,e),c=Qr(this,s),h="_"+t;Object.defineProperties(o,{[h]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[h],f=c[r];return Me(d)?Object.assign({},f,d):Te(d,f)},set(d){this[h]=d}}})}apply(e){e.forEach(t=>t(this))}}var ot=new Nj({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[jj,Aj,kj]);function Dj(i){return!i||Pe(i.size)||Pe(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Fb(i,e,t,s,r){let o=e[r];return o||(o=e[r]=i.measureText(r).width,t.push(r)),o>s&&(s=o),s}function ms(i,e,t){const s=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*s)/s+r}function Ib(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function Xd(i,e,t,s){k_(i,e,t,s,null)}function k_(i,e,t,s,r){let o,c,h,d,f,m,b,v;const x=e.pointStyle,S=e.rotation,E=e.radius;let w=(S||0)*uj;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(t,s),i.rotate(w),i.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),i.restore();return}if(!(isNaN(E)||E<=0)){switch(i.beginPath(),x){default:r?i.ellipse(t,s,r/2,E,0,0,it):i.arc(t,s,E,0,it),i.closePath();break;case"triangle":m=r?r/2:E,i.moveTo(t+Math.sin(w)*m,s-Math.cos(w)*E),w+=Nb,i.lineTo(t+Math.sin(w)*m,s-Math.cos(w)*E),w+=Nb,i.lineTo(t+Math.sin(w)*m,s-Math.cos(w)*E),i.closePath();break;case"rectRounded":f=E*.516,d=E-f,c=Math.cos(w+ps)*d,b=Math.cos(w+ps)*(r?r/2-f:d),h=Math.sin(w+ps)*d,v=Math.sin(w+ps)*(r?r/2-f:d),i.arc(t-b,s-h,f,w-Fe,w-mt),i.arc(t+v,s-c,f,w-mt,w),i.arc(t+b,s+h,f,w,w+mt),i.arc(t-v,s+c,f,w+mt,w+Fe),i.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*E,m=r?r/2:d,i.rect(t-m,s-d,2*m,2*d);break}w+=ps;case"rectRot":b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+v,s-c),i.lineTo(t+b,s+h),i.lineTo(t-v,s+c),i.closePath();break;case"crossRot":w+=ps;case"cross":b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"star":b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c),w+=ps,b=Math.cos(w)*(r?r/2:E),c=Math.cos(w)*E,h=Math.sin(w)*E,v=Math.sin(w)*(r?r/2:E),i.moveTo(t-b,s-h),i.lineTo(t+b,s+h),i.moveTo(t+v,s-c),i.lineTo(t-v,s+c);break;case"line":c=r?r/2:Math.cos(w)*E,h=Math.sin(w)*E,i.moveTo(t-c,s-h),i.lineTo(t+c,s+h);break;case"dash":i.moveTo(t,s),i.lineTo(t+Math.cos(w)*(r?r/2:E),s+Math.sin(w)*E);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function ro(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Tf(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Cf(i){i.restore()}function Pj(i,e,t,s,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const o=(e.x+t.x)/2;i.lineTo(o,e.y),i.lineTo(o,t.y)}else r==="after"!=!!s?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function Lj(i,e,t,s){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?t.cp2x:t.cp1x,s?t.cp2y:t.cp1y,t.x,t.y)}function zj(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Pe(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function Bj(i,e,t,s,r){if(r.strikethrough||r.underline){const o=i.measureText(s),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,d=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,m=r.strikethrough?(d+f)/2:f;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(c,m),i.lineTo(h,m),i.stroke()}}function Uj(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function oo(i,e,t,s,r,o={}){const c=pt(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(i.save(),i.font=r.string,zj(i,o),d=0;d<c.length;++d)f=c[d],o.backdrop&&Uj(i,o.backdrop),h&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Pe(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(f,t,s,o.maxWidth)),i.fillText(f,t,s,o.maxWidth),Bj(i,t,s,f,o),s+=Number(r.lineHeight);i.restore()}function jc(i,e){const{x:t,y:s,w:r,h:o,radius:c}=e;i.arc(t+c.topLeft,s+c.topLeft,c.topLeft,1.5*Fe,Fe,!0),i.lineTo(t,s+o-c.bottomLeft),i.arc(t+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,Fe,mt,!0),i.lineTo(t+r-c.bottomRight,s+o),i.arc(t+r-c.bottomRight,s+o-c.bottomRight,c.bottomRight,mt,0,!0),i.lineTo(t+r,s+c.topRight),i.arc(t+r-c.topRight,s+c.topRight,c.topRight,0,-mt,!0),i.lineTo(t+c.topLeft,s)}const Hj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Fj=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ij(i,e){const t=(""+i).match(Hj);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const qj=i=>+i||0;function jf(i,e){const t={},s=Me(e),r=s?Object.keys(e):e,o=Me(i)?s?c=>Te(i[c],i[e[c]]):c=>i[c]:()=>i;for(const c of r)t[c]=qj(o(c));return t}function N_(i){return jf(i,{top:"y",right:"x",bottom:"y",left:"x"})}function ja(i){return jf(i,["topLeft","topRight","bottomLeft","bottomRight"])}function yn(i){const e=N_(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(i,e){i=i||{},e=e||ot.font;let t=Te(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let s=Te(i.style,e.style);s&&!(""+s).match(Fj)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const r={family:Te(i.family,e.family),lineHeight:Ij(Te(i.lineHeight,e.lineHeight),t),size:t,style:s,weight:Te(i.weight,e.weight),string:""};return r.string=Dj(r),r}function Wl(i,e,t,s){let r,o,c;for(r=0,o=i.length;r<o;++r)if(c=i[r],c!==void 0&&c!==void 0)return c}function $j(i,e,t){const{min:s,max:r}=i,o=w_(e,(r-s)/2),c=(h,d)=>t&&h===0?0:h+d;return{min:c(s,-Math.abs(o)),max:c(r,o)}}function Rs(i,e){return Object.assign(Object.create(i),e)}function Af(i,e=[""],t,s,r=()=>i[0]){const o=t||i;typeof s>"u"&&(s=z_("_fallback",i));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:s,_getTarget:r,override:h=>Af([h,...i],e,o,s)};return new Proxy(c,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return P_(h,d,()=>Jj(d,e,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return $b(h).includes(d)},ownKeys(h){return $b(h)},set(h,d,f){const m=h._storage||(h._storage=r());return h[d]=m[d]=f,delete h._keys,!0}})}function Ma(i,e,t,s){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:D_(i,s),setContext:o=>Ma(i,o,t,s),override:o=>Ma(i.override(o),e,t,s)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete i[c],!0},get(o,c,h){return P_(o,c,()=>Vj(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(i,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,c)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,c){return Reflect.has(i,c)},ownKeys(){return Reflect.ownKeys(i)},set(o,c,h){return i[c]=h,delete o[c],!0}})}function D_(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:s,isScriptable:Yi(t)?t:()=>t,isIndexable:Yi(s)?s:()=>s}}const Gj=(i,e)=>i?i+_f(e):e,Of=(i,e)=>Me(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function P_(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const s=t();return i[e]=s,s}function Vj(i,e,t){const{_proxy:s,_context:r,_subProxy:o,_descriptors:c}=i;let h=s[e];return Yi(h)&&c.isScriptable(e)&&(h=Yj(e,h,i,t)),pt(h)&&h.length&&(h=Wj(e,h,i,c.isIndexable)),Of(e,h)&&(h=Ma(h,r,o&&o[e],c)),h}function Yj(i,e,t,s){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=t;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=e(o,c||s);return h.delete(i),Of(i,d)&&(d=Rf(r._scopes,r,i,d)),d}function Wj(i,e,t,s){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=t;if(typeof o.index<"u"&&s(i))return e[o.index%e.length];if(Me(e[0])){const d=e,f=r._scopes.filter(m=>m!==d);e=[];for(const m of d){const b=Rf(f,r,i,m);e.push(Ma(b,o,c&&c[i],h))}}return e}function L_(i,e,t){return Yi(i)?i(e,t):i}const Kj=(i,e)=>i===!0?e:typeof i=="string"?As(e,i):void 0;function Xj(i,e,t,s,r){for(const o of e){const c=Kj(t,o);if(c){i.add(c);const h=L_(c._fallback,t,r);if(typeof h<"u"&&h!==t&&h!==s)return h}else if(c===!1&&typeof s<"u"&&t!==s)return null}return!1}function Rf(i,e,t,s){const r=e._rootScopes,o=L_(e._fallback,t,s),c=[...i,...r],h=new Set;h.add(s);let d=qb(h,c,t,o||t,s);return d===null||typeof o<"u"&&o!==t&&(d=qb(h,c,o,d,s),d===null)?!1:Af(Array.from(h),[""],r,o,()=>Qj(e,t,s))}function qb(i,e,t,s,r){for(;t;)t=Xj(i,e,t,s,r);return t}function Qj(i,e,t){const s=i._getTarget();e in s||(s[e]={});const r=s[e];return pt(r)&&Me(t)?t:r||{}}function Jj(i,e,t,s){let r;for(const o of e)if(r=z_(Gj(o,i),t),typeof r<"u")return Of(i,r)?Rf(t,s,i,r):r}function z_(i,e){for(const t of e){if(!t)continue;const s=t[i];if(typeof s<"u")return s}}function $b(i){let e=i._keys;return e||(e=i._keys=Zj(i._scopes)),e}function Zj(i){const e=new Set;for(const t of i)for(const s of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}const eA=Number.EPSILON||1e-14,ka=(i,e)=>e<i.length&&!i[e].skip&&i[e],B_=i=>i==="x"?"y":"x";function tA(i,e,t,s){const r=i.skip?e:i,o=e,c=t.skip?e:t,h=Wd(o,r),d=Wd(c,o);let f=h/(h+d),m=d/(h+d);f=isNaN(f)?0:f,m=isNaN(m)?0:m;const b=s*f,v=s*m;return{previous:{x:o.x-b*(c.x-r.x),y:o.y-b*(c.y-r.y)},next:{x:o.x+v*(c.x-r.x),y:o.y+v*(c.y-r.y)}}}function nA(i,e,t){const s=i.length;let r,o,c,h,d,f=ka(i,0);for(let m=0;m<s-1;++m)if(d=f,f=ka(i,m+1),!(!d||!f)){if(Kr(e[m],0,eA)){t[m]=t[m+1]=0;continue}r=t[m]/e[m],o=t[m+1]/e[m],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),t[m]=r*c*e[m],t[m+1]=o*c*e[m])}}function iA(i,e,t="x"){const s=B_(t),r=i.length;let o,c,h,d=ka(i,0);for(let f=0;f<r;++f){if(c=h,h=d,d=ka(i,f+1),!h)continue;const m=h[t],b=h[s];c&&(o=(m-c[t])/3,h[`cp1${t}`]=m-o,h[`cp1${s}`]=b-o*e[f]),d&&(o=(d[t]-m)/3,h[`cp2${t}`]=m+o,h[`cp2${s}`]=b+o*e[f])}}function sA(i,e="x"){const t=B_(e),s=i.length,r=Array(s).fill(0),o=Array(s);let c,h,d,f=ka(i,0);for(c=0;c<s;++c)if(h=d,d=f,f=ka(i,c+1),!!d){if(f){const m=f[e]-d[e];r[c]=m!==0?(f[t]-d[t])/m:0}o[c]=h?f?Pn(r[c-1])!==Pn(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}nA(i,r,o),iA(i,o,e)}function Kl(i,e,t){return Math.max(Math.min(i,t),e)}function aA(i,e){let t,s,r,o,c,h=ro(i[0],e);for(t=0,s=i.length;t<s;++t)c=o,o=h,h=t<s-1&&ro(i[t+1],e),o&&(r=i[t],c&&(r.cp1x=Kl(r.cp1x,e.left,e.right),r.cp1y=Kl(r.cp1y,e.top,e.bottom)),h&&(r.cp2x=Kl(r.cp2x,e.left,e.right),r.cp2y=Kl(r.cp2y,e.top,e.bottom)))}function rA(i,e,t,s,r){let o,c,h,d;if(e.spanGaps&&(i=i.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")sA(i,r);else{let f=s?i[i.length-1]:i[0];for(o=0,c=i.length;o<c;++o)h=i[o],d=tA(f,h,i[Math.min(o+1,c-(s?0:1))%c],e.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,f=h}e.capBezierPoints&&aA(i,t)}function Mf(){return typeof window<"u"&&typeof document<"u"}function kf(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ac(i,e,t){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*e.parentNode[t])):s=i,s}const zc=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function oA(i,e){return zc(i).getPropertyValue(e)}const lA=["top","right","bottom","left"];function js(i,e,t){const s={};t=t?"-"+t:"";for(let r=0;r<4;r++){const o=lA[r];s[o]=parseFloat(i[e+"-"+o+t])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const cA=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function uA(i,e){const t=i.touches,s=t&&t.length?t[0]:i,{offsetX:r,offsetY:o}=s;let c=!1,h,d;if(cA(r,o,i.target))h=r,d=o;else{const f=e.getBoundingClientRect();h=s.clientX-f.left,d=s.clientY-f.top,c=!0}return{x:h,y:d,box:c}}function xs(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:s}=e,r=zc(t),o=r.boxSizing==="border-box",c=js(r,"padding"),h=js(r,"border","width"),{x:d,y:f,box:m}=uA(i,t),b=c.left+(m&&h.left),v=c.top+(m&&h.top);let{width:x,height:S}=e;return o&&(x-=c.width+h.width,S-=c.height+h.height),{x:Math.round((d-b)/x*t.width/s),y:Math.round((f-v)/S*t.height/s)}}function hA(i,e,t){let s,r;if(e===void 0||t===void 0){const o=i&&kf(i);if(!o)e=i.clientWidth,t=i.clientHeight;else{const c=o.getBoundingClientRect(),h=zc(o),d=js(h,"border","width"),f=js(h,"padding");e=c.width-f.width-d.width,t=c.height-f.height-d.height,s=Ac(h.maxWidth,o,"clientWidth"),r=Ac(h.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:s||Cc,maxHeight:r||Cc}}const $i=i=>Math.round(i*10)/10;function dA(i,e,t,s){const r=zc(i),o=js(r,"margin"),c=Ac(r.maxWidth,i,"clientWidth")||Cc,h=Ac(r.maxHeight,i,"clientHeight")||Cc,d=hA(i,e,t);let{width:f,height:m}=d;if(r.boxSizing==="content-box"){const v=js(r,"border","width"),x=js(r,"padding");f-=x.width+v.width,m-=x.height+v.height}return f=Math.max(0,f-o.width),m=Math.max(0,s?f/s:m-o.height),f=$i(Math.min(f,c,d.maxWidth)),m=$i(Math.min(m,h,d.maxHeight)),f&&!m&&(m=$i(f/2)),(e!==void 0||t!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,f=$i(Math.floor(m*s))),{width:f,height:m}}function Gb(i,e,t){const s=e||1,r=$i(i.height*s),o=$i(i.width*s);i.height=$i(i.height),i.width=$i(i.width);const c=i.canvas;return c.style&&(t||!c.style.height&&!c.style.width)&&(c.style.height=`${i.height}px`,c.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||c.height!==r||c.width!==o?(i.currentDevicePixelRatio=s,c.height=r,c.width=o,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const fA=(function(){let i=!1;try{const e={get passive(){return i=!0,!1}};Mf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function Vb(i,e){const t=oA(i,e),s=t&&t.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Ss(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function gA(i,e,t,s){return{x:i.x+t*(e.x-i.x),y:s==="middle"?t<.5?i.y:e.y:s==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function pA(i,e,t,s){const r={x:i.cp2x,y:i.cp2y},o={x:e.cp1x,y:e.cp1y},c=Ss(i,r,t),h=Ss(r,o,t),d=Ss(o,e,t),f=Ss(c,h,t),m=Ss(h,d,t);return Ss(f,m,t)}const mA=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,s){return t-s},leftForLtr(t,s){return t-s}}},yA=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Aa(i,e,t){return i?mA(e,t):yA()}function U_(i,e){let t,s;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,s=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=s)}function H_(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function F_(i){return i==="angle"?{between:ao,compare:mj,normalize:En}:{between:qi,compare:(e,t)=>e-t,normalize:e=>e}}function Yb({start:i,end:e,count:t,loop:s,style:r}){return{start:i%t,end:e%t,loop:s&&(e-i+1)%t===0,style:r}}function bA(i,e,t){const{property:s,start:r,end:o}=t,{between:c,normalize:h}=F_(s),d=e.length;let{start:f,end:m,loop:b}=i,v,x;if(b){for(f+=d,m+=d,v=0,x=d;v<x&&c(h(e[f%d][s]),r,o);++v)f--,m--;f%=d,m%=d}return m<f&&(m+=d),{start:f,end:m,loop:b,style:i.style}}function vA(i,e,t){if(!t)return[i];const{property:s,start:r,end:o}=t,c=e.length,{compare:h,between:d,normalize:f}=F_(s),{start:m,end:b,loop:v,style:x}=bA(i,e,t),S=[];let E=!1,w=null,C,j,A;const N=()=>d(r,A,C)&&h(r,A)!==0,k=()=>h(o,C)===0||d(o,A,C),z=()=>E||N(),P=()=>!E||k();for(let J=m,I=m;J<=b;++J)j=e[J%c],!j.skip&&(C=f(j[s]),C!==A&&(E=d(C,r,o),w===null&&z()&&(w=h(C,r)===0?J:I),w!==null&&P()&&(S.push(Yb({start:w,end:J,loop:v,count:c,style:x})),w=null),I=J,A=C));return w!==null&&S.push(Yb({start:w,end:b,loop:v,count:c,style:x})),S}function _A(i,e){const t=[],s=i.segments;for(let r=0;r<s.length;r++){const o=vA(s[r],i.points,e);o.length&&t.push(...o)}return t}function xA(i,e,t,s){let r=0,o=e-1;if(t&&!s)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(o+=r);o>r&&i[o%e].skip;)o--;return o%=e,{start:r,end:o}}function SA(i,e,t,s){const r=i.length,o=[];let c=e,h=i[e],d;for(d=e+1;d<=t;++d){const f=i[d%r];f.skip||f.stop?h.skip||(s=!1,o.push({start:e%r,end:(d-1)%r,loop:s}),e=c=f.stop?d:null):(c=d,h.skip&&(e=d)),h=f}return c!==null&&o.push({start:e%r,end:c%r,loop:s}),o}function wA(i,e){const t=i.points,s=i.options.spanGaps,r=t.length;if(!r)return[];const o=!!i._loop,{start:c,end:h}=xA(t,r,o,s);if(s===!0)return Wb(i,[{start:c,end:h,loop:o}],t,e);const d=h<c?h+r:h,f=!!i._fullLoop&&c===0&&h===r-1;return Wb(i,SA(t,c,d,f),t,e)}function Wb(i,e,t,s){return!s||!s.setContext||!t?e:EA(i,e,t,s)}function EA(i,e,t,s){const r=i._chart.getContext(),o=Kb(i.options),{_datasetIndex:c,options:{spanGaps:h}}=i,d=t.length,f=[];let m=o,b=e[0].start,v=b;function x(S,E,w,C){const j=h?-1:1;if(S!==E){for(S+=d;t[S%d].skip;)S-=j;for(;t[E%d].skip;)E+=j;S%d!==E%d&&(f.push({start:S%d,end:E%d,loop:w,style:C}),m=C,b=E%d)}}for(const S of e){b=h?b:S.start;let E=t[b%d],w;for(v=b+1;v<=S.end;v++){const C=t[v%d];w=Kb(s.setContext(Rs(r,{type:"segment",p0:E,p1:C,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:c}))),TA(w,m)&&x(b,v-1,S.loop,m),E=C,m=w}b<v-1&&x(b,v-1,S.loop,m)}return f}function Kb(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function TA(i,e){if(!e)return!1;const t=[],s=function(r,o){return wf(o)?(t.includes(o)||t.push(o),t.indexOf(o)):o};return JSON.stringify(i,s)!==JSON.stringify(e,s)}function Xl(i,e,t){return i.options.clip?i[t]:e[t]}function CA(i,e){const{xScale:t,yScale:s}=i;return t&&s?{left:Xl(t,e,"left"),right:Xl(t,e,"right"),top:Xl(s,e,"top"),bottom:Xl(s,e,"bottom")}:e}function jA(i,e){const t=e._clip;if(t.disabled)return!1;const s=CA(e,i.chartArea);return{left:t.left===!1?0:s.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:s.right+(t.right===!0?0:t.right),top:t.top===!1?0:s.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:s.bottom+(t.bottom===!0?0:t.bottom)}}class AA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,s,r){const o=t.listeners[r],c=t.duration;o.forEach(h=>h({chart:e,initial:t.initial,numSteps:c,currentStep:Math.min(s-t.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=O_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,h=!1,d;for(;c>=0;--c)d=o[c],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,s,e,"progress")),o.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let s=t.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,s)),s}listen(e,t,s){this._getAnims(e).listeners[t].push(s)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const s=t.items;let r=s.length-1;for(;r>=0;--r)s[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ai=new AA;const Xb="transparent",OA={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const s=Ub(i||Xb),r=s.valid&&Ub(e||Xb);return r&&r.valid?r.mix(s,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class RA{constructor(e,t,s,r){const o=t[s];r=Wl([e.to,r,o,e.from]);const c=Wl([e.from,o,r]);this._active=!0,this._fn=e.fn||OA[e.type||typeof c],this._easing=Xr[e.easing]||Xr.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=s,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,s){if(this._active){this._notify(!1);const r=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Wl([e.to,t,r,e.from]),this._from=Wl([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,s=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let d;if(this._active=o!==h&&(c||t<s),!this._active){this._target[r]=h,this._notify(!0);return}if(t<0){this._target[r]=o;return}d=t/s%2,d=c&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,h,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,s)=>{e.push({res:t,rej:s})})}_notify(e){const t=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][t]()}}class I_{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Me(e))return;const t=Object.keys(ot.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const o=e[r];if(!Me(o))return;const c={};for(const h of t)c[h]=o[h];(pt(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!s.has(h))&&s.set(h,c)})})}_animateOptions(e,t){const s=t.options,r=kA(e,s);if(!r)return[];const o=this._createAnimations(r,s);return s.$shared&&MA(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,t){const s=this._properties,r=[],o=e.$animations||(e.$animations={}),c=Object.keys(t),h=Date.now();let d;for(d=c.length-1;d>=0;--d){const f=c[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(e,t));continue}const m=t[f];let b=o[f];const v=s.get(f);if(b)if(v&&b.active()){b.update(v,m,h);continue}else b.cancel();if(!v||!v.duration){e[f]=m;continue}o[f]=b=new RA(v,e,f,m),r.push(b)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const s=this._createAnimations(e,t);if(s.length)return ai.add(this._chart,s),!0}}function MA(i,e){const t=[],s=Object.keys(e);for(let r=0;r<s.length;r++){const o=i[s[r]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function kA(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Qb(i,e){const t=i&&i.options||{},s=t.reverse,r=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:s?o:r,end:s?r:o}}function NA(i,e,t){if(t===!1)return!1;const s=Qb(i,t),r=Qb(e,t);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function DA(i){let e,t,s,r;return Me(i)?(e=i.top,t=i.right,s=i.bottom,r=i.left):e=t=s=r=i,{top:e,right:t,bottom:s,left:r,disabled:i===!1}}function q_(i,e){const t=[],s=i._getSortedDatasetMetas(e);let r,o;for(r=0,o=s.length;r<o;++r)t.push(s[r].index);return t}function Jb(i,e,t,s={}){const r=i.keys,o=s.mode==="single";let c,h,d,f;if(e===null)return;let m=!1;for(c=0,h=r.length;c<h;++c){if(d=+r[c],d===t){if(m=!0,s.all)continue;break}f=i.values[d],mn(f)&&(o||e===0||Pn(e)===Pn(f))&&(e+=f)}return!m&&!s.all?0:e}function PA(i,e){const{iScale:t,vScale:s}=e,r=t.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(i),h=new Array(c.length);let d,f,m;for(d=0,f=c.length;d<f;++d)m=c[d],h[d]={[r]:m,[o]:i[m]};return h}function vd(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function LA(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function zA(i){const{min:e,max:t,minDefined:s,maxDefined:r}=i.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function BA(i,e,t){const s=i[e]||(i[e]={});return s[t]||(s[t]={})}function Zb(i,e,t,s){for(const r of e.getMatchingVisibleMetas(s).reverse()){const o=i[r.index];if(t&&o>0||!t&&o<0)return r.index}return null}function ev(i,e){const{chart:t,_cachedMeta:s}=i,r=t._stacks||(t._stacks={}),{iScale:o,vScale:c,index:h}=s,d=o.axis,f=c.axis,m=LA(o,c,s),b=e.length;let v;for(let x=0;x<b;++x){const S=e[x],{[d]:E,[f]:w}=S,C=S._stacks||(S._stacks={});v=C[f]=BA(r,m,E),v[h]=w,v._top=Zb(v,c,!0,s.type),v._bottom=Zb(v,c,!1,s.type);const j=v._visualValues||(v._visualValues={});j[h]=w}}function _d(i,e){const t=i.scales;return Object.keys(t).filter(s=>t[s].axis===e).shift()}function UA(i,e){return Rs(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function HA(i,e,t){return Rs(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Lr(i,e){const t=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){e=e||i._parsed;for(const r of e){const o=r._stacks;if(!o||o[s]===void 0||o[s][t]===void 0)return;delete o[s][t],o[s]._visualValues!==void 0&&o[s]._visualValues[t]!==void 0&&delete o[s]._visualValues[t]}}}const xd=i=>i==="reset"||i==="none",tv=(i,e)=>e?i:Object.assign({},i),FA=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:q_(t,!0),values:null};class Bc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Lr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,s=this.getDataset(),r=(b,v,x,S)=>b==="x"?v:b==="r"?S:x,o=t.xAxisID=Te(s.xAxisID,_d(e,"x")),c=t.yAxisID=Te(s.yAxisID,_d(e,"y")),h=t.rAxisID=Te(s.rAxisID,_d(e,"r")),d=t.indexAxis,f=t.iAxisID=r(d,o,c,h),m=t.vAxisID=r(d,c,o,h);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(c),t.rScale=this.getScaleForId(h),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Lb(this._data,this),e._stacked&&Lr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),s=this._data;if(Me(t)){const r=this._cachedMeta;this._data=PA(t,r)}else if(s!==t){if(s){Lb(s,this);const r=this._cachedMeta;Lr(r),r._parsed=[]}t&&Object.isExtensible(t)&&_j(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=t._stacked;t._stacked=vd(t.vScale,t),t.stack!==s.stack&&(r=!0,Lr(t),t.stack=s.stack),this._resyncElements(e),(r||o!==t._stacked)&&(ev(this,t._parsed),t._stacked=vd(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:c}=s,h=o.axis;let d=e===0&&t===r.length?!0:s._sorted,f=e>0&&s._parsed[e-1],m,b,v;if(this._parsing===!1)s._parsed=r,s._sorted=!0,v=r;else{pt(r[e])?v=this.parseArrayData(s,r,e,t):Me(r[e])?v=this.parseObjectData(s,r,e,t):v=this.parsePrimitiveData(s,r,e,t);const x=()=>b[h]===null||f&&b[h]<f[h];for(m=0;m<t;++m)s._parsed[m+e]=b=v[m],d&&(x()&&(d=!1),f=b);s._sorted=d}c&&ev(this,v)}parsePrimitiveData(e,t,s,r){const{iScale:o,vScale:c}=e,h=o.axis,d=c.axis,f=o.getLabels(),m=o===c,b=new Array(r);let v,x,S;for(v=0,x=r;v<x;++v)S=v+s,b[v]={[h]:m||o.parse(f[S],S),[d]:c.parse(t[S],S)};return b}parseArrayData(e,t,s,r){const{xScale:o,yScale:c}=e,h=new Array(r);let d,f,m,b;for(d=0,f=r;d<f;++d)m=d+s,b=t[m],h[d]={x:o.parse(b[0],m),y:c.parse(b[1],m)};return h}parseObjectData(e,t,s,r){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let m,b,v,x;for(m=0,b=r;m<b;++m)v=m+s,x=t[v],f[m]={x:o.parse(As(x,h),v),y:c.parse(As(x,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,s){const r=this.chart,o=this._cachedMeta,c=t[e.axis],h={keys:q_(r,!0),values:t._stacks[e.axis]._visualValues};return Jb(h,c,o.index,{mode:s})}updateRangeFromParsed(e,t,s,r){const o=s[t.axis];let c=o===null?NaN:o;const h=r&&s._stacks[t.axis];r&&h&&(r.values=h,c=Jb(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,t){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,c=r.length,h=this._getOtherScale(e),d=FA(t,s,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=zA(h);let v,x;function S(){x=r[v];const E=x[h.axis];return!mn(x[e.axis])||m>E||b<E}for(v=0;v<c&&!(!S()&&(this.updateRangeFromParsed(f,e,x,d),o));++v);if(o){for(v=c-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,x,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,s=[];let r,o,c;for(r=0,o=t.length;r<o;++r)c=t[r][e.axis],mn(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,s=t.iScale,r=t.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=DA(Te(this.options.clip,NA(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,s=this._cachedMeta,r=s.data||[],o=t.chartArea,c=[],h=this._drawStart||0,d=this._drawCount||r.length-h,f=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(e,o,h,d),m=h;m<h+d;++m){const b=r[m];b.hidden||(b.active&&f?c.push(b):b.draw(e,o))}for(m=0;m<c.length;++m)c[m].draw(e,o)}getStyle(e,t){const s=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,t,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=HA(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=UA(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",s){const r=t==="active",o=this._cachedDataOpts,c=e+"-"+t,h=o[c],d=this.enableOptionSharing&&io(s);if(h)return tv(h,d);const f=this.chart.config,m=f.datasetElementScopeKeys(this._type,e),b=r?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),m),x=Object.keys(ot.elements[e]),S=()=>this.getContext(s,r,t),E=f.resolveNamedOptions(v,x,S,b);return E.$shared&&(E.$shared=d,o[c]=Object.freeze(tv(E,d))),E}_resolveAnimations(e,t,s){const r=this.chart,o=this._cachedDataOpts,c=`animation-${t}`,h=o[c];if(h)return h;let d;if(r.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,t),v=m.getOptionScopes(this.getDataset(),b);d=m.createResolver(v,this.getContext(e,s,t))}const f=new I_(r,d&&d.animations);return d&&d._cacheable&&(o[c]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||xd(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const s=this.resolveDataElementOptions(e,t),r=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(t,o)||o!==r;return this.updateSharedOptions(o,t,s),{sharedOptions:o,includeOptions:c}}updateElement(e,t,s,r){xd(r)?Object.assign(e,s):this._resolveAnimations(t,r).update(e,s)}updateSharedOptions(e,t,s){e&&!xd(t)&&this._resolveAnimations(void 0,t).update(e,s)}_setStyle(e,t,s,r){e.active=r;const o=this.getStyle(t,r);this._resolveAnimations(t,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,t,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,s=this._cachedMeta.data;for(const[h,d,f]of this._syncList)this[h](d,f);this._syncList=[];const r=s.length,o=t.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,t,s=!0){const r=this._cachedMeta,o=r.data,c=e+t;let h;const d=f=>{for(f.length+=t,h=f.length-1;h>=c;h--)f[h]=f[h-t]};for(d(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(e,t),s&&this.updateElements(o,e,t,"reset")}updateElements(e,t,s,r){}_removeElements(e,t){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,t);s._stacked&&Lr(s,r)}s.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,s,r]=e;this[t](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function IA(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let s=[];for(let r=0,o=t.length;r<o;r++)s=s.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=A_(s.sort((r,o)=>r-o))}return i._cache.$bar}function qA(i){const e=i.iScale,t=IA(e,i.type);let s=e._length,r,o,c,h;const d=()=>{c===32767||c===-32768||(io(h)&&(s=Math.min(s,Math.abs(c-h)||s)),h=c)};for(r=0,o=t.length;r<o;++r)c=e.getPixelForValue(t[r]),d();for(h=void 0,r=0,o=e.ticks.length;r<o;++r)c=e.getPixelForTick(r),d();return s}function $A(i,e,t,s){const r=t.barThickness;let o,c;return Pe(r)?(o=e.min*t.categoryPercentage,c=t.barPercentage):(o=r*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[i]-o/2}}function GA(i,e,t,s){const r=e.pixels,o=r[i];let c=i>0?r[i-1]:null,h=i<r.length-1?r[i+1]:null;const d=t.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const f=o-(o-Math.min(c,h))/2*d;return{chunk:Math.abs(h-c)/2*d/s,ratio:t.barPercentage,start:f}}function VA(i,e,t,s){const r=t.parse(i[0],s),o=t.parse(i[1],s),c=Math.min(r,o),h=Math.max(r,o);let d=c,f=h;Math.abs(c)>Math.abs(h)&&(d=h,f=c),e[t.axis]=f,e._custom={barStart:d,barEnd:f,start:r,end:o,min:c,max:h}}function $_(i,e,t,s){return pt(i)?VA(i,e,t,s):e[t.axis]=t.parse(i,s),e}function nv(i,e,t,s){const r=i.iScale,o=i.vScale,c=r.getLabels(),h=r===o,d=[];let f,m,b,v;for(f=t,m=t+s;f<m;++f)v=e[f],b={},b[r.axis]=h||r.parse(c[f],f),d.push($_(v,b,o,f));return d}function Sd(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function YA(i,e,t){return i!==0?Pn(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function WA(i){let e,t,s,r,o;return i.horizontal?(e=i.base>i.x,t="left",s="right"):(e=i.base<i.y,t="bottom",s="top"),e?(r="end",o="start"):(r="start",o="end"),{start:t,end:s,reverse:e,top:r,bottom:o}}function KA(i,e,t,s){let r=e.borderSkipped;const o={};if(!r){i.borderSkipped=o;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:d,top:f,bottom:m}=WA(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===s?r=f:(t._bottom||0)===s?r=m:(o[iv(m,c,h,d)]=!0,r=f)),o[iv(r,c,h,d)]=!0,i.borderSkipped=o}function iv(i,e,t,s){return s?(i=XA(i,e,t),i=sv(i,t,e)):i=sv(i,e,t),i}function XA(i,e,t){return i===e?t:i===t?e:i}function sv(i,e,t){return i==="start"?e:i==="end"?t:i}function QA(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class JA extends Bc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,s,r){return nv(e,t,s,r)}parseArrayData(e,t,s,r){return nv(e,t,s,r)}parseObjectData(e,t,s,r){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?h:d,m=c.axis==="x"?h:d,b=[];let v,x,S,E;for(v=s,x=s+r;v<x;++v)E=t[v],S={},S[o.axis]=o.parse(As(E,f),v),b.push($_(As(E,m),S,c,v));return b}updateRangeFromParsed(e,t,s,r){super.updateRangeFromParsed(e,t,s,r);const o=s._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:s,vScale:r}=t,o=this.getParsed(e),c=o._custom,h=Sd(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,d=h.getBasePixel(),f=h.isHorizontal(),m=this._getRuler(),{sharedOptions:b,includeOptions:v}=this._getSharedOptions(t,r);for(let x=t;x<t+s;x++){const S=this.getParsed(x),E=o||Pe(S[h.axis])?{base:d,head:d}:this._calculateBarValuePixels(x),w=this._calculateBarIndexPixels(x,m),C=(S._stacks||{})[h.axis],j={horizontal:f,base:E.base,enableBorderRadius:!C||Sd(S._custom)||c===C._top||c===C._bottom,x:f?E.head:w.center,y:f?w.center:E.head,height:f?w.size:Math.abs(E.size),width:f?Math.abs(E.size):w.size};v&&(j.options=b||this.resolveDataElementOptions(x,e[x].active?"active":r));const A=j.options||e[x].options;KA(j,A,C,c),QA(j,A,m.ratio),this.updateElement(e[x],x,j,r)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,r=s.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=s.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(t),d=h&&h[s.axis],f=m=>{const b=m._parsed.find(x=>x[s.axis]===d),v=b&&b[m.vScale.axis];if(Pe(v)||isNaN(v))return!0};for(const m of r)if(!(t!==void 0&&f(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[Te(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,s){const r=this._getStacks(e,s),o=t!==void 0?r.indexOf(t):-1;return o===-1?r.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,s=t.iScale,r=[];let o,c;for(o=0,c=t.data.length;o<c;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const h=e.barThickness;return{min:h||qA(t),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,d=this.getParsed(e),f=d._custom,m=Sd(f);let b=d[t.axis],v=0,x=s?this.applyStack(t,d,s):b,S,E;x!==b&&(v=x-b,x=b),m&&(b=f.barStart,x=f.barEnd-f.barStart,b!==0&&Pn(b)!==Pn(f.barEnd)&&(v=0),v+=b);const w=!Pe(o)&&!m?o:v;let C=t.getPixelForValue(w);if(this.chart.getDataVisibility(e)?S=t.getPixelForValue(v+x):S=C,E=S-C,Math.abs(E)<c){E=YA(E,t,h)*c,b===h&&(C-=E/2);const j=t.getPixelForDecimal(0),A=t.getPixelForDecimal(1),N=Math.min(j,A),k=Math.max(j,A);C=Math.max(Math.min(C,k),N),S=C+E,s&&!m&&(d._stacks[t.axis]._visualValues[r]=t.getValueForPixel(S)-t.getValueForPixel(C))}if(C===t.getPixelForValue(h)){const j=Pn(E)*t.getLineWidthForValue(h)/2;C+=j,E-=j}return{size:E,base:C,head:S,center:S+E/2}}_calculateBarIndexPixels(e,t){const s=t.scale,r=this.options,o=r.skipNull,c=Te(r.maxBarThickness,1/0);let h,d;const f=this._getAxisCount();if(t.grouped){const m=o?this._getStackCount(e):t.stackCount,b=r.barThickness==="flex"?GA(e,t,r,m*f):$A(e,t,r,m*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(Te(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+x;h=b.start+b.chunk*S+b.chunk/2,d=Math.min(c,b.chunk*b.ratio)}else h=s.getPixelForValue(this.getParsed(e)[s.axis],e),d=Math.min(c,t.min*t.ratio);return{base:h-d/2,head:h+d/2,center:h,size:d}}draw(){const e=this._cachedMeta,t=e.vScale,s=e.data,r=s.length;let o=0;for(;o<r;++o)this.getParsed(o)[t.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}function ZA(i,e,t){let s=1,r=1,o=0,c=0;if(e<it){const h=i,d=h+e,f=Math.cos(h),m=Math.sin(h),b=Math.cos(d),v=Math.sin(d),x=(A,N,k)=>ao(A,h,d,!0)?1:Math.max(N,N*t,k,k*t),S=(A,N,k)=>ao(A,h,d,!0)?-1:Math.min(N,N*t,k,k*t),E=x(0,f,b),w=x(mt,m,v),C=S(Fe,f,b),j=S(Fe+mt,m,v);s=(E-C)/2,r=(w-j)/2,o=-(E+C)/2,c=-(w+j)/2}return{ratioX:s,ratioY:r,offsetX:o,offsetY:c}}class eO extends Bc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:s,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((d,f)=>{const b=e.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:b.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(f),lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,textAlign:r,pointStyle:s,borderRadius:c&&(h||b.borderRadius),index:f}}):[]}},onClick(e,t,s){s.chart.toggleDataVisibility(t.index),s.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const s=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=s;else{let o=d=>+s[d];if(Me(s[e])){const{key:d="value"}=this._parsing;o=f=>+As(s[f],d)}let c,h;for(c=e,h=e+t;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return li(this.options.rotation-90)}_getCircumference(){return li(this.options.circumference)}_getRotationExtents(){let e=it,t=-it;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),c=r._getCircumference();e=Math.min(e,o),t=Math.max(t,o+c)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:s}=t,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-c)/2,0),d=Math.min(ij(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:m,rotation:b}=this._getRotationExtents(),{ratioX:v,ratioY:x,offsetX:S,offsetY:E}=ZA(b,m,d),w=(s.width-c)/v,C=(s.height-c)/x,j=Math.max(Math.min(w,C)/2,0),A=w_(this.options.radius,j),N=Math.max(A*d,0),k=(A-N)/this._getVisibleDatasetWeightTotal();this.offsetX=S*A,this.offsetY=E*A,r.total=this.calculateTotal(),this.outerRadius=A-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const s=this.options,r=this._cachedMeta,o=this._getCircumference();return t&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/it)}updateElements(e,t,s,r){const o=r==="reset",c=this.chart,h=c.chartArea,f=c.options.animation,m=(h.left+h.right)/2,b=(h.top+h.bottom)/2,v=o&&f.animateScale,x=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:E,includeOptions:w}=this._getSharedOptions(t,r);let C=this._getRotation(),j;for(j=0;j<t;++j)C+=this._circumference(j,o);for(j=t;j<t+s;++j){const A=this._circumference(j,o),N=e[j],k={x:m+this.offsetX,y:b+this.offsetY,startAngle:C,endAngle:C+A,circumference:A,outerRadius:S,innerRadius:x};w&&(k.options=E||this.resolveDataElementOptions(j,N.active?"active":r)),C+=A,this.updateElement(N,j,k,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let s=0,r;for(r=0;r<t.length;r++){const o=e._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?it*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,s=this.chart,r=s.data.labels||[],o=Ef(t._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const s=this.chart;let r,o,c,h,d;if(!e){for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){c=s.getDatasetMeta(r),e=c.data,h=c.controller;break}}if(!e)return 0;for(r=0,o=e.length;r<o;++r)d=h.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(t=Math.max(t,d.borderWidth||0,d.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let s=0,r=e.length;s<r;++s){const o=this.resolveDataElementOptions(s);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(t+=this._getRingWeight(s));return t}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class tO extends Bc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=t,c=this.chart._animationsDisabled;let{start:h,count:d}=wj(t,r,c);this._drawStart=h,this._drawCount=d,Ej(t)&&(h=0,d=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(s,void 0,{animated:!c,options:f},e),this.updateElements(r,h,d,e)}updateElements(e,t,s,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(t,r),v=c.axis,x=h.axis,{spanGaps:S,segment:E}=this.options,w=so(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||r==="none",j=t+s,A=e.length;let N=t>0&&this.getParsed(t-1);for(let k=0;k<A;++k){const z=e[k],P=C?z:{};if(k<t||k>=j){P.skip=!0;continue}const J=this.getParsed(k),I=Pe(J[x]),ie=P[v]=c.getPixelForValue(J[v],k),Y=P[x]=o||I?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,J,d):J[x],k);P.skip=isNaN(ie)||isNaN(Y)||I,P.stop=k>0&&Math.abs(J[v]-N[v])>w,E&&(P.parsed=J,P.raw=f.data[k]),b&&(P.options=m||this.resolveDataElementOptions(k,z.active?"active":r)),C||this.updateElement(z,k,P,r),N=J}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,s=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ys(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Nf{static override(e){Object.assign(Nf.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ys()}parse(){return ys()}format(){return ys()}add(){return ys()}diff(){return ys()}startOf(){return ys()}endOf(){return ys()}}var nO={_date:Nf};function iO(i,e,t,s){const{controller:r,data:o,_sorted:c}=i,h=r._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const f=h._reversePixels?bj:Cs;if(s){if(r._sharedOptions){const m=o[0],b=typeof m.getRange=="function"&&m.getRange(e);if(b){const v=f(o,e,t-b),x=f(o,e,t+b);return{lo:v.lo,hi:x.hi}}}}else{const m=f(o,e,t);if(d){const{vScale:b}=r._cachedMeta,{_parsed:v}=i,x=v.slice(0,m.lo+1).reverse().findIndex(E=>!Pe(E[b.axis]));m.lo-=Math.max(0,x);const S=v.slice(m.hi).findIndex(E=>!Pe(E[b.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:o.length-1}}function Uc(i,e,t,s,r){const o=i.getSortedVisibleDatasetMetas(),c=t[e];for(let h=0,d=o.length;h<d;++h){const{index:f,data:m}=o[h],{lo:b,hi:v}=iO(o[h],e,c,r);for(let x=b;x<=v;++x){const S=m[x];S.skip||s(S,f,x)}}}function sO(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(s,r){const o=e?Math.abs(s.x-r.x):0,c=t?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function wd(i,e,t,s,r){const o=[];return!r&&!i.isPointInArea(e)||Uc(i,t,e,function(h,d,f){!r&&!ro(h,i.chartArea,0)||h.inRange(e.x,e.y,s)&&o.push({element:h,datasetIndex:d,index:f})},!0),o}function aO(i,e,t,s){let r=[];function o(c,h,d){const{startAngle:f,endAngle:m}=c.getProps(["startAngle","endAngle"],s),{angle:b}=C_(c,{x:e.x,y:e.y});ao(b,f,m)&&r.push({element:c,datasetIndex:h,index:d})}return Uc(i,t,e,o),r}function rO(i,e,t,s,r,o){let c=[];const h=sO(t);let d=Number.POSITIVE_INFINITY;function f(m,b,v){const x=m.inRange(e.x,e.y,r);if(s&&!x)return;const S=m.getCenterPoint(r);if(!(!!o||i.isPointInArea(S))&&!x)return;const w=h(e,S);w<d?(c=[{element:m,datasetIndex:b,index:v}],d=w):w===d&&c.push({element:m,datasetIndex:b,index:v})}return Uc(i,t,e,f),c}function Ed(i,e,t,s,r,o){return!o&&!i.isPointInArea(e)?[]:t==="r"&&!s?aO(i,e,t,r):rO(i,e,t,s,r,o)}function av(i,e,t,s,r){const o=[],c=t==="x"?"inXRange":"inYRange";let h=!1;return Uc(i,t,e,(d,f,m)=>{d[c]&&d[c](e[t],r)&&(o.push({element:d,datasetIndex:f,index:m}),h=h||d.inRange(e.x,e.y,r))}),s&&!h?[]:o}var oO={modes:{index(i,e,t,s){const r=xs(e,i),o=t.axis||"x",c=t.includeInvisible||!1,h=t.intersect?wd(i,r,o,s,c):Ed(i,r,o,!1,s,c),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(f=>{const m=h[0].index,b=f.data[m];b&&!b.skip&&d.push({element:b,datasetIndex:f.index,index:m})}),d):[]},dataset(i,e,t,s){const r=xs(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;let h=t.intersect?wd(i,r,o,s,c):Ed(i,r,o,!1,s,c);if(h.length>0){const d=h[0].datasetIndex,f=i.getDatasetMeta(d).data;h=[];for(let m=0;m<f.length;++m)h.push({element:f[m],datasetIndex:d,index:m})}return h},point(i,e,t,s){const r=xs(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;return wd(i,r,o,s,c)},nearest(i,e,t,s){const r=xs(e,i),o=t.axis||"xy",c=t.includeInvisible||!1;return Ed(i,r,o,t.intersect,s,c)},x(i,e,t,s){const r=xs(e,i);return av(i,r,"x",t.intersect,s)},y(i,e,t,s){const r=xs(e,i);return av(i,r,"y",t.intersect,s)}}};const G_=["left","top","right","bottom"];function zr(i,e){return i.filter(t=>t.pos===e)}function rv(i,e){return i.filter(t=>G_.indexOf(t.pos)===-1&&t.box.axis===e)}function Br(i,e){return i.sort((t,s)=>{const r=e?s:t,o=e?t:s;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function lO(i){const e=[];let t,s,r,o,c,h;for(t=0,s=(i||[]).length;t<s;++t)r=i[t],{position:o,options:{stack:c,stackWeight:h=1}}=r,e.push({index:t,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return e}function cO(i){const e={};for(const t of i){const{stack:s,pos:r,stackWeight:o}=t;if(!s||!G_.includes(r))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function uO(i,e){const t=cO(i),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e;let o,c,h;for(o=0,c=i.length;o<c;++o){h=i[o];const{fullSize:d}=h.box,f=t[h.stack],m=f&&h.stackWeight/f.weight;h.horizontal?(h.width=m?m*s:d&&e.availableWidth,h.height=r):(h.width=s,h.height=m?m*r:d&&e.availableHeight)}return t}function hO(i){const e=lO(i),t=Br(e.filter(f=>f.box.fullSize),!0),s=Br(zr(e,"left"),!0),r=Br(zr(e,"right")),o=Br(zr(e,"top"),!0),c=Br(zr(e,"bottom")),h=rv(e,"x"),d=rv(e,"y");return{fullSize:t,leftAndTop:s.concat(o),rightAndBottom:r.concat(d).concat(c).concat(h),chartArea:zr(e,"chartArea"),vertical:s.concat(r).concat(d),horizontal:o.concat(c).concat(h)}}function ov(i,e,t,s){return Math.max(i[t],e[t])+Math.max(i[s],e[s])}function V_(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function dO(i,e,t,s){const{pos:r,box:o}=t,c=i.maxPadding;if(!Me(r)){t.size&&(i[r]-=t.size);const b=s[t.stack]||{size:0,count:1};b.size=Math.max(b.size,t.horizontal?o.height:o.width),t.size=b.size/b.count,i[r]+=t.size}o.getPadding&&V_(c,o.getPadding());const h=Math.max(0,e.outerWidth-ov(c,i,"left","right")),d=Math.max(0,e.outerHeight-ov(c,i,"top","bottom")),f=h!==i.w,m=d!==i.h;return i.w=h,i.h=d,t.horizontal?{same:f,other:m}:{same:m,other:f}}function fO(i){const e=i.maxPadding;function t(s){const r=Math.max(e[s]-i[s],0);return i[s]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function gO(i,e){const t=e.maxPadding;function s(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(e[c],t[c])}),o}return s(i?["left","right"]:["top","bottom"])}function Gr(i,e,t,s){const r=[];let o,c,h,d,f,m;for(o=0,c=i.length,f=0;o<c;++o){h=i[o],d=h.box,d.update(h.width||e.w,h.height||e.h,gO(h.horizontal,e));const{same:b,other:v}=dO(e,t,h,s);f|=b&&r.length,m=m||v,d.fullSize||r.push(h)}return f&&Gr(r,e,t,s)||m}function Ql(i,e,t,s,r){i.top=t,i.left=e,i.right=e+s,i.bottom=t+r,i.width=s,i.height=r}function lv(i,e,t,s){const r=t.padding;let{x:o,y:c}=e;for(const h of i){const d=h.box,f=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/f.weight||1;if(h.horizontal){const b=e.w*m,v=f.size||d.height;io(f.start)&&(c=f.start),d.fullSize?Ql(d,r.left,c,t.outerWidth-r.right-r.left,v):Ql(d,e.left+f.placed,c,b,v),f.start=c,f.placed+=b,c=d.bottom}else{const b=e.h*m,v=f.size||d.width;io(f.start)&&(o=f.start),d.fullSize?Ql(d,o,r.top,v,t.outerHeight-r.bottom-r.top):Ql(d,o,e.top+f.placed,v,b),f.start=o,f.placed+=b,o=d.right}}e.x=o,e.y=c}var pn={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,s){if(!i)return;const r=yn(i.options.layout.padding),o=Math.max(e-r.width,0),c=Math.max(t-r.height,0),h=hO(i.boxes),d=h.vertical,f=h.horizontal;He(i.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const m=d.reduce((E,w)=>w.box.options&&w.box.options.display===!1?E:E+1,0)||1,b=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),v=Object.assign({},r);V_(v,yn(s));const x=Object.assign({maxPadding:v,w:o,h:c,x:r.left,y:r.top},r),S=uO(d.concat(f),b);Gr(h.fullSize,x,b,S),Gr(d,x,b,S),Gr(f,x,b,S)&&Gr(d,x,b,S),fO(x),lv(h.leftAndTop,x,b,S),x.x+=x.w,x.y+=x.h,lv(h.rightAndBottom,x,b,S),i.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},He(h.chartArea,E=>{const w=E.box;Object.assign(w,i.chartArea),w.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class Y_{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,s){}removeEventListener(e,t,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,s,r){return t=Math.max(0,t||e.width),s=s||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):s)}}isAttached(e){return!0}updateConfig(e){}}class pO extends Y_{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const dc="$chartjs",mO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cv=i=>i===null||i==="";function yO(i,e){const t=i.style,s=i.getAttribute("height"),r=i.getAttribute("width");if(i[dc]={initial:{height:s,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",cv(r)){const o=Vb(i,"width");o!==void 0&&(i.width=o)}if(cv(s))if(i.style.height==="")i.height=i.width/(e||2);else{const o=Vb(i,"height");o!==void 0&&(i.height=o)}return i}const W_=fA?{passive:!0}:!1;function bO(i,e,t){i&&i.addEventListener(e,t,W_)}function vO(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,W_)}function _O(i,e){const t=mO[i.type]||i.type,{x:s,y:r}=xs(i,e);return{type:t,chart:e,native:i,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Oc(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function xO(i,e,t){const s=i.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Oc(h.addedNodes,s),c=c&&!Oc(h.removedNodes,s);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function SO(i,e,t){const s=i.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Oc(h.removedNodes,s),c=c&&!Oc(h.addedNodes,s);c&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const lo=new Map;let uv=0;function K_(){const i=window.devicePixelRatio;i!==uv&&(uv=i,lo.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function wO(i,e){lo.size||window.addEventListener("resize",K_),lo.set(i,e)}function EO(i){lo.delete(i),lo.size||window.removeEventListener("resize",K_)}function TO(i,e,t){const s=i.canvas,r=s&&kf(s);if(!r)return;const o=R_((h,d)=>{const f=r.clientWidth;t(h,d),f<r.clientWidth&&t()},window),c=new ResizeObserver(h=>{const d=h[0],f=d.contentRect.width,m=d.contentRect.height;f===0&&m===0||o(f,m)});return c.observe(r),wO(i,o),c}function Td(i,e,t){t&&t.disconnect(),e==="resize"&&EO(i)}function CO(i,e,t){const s=i.canvas,r=R_(o=>{i.ctx!==null&&t(_O(o,i))},i);return bO(s,e,r),r}class jO extends Y_{acquireContext(e,t){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(yO(e,t),s):null}releaseContext(e){const t=e.canvas;if(!t[dc])return!1;const s=t[dc].initial;["height","width"].forEach(o=>{const c=s[o];Pe(c)?t.removeAttribute(o):t.setAttribute(o,c)});const r=s.style||{};return Object.keys(r).forEach(o=>{t.style[o]=r[o]}),t.width=t.width,delete t[dc],!0}addEventListener(e,t,s){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),c={attach:xO,detach:SO,resize:TO}[t]||CO;r[t]=c(e,t,s)}removeEventListener(e,t){const s=e.$proxies||(e.$proxies={}),r=s[t];if(!r)return;({attach:Td,detach:Td,resize:Td}[t]||vO)(e,t,r),s[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,s,r){return dA(e,t,s,r)}isAttached(e){const t=e&&kf(e);return!!(t&&t.isConnected)}}function AO(i){return!Mf()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?pO:jO}class gi{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}hasValue(){return so(this.x)&&so(this.y)}getProps(e,t){const s=this.$animations;if(!t||!s)return this;const r={};return e.forEach(o=>{r[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),r}}function OO(i,e){const t=i.options.ticks,s=RO(i),r=Math.min(t.maxTicksLimit||s,s),o=t.major.enabled?kO(e):[],c=o.length,h=o[0],d=o[c-1],f=[];if(c>r)return NO(e,f,o,c/r),f;const m=MO(o,e,r);if(c>0){let b,v;const x=c>1?Math.round((d-h)/(c-1)):null;for(Jl(e,f,m,Pe(x)?0:h-x,h),b=0,v=c-1;b<v;b++)Jl(e,f,m,o[b],o[b+1]);return Jl(e,f,m,d,Pe(x)?e.length:d+x),f}return Jl(e,f,m),f}function RO(i){const e=i.options.offset,t=i._tickSize(),s=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(s,r))}function MO(i,e,t){const s=DO(i),r=e.length/t;if(!s)return Math.max(r,1);const o=hj(s);for(let c=0,h=o.length-1;c<h;c++){const d=o[c];if(d>r)return d}return Math.max(r,1)}function kO(i){const e=[];let t,s;for(t=0,s=i.length;t<s;t++)i[t].major&&e.push(t);return e}function NO(i,e,t,s){let r=0,o=t[0],c;for(s=Math.ceil(s),c=0;c<i.length;c++)c===o&&(e.push(i[c]),r++,o=t[r*s])}function Jl(i,e,t,s,r){const o=Te(s,0),c=Math.min(Te(r,i.length),i.length);let h=0,d,f,m;for(t=Math.ceil(t),r&&(d=r-s,t=d/Math.floor(d/t)),m=o;m<0;)h++,m=Math.round(o+h*t);for(f=Math.max(o,0);f<c;f++)f===m&&(e.push(i[f]),h++,m=Math.round(o+h*t))}function DO(i){const e=i.length;let t,s;if(e<2)return!1;for(s=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==s)return!1;return s}const PO=i=>i==="left"?"right":i==="right"?"left":i,hv=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,dv=(i,e)=>Math.min(e||i,i);function fv(i,e){const t=[],s=i.length/e,r=i.length;let o=0;for(;o<r;o+=s)t.push(i[Math.floor(o)]);return t}function LO(i,e,t){const s=i.ticks.length,r=Math.min(e,s-1),o=i._startPixel,c=i._endPixel,h=1e-6;let d=i.getPixelForTick(r),f;if(!(t&&(s===1?f=Math.max(d-o,c-d):e===0?f=(i.getPixelForTick(1)-d)/2:f=(d-i.getPixelForTick(r-1))/2,d+=r<e?f:-f,d<o-h||d>c+h)))return d}function zO(i,e){He(i,t=>{const s=t.gc,r=s.length/2;let o;if(r>e){for(o=0;o<r;++o)delete t.data[s[o]];s.splice(0,r)}})}function Ur(i){return i.drawTicks?i.tickLength:0}function gv(i,e){if(!i.display)return 0;const t=Rt(i.font,e),s=yn(i.padding);return(pt(i.text)?i.text.length:1)*t.lineHeight+s.height}function BO(i,e){return Rs(i,{scale:e,type:"scale"})}function UO(i,e,t){return Rs(i,{tick:t,index:e,type:"tick"})}function HO(i,e,t){let s=Sf(i);return(t&&e!=="right"||!t&&e==="right")&&(s=PO(s)),s}function FO(i,e,t,s){const{top:r,left:o,bottom:c,right:h,chart:d}=i,{chartArea:f,scales:m}=d;let b=0,v,x,S;const E=c-r,w=h-o;if(i.isHorizontal()){if(x=At(s,o,h),Me(t)){const C=Object.keys(t)[0],j=t[C];S=m[C].getPixelForValue(j)+E-e}else t==="center"?S=(f.bottom+f.top)/2+E-e:S=hv(i,t,e);v=h-o}else{if(Me(t)){const C=Object.keys(t)[0],j=t[C];x=m[C].getPixelForValue(j)-w+e}else t==="center"?x=(f.left+f.right)/2-w+e:x=hv(i,t,e);S=At(s,c,r),b=t==="left"?-mt:mt}return{titleX:x,titleY:S,maxWidth:v,rotation:b}}class za extends gi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:s,_suggestedMax:r}=this;return e=Mn(e,Number.POSITIVE_INFINITY),t=Mn(t,Number.NEGATIVE_INFINITY),s=Mn(s,Number.POSITIVE_INFINITY),r=Mn(r,Number.NEGATIVE_INFINITY),{min:Mn(e,s),max:Mn(t,r),minDefined:mn(e),maxDefined:mn(t)}}getMinMax(e){let{min:t,max:s,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:t,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,f=h.length;d<f;++d)c=h[d].controller.getMinMax(this,e),r||(t=Math.min(t,c.min)),o||(s=Math.max(s,c.max));return t=o&&t>s?s:t,s=r&&t>s?t:s,{min:Mn(t,Mn(s,t)),max:Mn(s,Mn(t,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ke(this.options.beforeUpdate,[this])}update(e,t,s){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=$j(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?fv(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=OO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,s;this.isHorizontal()?(t=this.left,s=this.right):(t=this.top,s=this.bottom,e=!e),this._startPixel=t,this._endPixel=s,this._reversePixels=e,this._length=s-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ke(this.options.afterUpdate,[this])}beforeSetDimensions(){Ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ke(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ke(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let s,r,o;for(s=0,r=e.length;s<r;s++)o=e[s],o.label=Ke(t.callback,[o.value,s,e],this)}afterTickToLabelConversion(){Ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,s=dv(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,o=t.maxRotation;let c=r,h,d,f;if(!this._isVisible()||!t.display||r>=o||s<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),b=m.widest.width,v=m.highest.height,x=Ot(this.chart.width-b,0,this.maxWidth);h=e.offset?this.maxWidth/s:x/(s-1),b+6>h&&(h=x/(s-(e.offset?.5:1)),d=this.maxHeight-Ur(e.grid)-t.padding-gv(e.title,this.chart.options.font),f=Math.sqrt(b*b+v*v),c=pj(Math.min(Math.asin(Ot((m.highest.height+6)/h,-1,1)),Math.asin(Ot(d/f,-1,1))-Math.asin(Ot(v/f,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ke(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:s,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const d=gv(r,t.options.font);if(h?(e.width=this.maxWidth,e.height=Ur(o)+d):(e.height=this.maxHeight,e.width=Ur(o)+d),s.display&&this.ticks.length){const{first:f,last:m,widest:b,highest:v}=this._getLabelSizes(),x=s.padding*2,S=li(this.labelRotation),E=Math.cos(S),w=Math.sin(S);if(h){const C=s.mirror?0:w*b.width+E*v.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=s.mirror?0:E*b.width+w*v.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,m,w,E)}}this._handleMargins(),h?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,s,r){const{ticks:{align:o,padding:c},position:h}=this.options,d=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,x=0;d?f?(v=r*e.width,x=s*t.height):(v=s*e.height,x=r*t.width):o==="start"?x=t.width:o==="end"?v=e.width:o!=="inner"&&(v=e.width/2,x=t.width/2),this.paddingLeft=Math.max((v-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let m=t.height/2,b=e.height/2;o==="start"?(m=0,b=e.height):o==="end"&&(m=t.height,b=0),this.paddingTop=m+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ke(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,s;for(t=0,s=e.length;t<s;t++)Pe(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let s=this.ticks;t<s.length&&(s=fv(s,t)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,s){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],d=Math.floor(t/dv(t,s));let f=0,m=0,b,v,x,S,E,w,C,j,A,N,k;for(b=0;b<t;b+=d){if(S=e[b].label,E=this._resolveTickFontOptions(b),r.font=w=E.string,C=o[w]=o[w]||{data:{},gc:[]},j=E.lineHeight,A=N=0,!Pe(S)&&!pt(S))A=Fb(r,C.data,C.gc,A,S),N=j;else if(pt(S))for(v=0,x=S.length;v<x;++v)k=S[v],!Pe(k)&&!pt(k)&&(A=Fb(r,C.data,C.gc,A,k),N+=j);c.push(A),h.push(N),f=Math.max(A,f),m=Math.max(N,m)}zO(o,t);const z=c.indexOf(f),P=h.indexOf(m),J=I=>({width:c[I]||0,height:h[I]||0});return{first:J(0),last:J(t-1),widest:J(z),highest:J(P),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return yj(this._alignToPixels?ms(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const s=t[e];return s.$context||(s.$context=UO(this.getContext(),e,s))}return this.$context||(this.$context=BO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=li(this.labelRotation),s=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,d=o?o.highest.height+c:0;return this.isHorizontal()?d*s>h*r?h/s:d/r:d*r<h*s?d/s:h/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,s=this.chart,r=this.options,{grid:o,position:c,border:h}=r,d=o.offset,f=this.isHorizontal(),b=this.ticks.length+(d?1:0),v=Ur(o),x=[],S=h.setContext(this.getContext()),E=S.display?S.width:0,w=E/2,C=function(B){return ms(s,B,E)};let j,A,N,k,z,P,J,I,ie,Y,q,X;if(c==="top")j=C(this.bottom),P=this.bottom-v,I=j-w,Y=C(e.top)+w,X=e.bottom;else if(c==="bottom")j=C(this.top),Y=e.top,X=C(e.bottom)-w,P=j+w,I=this.top+v;else if(c==="left")j=C(this.right),z=this.right-v,J=j-w,ie=C(e.left)+w,q=e.right;else if(c==="right")j=C(this.left),ie=e.left,q=C(e.right)-w,z=j+w,J=this.left+v;else if(t==="x"){if(c==="center")j=C((e.top+e.bottom)/2+.5);else if(Me(c)){const B=Object.keys(c)[0],ne=c[B];j=C(this.chart.scales[B].getPixelForValue(ne))}Y=e.top,X=e.bottom,P=j+w,I=P+v}else if(t==="y"){if(c==="center")j=C((e.left+e.right)/2);else if(Me(c)){const B=Object.keys(c)[0],ne=c[B];j=C(this.chart.scales[B].getPixelForValue(ne))}z=j-w,J=z-v,ie=e.left,q=e.right}const de=Te(r.ticks.maxTicksLimit,b),le=Math.max(1,Math.ceil(b/de));for(A=0;A<b;A+=le){const B=this.getContext(A),ne=o.setContext(B),ce=h.setContext(B),W=ne.lineWidth,re=ne.color,O=ce.dash||[],G=ce.dashOffset,V=ne.tickWidth,Q=ne.tickColor,se=ne.tickBorderDash||[],me=ne.tickBorderDashOffset;N=LO(this,A,d),N!==void 0&&(k=ms(s,N,W),f?z=J=ie=q=k:P=I=Y=X=k,x.push({tx1:z,ty1:P,tx2:J,ty2:I,x1:ie,y1:Y,x2:q,y2:X,width:W,color:re,borderDash:O,borderDashOffset:G,tickWidth:V,tickColor:Q,tickBorderDash:se,tickBorderDashOffset:me}))}return this._ticksLength=b,this._borderValue=j,x}_computeLabelItems(e){const t=this.axis,s=this.options,{position:r,ticks:o}=s,c=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:f,padding:m,mirror:b}=o,v=Ur(s.grid),x=v+m,S=b?-m:x,E=-li(this.labelRotation),w=[];let C,j,A,N,k,z,P,J,I,ie,Y,q,X="middle";if(r==="top")z=this.bottom-S,P=this._getXAxisLabelAlignment();else if(r==="bottom")z=this.top+S,P=this._getXAxisLabelAlignment();else if(r==="left"){const le=this._getYAxisLabelAlignment(v);P=le.textAlign,k=le.x}else if(r==="right"){const le=this._getYAxisLabelAlignment(v);P=le.textAlign,k=le.x}else if(t==="x"){if(r==="center")z=(e.top+e.bottom)/2+x;else if(Me(r)){const le=Object.keys(r)[0],B=r[le];z=this.chart.scales[le].getPixelForValue(B)+x}P=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")k=(e.left+e.right)/2-x;else if(Me(r)){const le=Object.keys(r)[0],B=r[le];k=this.chart.scales[le].getPixelForValue(B)}P=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?X="top":d==="end"&&(X="bottom"));const de=this._getLabelSizes();for(C=0,j=h.length;C<j;++C){A=h[C],N=A.label;const le=o.setContext(this.getContext(C));J=this.getPixelForTick(C)+o.labelOffset,I=this._resolveTickFontOptions(C),ie=I.lineHeight,Y=pt(N)?N.length:1;const B=Y/2,ne=le.color,ce=le.textStrokeColor,W=le.textStrokeWidth;let re=P;c?(k=J,P==="inner"&&(C===j-1?re=this.options.reverse?"left":"right":C===0?re=this.options.reverse?"right":"left":re="center"),r==="top"?f==="near"||E!==0?q=-Y*ie+ie/2:f==="center"?q=-de.highest.height/2-B*ie+ie:q=-de.highest.height+ie/2:f==="near"||E!==0?q=ie/2:f==="center"?q=de.highest.height/2-B*ie:q=de.highest.height-Y*ie,b&&(q*=-1),E!==0&&!le.showLabelBackdrop&&(k+=ie/2*Math.sin(E))):(z=J,q=(1-Y)*ie/2);let O;if(le.showLabelBackdrop){const G=yn(le.backdropPadding),V=de.heights[C],Q=de.widths[C];let se=q-G.top,me=0-G.left;switch(X){case"middle":se-=V/2;break;case"bottom":se-=V;break}switch(P){case"center":me-=Q/2;break;case"right":me-=Q;break;case"inner":C===j-1?me-=Q:C>0&&(me-=Q/2);break}O={left:me,top:se,width:Q+G.width,height:V+G.height,color:le.backdropColor}}w.push({label:N,font:I,textOffset:q,options:{rotation:E,color:ne,strokeColor:ce,strokeWidth:W,textAlign:re,textBaseline:X,translation:[k,z],backdrop:O}})}return w}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-li(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:s,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,d=c.widest.width;let f,m;return t==="left"?r?(m=this.right+o,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m+=d)):(m=this.right-h,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m=this.left)):t==="right"?r?(m=this.left+o,s==="near"?f="right":s==="center"?(f="center",m-=d/2):(f="left",m-=d)):(m=this.left+h,s==="near"?f="left":s==="center"?(f="center",m+=d/2):(f="right",m=this.right)):f="right",{textAlign:f,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:s,top:r,width:o,height:c}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(s,r,o,c),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(o=>o.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(d,f,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(f.x,f.y),s.stroke(),s.restore())};if(t.display)for(o=0,c=r.length;o<c;++o){const d=r[o];t.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:s,grid:r}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,m,b,v;this.isHorizontal()?(f=ms(e,this.left,c)-c/2,m=ms(e,this.right,h)+h/2,b=v=d):(b=ms(e,this.top,c)-c/2,v=ms(e,this.bottom,h)+h/2,f=m=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,b),t.lineTo(m,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,r=this._computeLabelArea();r&&Tf(s,r);const o=this.getLabelItems(e);for(const c of o){const h=c.options,d=c.font,f=c.label,m=c.textOffset;oo(s,f,0,m,d,h)}r&&Cf(s)}drawTitle(){const{ctx:e,options:{position:t,title:s,reverse:r}}=this;if(!s.display)return;const o=Rt(s.font),c=yn(s.padding),h=s.align;let d=o.lineHeight/2;t==="bottom"||t==="center"||Me(t)?(d+=c.bottom,pt(s.text)&&(d+=o.lineHeight*(s.text.length-1))):d+=c.top;const{titleX:f,titleY:m,maxWidth:b,rotation:v}=FO(this,d,t,h);oo(e,s.text,0,0,o,{color:s.color,maxWidth:b,rotation:v,textAlign:HO(h,t,r),textBaseline:"middle",translation:[f,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,s=Te(e.grid&&e.grid.z,-1),r=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==za.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[];let o,c;for(o=0,c=t.length;o<c;++o){const h=t[o];h[s]===this.id&&(!e||h.type===e)&&r.push(h)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Rt(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Zl{constructor(e,t,s){this.type=e,this.scope=t,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let s;$O(t)&&(s=this.register(t));const r=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,IO(e,c,s),this.override&&ot.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const t=this.items,s=e.id,r=this.scope;s in t&&delete t[s],r&&s in ot[r]&&(delete ot[r][s],this.override&&delete Os[s])}}function IO(i,e,t){const s=no(Object.create(null),[t?ot.get(t):{},ot.get(e),i.defaults]);ot.set(e,s),i.defaultRoutes&&qO(e,i.defaultRoutes),i.descriptors&&ot.describe(e,i.descriptors)}function qO(i,e){Object.keys(e).forEach(t=>{const s=t.split("."),r=s.pop(),o=[i].concat(s).join("."),c=e[t].split("."),h=c.pop(),d=c.join(".");ot.route(o,r,d,h)})}function $O(i){return"id"in i&&"defaults"in i}class GO{constructor(){this.controllers=new Zl(Bc,"datasets",!0),this.elements=new Zl(gi,"elements"),this.plugins=new Zl(Object,"plugins"),this.scales=new Zl(za,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,s){[...t].forEach(r=>{const o=s||this._getRegistryForType(r);s||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):He(r,c=>{const h=s||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,t,s){const r=_f(e);Ke(s["before"+r],[],s),t[e](s),Ke(s["after"+r],[],s)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const s=this._typedRegistries[t];if(s.isForType(e))return s}return this.plugins}_get(e,t,s){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}}var Nn=new GO;class VO{constructor(){this._init=void 0}notify(e,t,s,r){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=r?this._descriptors(e).filter(r):this._descriptors(e),c=this._notify(o,e,t,s);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),c}_notify(e,t,s,r){r=r||{};for(const o of e){const c=o.plugin,h=c[s],d=[t,r,o.options];if(Ke(h,d,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const s=e&&e.config,r=Te(s.options&&s.options.plugins,{}),o=YO(s);return r===!1&&!t?[]:KO(e,o,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],s=this._cache,r=(o,c)=>o.filter(h=>!c.some(d=>h.plugin.id===d.plugin.id));this._notify(r(t,s),e,"stop"),this._notify(r(s,t),e,"start")}}function YO(i){const e={},t=[],s=Object.keys(Nn.plugins.items);for(let o=0;o<s.length;o++)t.push(Nn.getPlugin(s[o]));const r=i.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];t.indexOf(c)===-1&&(t.push(c),e[c.id]=!0)}return{plugins:t,localIds:e}}function WO(i,e){return!e&&i===!1?null:i===!0?{}:i}function KO(i,{plugins:e,localIds:t},s,r){const o=[],c=i.getContext();for(const h of e){const d=h.id,f=WO(s[d],r);f!==null&&o.push({plugin:h,options:XO(i.config,{plugin:h,local:t[d]},f,c)})}return o}function XO(i,{plugin:e,local:t},s,r){const o=i.pluginScopeKeys(e),c=i.getOptionScopes(s,o);return t&&e.defaults&&c.push(e.defaults),i.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Qd(i,e){const t=ot.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function QO(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function JO(i,e){return i===e?"_index_":"_value_"}function pv(i){if(i==="x"||i==="y"||i==="r")return i}function ZO(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Jd(i,...e){if(pv(i))return i;for(const t of e){const s=t.axis||ZO(t.position)||i.length>1&&pv(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function mv(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function eR(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(t.length)return mv(i,"x",t[0])||mv(i,"y",t[0])}return{}}function tR(i,e){const t=Os[i.type]||{scales:{}},s=e.scales||{},r=Qd(i.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const h=s[c];if(!Me(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const d=Jd(c,h,eR(c,i),ot.scales[h.type]),f=JO(d,r),m=t.scales||{};o[c]=Wr(Object.create(null),[{axis:d},h,m[d],m[f]])}),i.data.datasets.forEach(c=>{const h=c.type||i.type,d=c.indexAxis||Qd(h,e),m=(Os[h]||{}).scales||{};Object.keys(m).forEach(b=>{const v=QO(b,d),x=c[v+"AxisID"]||v;o[x]=o[x]||Object.create(null),Wr(o[x],[{axis:v},s[x],m[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];Wr(h,[ot.scales[h.type],ot.scale])}),o}function X_(i){const e=i.options||(i.options={});e.plugins=Te(e.plugins,{}),e.scales=tR(i,e)}function Q_(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function nR(i){return i=i||{},i.data=Q_(i.data),X_(i),i}const yv=new Map,J_=new Set;function ec(i,e){let t=yv.get(i);return t||(t=e(),yv.set(i,t),J_.add(t)),t}const Hr=(i,e,t)=>{const s=As(e,t);s!==void 0&&i.add(s)};class iR{constructor(e){this._config=nR(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Q_(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),X_(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ec(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ec(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ec(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,s=this.type;return ec(`${s}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const s=this._scopeCache;let r=s.get(e);return(!r||t)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,t,s){const{options:r,type:o}=this,c=this._cachedScopes(e,s),h=c.get(t);if(h)return h;const d=new Set;t.forEach(m=>{e&&(d.add(e),m.forEach(b=>Hr(d,e,b))),m.forEach(b=>Hr(d,r,b)),m.forEach(b=>Hr(d,Os[o]||{},b)),m.forEach(b=>Hr(d,ot,b)),m.forEach(b=>Hr(d,Kd,b))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),J_.has(t)&&c.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Os[t]||{},ot.datasets[t]||{},{type:t},ot,Kd]}resolveNamedOptions(e,t,s,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=bv(this._resolverCache,e,r);let d=c;if(aR(c,t)){o.$shared=!1,s=Yi(s)?s():s;const f=this.createResolver(e,s,h);d=Ma(c,s,f)}for(const f of t)o[f]=d[f];return o}createResolver(e,t,s=[""],r){const{resolver:o}=bv(this._resolverCache,e,s);return Me(t)?Ma(o,t,void 0,r):o}}function bv(i,e,t){let s=i.get(e);s||(s=new Map,i.set(e,s));const r=t.join();let o=s.get(r);return o||(o={resolver:Af(e,t),subPrefixes:t.filter(h=>!h.toLowerCase().includes("hover"))},s.set(r,o)),o}const sR=i=>Me(i)&&Object.getOwnPropertyNames(i).some(e=>Yi(i[e]));function aR(i,e){const{isScriptable:t,isIndexable:s}=D_(i);for(const r of e){const o=t(r),c=s(r),h=(c||o)&&i[r];if(o&&(Yi(h)||sR(h))||c&&pt(h))return!0}return!1}var rR="4.5.1";const oR=["top","bottom","left","right","chartArea"];function vv(i,e){return i==="top"||i==="bottom"||oR.indexOf(i)===-1&&e==="x"}function _v(i,e){return function(t,s){return t[i]===s[i]?t[e]-s[e]:t[i]-s[i]}}function xv(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ke(t&&t.onComplete,[i],e)}function lR(i){const e=i.chart,t=e.options.animation;Ke(t&&t.onProgress,[i],e)}function Z_(i){return Mf()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const fc={},Sv=i=>{const e=Z_(i);return Object.values(fc).filter(t=>t.canvas===e).pop()};function cR(i,e,t){const s=Object.keys(i);for(const r of s){const o=+r;if(o>=e){const c=i[r];delete i[r],(t>0||o>e)&&(i[o+t]=c)}}}function uR(i,e,t,s){return!t||i.type==="mouseout"?null:s?e:i}let Hc=class{static defaults=ot;static instances=fc;static overrides=Os;static registry=Nn;static version=rR;static getChart=Sv;static register(...e){Nn.add(...e),wv()}static unregister(...e){Nn.remove(...e),wv()}constructor(e,t){const s=this.config=new iR(t),r=Z_(e),o=Sv(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||AO(r)),this.platform.updateConfig(s);const h=this.platform.acquireContext(r,c.aspectRatio),d=h&&h.canvas,f=d&&d.height,m=d&&d.width;if(this.id=nj(),this.ctx=h,this.canvas=d,this.width=m,this.height=f,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new VO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xj(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],fc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}ai.listen(this,"complete",xv),ai.listen(this,"progress",lR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:r,_aspectRatio:o}=this;return Pe(e)?t&&o?o:r?s/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Nn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Gb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ib(this.canvas,this.ctx),this}stop(){return ai.stop(this),this}resize(e,t){ai.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const s=this.options,r=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,e,t,o),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,Gb(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),Ke(s.onResize,[this,c],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};He(t,(s,r)=>{s.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,s=this.scales,r=Object.keys(s).reduce((c,h)=>(c[h]=!1,c),{});let o=[];t&&(o=o.concat(Object.keys(t).map(c=>{const h=t[c],d=Jd(c,h),f=d==="r",m=d==="x";return{options:h,dposition:f?"chartArea":m?"bottom":"left",dtype:f?"radialLinear":m?"category":"linear"}}))),He(o,c=>{const h=c.options,d=h.id,f=Jd(d,h),m=Te(h.type,c.dtype);(h.position===void 0||vv(h.position,f)!==vv(c.dposition))&&(h.position=c.dposition),r[d]=!0;let b=null;if(d in s&&s[d].type===m)b=s[d];else{const v=Nn.getScale(m);b=new v({id:d,type:m,ctx:this.ctx,chart:this}),s[b.id]=b}b.init(h,e)}),He(r,(c,h)=>{c||delete s[h]}),He(s,c=>{pn.configure(this,c,c.options),pn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,s=e.length;if(e.sort((r,o)=>r.index-o.index),s>t){for(let r=t;r<s;++r)this._destroyDatasetMeta(r);e.splice(t,s-t)}this._sortedMetasets=e.slice(0).sort(_v("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((s,r)=>{t.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let s,r;for(this._removeUnreferencedMetasets(),s=0,r=t.length;s<r;s++){const o=t[s];let c=this.getDatasetMeta(s);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=h,c.indexAxis=o.indexAxis||Qd(h,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const d=Nn.getController(h),{datasetElementType:f,dataElementType:m}=ot.datasets[h];Object.assign(d,{dataElementType:Nn.getElement(m),datasetElementType:f&&Nn.getElement(f)}),c.controller=new d(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){He(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const s=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let f=0,m=this.data.datasets.length;f<m;f++){const{controller:b}=this.getDatasetMeta(f),v=!r&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),r||He(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(_v("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){He(this.scales,e=>{pn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!kb(t,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:s,start:r,count:o}of t){const c=s==="_removeElements"?-o:o;cR(e,r,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=s(0);for(let o=1;o<t;o++)if(!kb(r,s(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;pn.update(this,this.width,this.height,e);const t=this.chartArea,s=t.width<=0||t.height<=0;this._layers=[],He(this.boxes,r=>{s&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,s=this.data.datasets.length;t<s;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,s=this.data.datasets.length;t<s;++t)this._updateDataset(t,Yi(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const s=this.getDatasetMeta(e),r={meta:s,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(s.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ai.has(this)?this.attached&&!ai.running(this)&&ai.start(this):(this.draw(),xv({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,s=[];let r,o;for(r=0,o=t.length;r<o;++r){const c=t[r];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,s={meta:e,index:e.index,cancelable:!0},r=jA(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Tf(t,r),e.controller.draw(),r&&Cf(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return ro(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,s,r){const o=oO.modes[t];return typeof o=="function"?o(this,e,s,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],s=this._metasets;let r=s.filter(o=>o&&o._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},s.push(r)),r}getContext(){return this.$context||(this.$context=Rs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!t.hidden}setDatasetVisibility(e,t){const s=this.getDatasetMeta(e);s.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,s){const r=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,r);io(t)?(o.data[t].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(h=>h.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ai.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ib(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete fc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,s=(o,c)=>{t.addEventListener(this,o,c),e[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};He(this.options.events,o=>s(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,s=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},r=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),s("attach",h)},t.isAttached(this.canvas)?h():c()}unbindEvents(){He(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},He(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,s){const r=s?"set":"remove";let o,c,h,d;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,d=e.length;h<d;++h){c=e[h];const f=c&&this.getDatasetMeta(c.datasetIndex).controller;f&&f[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ec(s,t)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,t))}notifyPlugins(e,t,s){return this._plugins.notify(this,e,t,s)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,s){const r=this.options.hover,o=(d,f)=>d.filter(m=>!f.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),c=o(t,e),h=s?e:o(e,t);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(e,t){const s={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,r)===!1)return;const o=this._handleEvent(e,t,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,r),(o||s.changed)&&this.render(),this}_handleEvent(e,t,s){const{_active:r=[],options:o}=this,c=t,h=this._getActiveElements(e,r,s,c),d=lj(e),f=uR(e,this._lastEvent,s,d);s&&(this._lastEvent=null,Ke(o.onHover,[e,h,this],this),d&&Ke(o.onClick,[e,h,this],this));const m=!Ec(h,r);return(m||t)&&(this._active=h,this._updateHoverStyles(h,r,t)),this._lastEvent=f,m}_getActiveElements(e,t,s,r){if(e.type==="mouseout")return[];if(!s)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,r)}};function wv(){return He(Hc.instances,i=>i._plugins.invalidate())}function hR(i,e,t){const{startAngle:s,x:r,y:o,outerRadius:c,innerRadius:h,options:d}=e,{borderWidth:f,borderJoinStyle:m}=d,b=Math.min(f/c,En(s-t));if(i.beginPath(),i.arc(r,o,c-f/2,s+b/2,t-b/2),h>0){const v=Math.min(f/h,En(s-t));i.arc(r,o,h+f/2,t-v/2,s+v/2,!0)}else{const v=Math.min(f/2,c*En(s-t));if(m==="round")i.arc(r,o,v,t-Fe/2,s+Fe/2,!0);else if(m==="bevel"){const x=2*v*v,S=-x*Math.cos(t+Fe/2)+r,E=-x*Math.sin(t+Fe/2)+o,w=x*Math.cos(s+Fe/2)+r,C=x*Math.sin(s+Fe/2)+o;i.lineTo(S,E),i.lineTo(w,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function dR(i,e,t){const{startAngle:s,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:d}=e;let f=r/h;i.beginPath(),i.arc(o,c,h,s-f,t+f),d>r?(f=r/d,i.arc(o,c,d,t+f,s-f,!0)):i.arc(o,c,r,t+mt,s-mt),i.closePath(),i.clip()}function fR(i){return jf(i,["outerStart","outerEnd","innerStart","innerEnd"])}function gR(i,e,t,s){const r=fR(i.options.borderRadius),o=(t-e)/2,c=Math.min(o,s*e/2),h=d=>{const f=(t-Math.min(o,d))*s/2;return Ot(d,0,Math.min(o,f))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Ot(r.innerStart,0,c),innerEnd:Ot(r.innerEnd,0,c)}}function xa(i,e,t,s){return{x:t+i*Math.cos(e),y:s+i*Math.sin(e)}}function Rc(i,e,t,s,r,o){const{x:c,y:h,startAngle:d,pixelMargin:f,innerRadius:m}=e,b=Math.max(e.outerRadius+s+t-f,0),v=m>0?m+s+t+f:0;let x=0;const S=r-d;if(s){const le=m>0?m-s:0,B=b>0?b-s:0,ne=(le+B)/2,ce=ne!==0?S*ne/(ne+s):S;x=(S-ce)/2}const E=Math.max(.001,S*b-t/Fe)/b,w=(S-E)/2,C=d+w+x,j=r-w-x,{outerStart:A,outerEnd:N,innerStart:k,innerEnd:z}=gR(e,v,b,j-C),P=b-A,J=b-N,I=C+A/P,ie=j-N/J,Y=v+k,q=v+z,X=C+k/Y,de=j-z/q;if(i.beginPath(),o){const le=(I+ie)/2;if(i.arc(c,h,b,I,le),i.arc(c,h,b,le,ie),N>0){const W=xa(J,ie,c,h);i.arc(W.x,W.y,N,ie,j+mt)}const B=xa(q,j,c,h);if(i.lineTo(B.x,B.y),z>0){const W=xa(q,de,c,h);i.arc(W.x,W.y,z,j+mt,de+Math.PI)}const ne=(j-z/v+(C+k/v))/2;if(i.arc(c,h,v,j-z/v,ne,!0),i.arc(c,h,v,ne,C+k/v,!0),k>0){const W=xa(Y,X,c,h);i.arc(W.x,W.y,k,X+Math.PI,C-mt)}const ce=xa(P,C,c,h);if(i.lineTo(ce.x,ce.y),A>0){const W=xa(P,I,c,h);i.arc(W.x,W.y,A,C-mt,I)}}else{i.moveTo(c,h);const le=Math.cos(I)*b+c,B=Math.sin(I)*b+h;i.lineTo(le,B);const ne=Math.cos(ie)*b+c,ce=Math.sin(ie)*b+h;i.lineTo(ne,ce)}i.closePath()}function pR(i,e,t,s,r){const{fullCircles:o,startAngle:c,circumference:h}=e;let d=e.endAngle;if(o){Rc(i,e,t,s,d,r);for(let f=0;f<o;++f)i.fill();isNaN(h)||(d=c+(h%it||it))}return Rc(i,e,t,s,d,r),i.fill(),d}function mR(i,e,t,s,r){const{fullCircles:o,startAngle:c,circumference:h,options:d}=e,{borderWidth:f,borderJoinStyle:m,borderDash:b,borderDashOffset:v,borderRadius:x}=d,S=d.borderAlign==="inner";if(!f)return;i.setLineDash(b||[]),i.lineDashOffset=v,S?(i.lineWidth=f*2,i.lineJoin=m||"round"):(i.lineWidth=f,i.lineJoin=m||"bevel");let E=e.endAngle;if(o){Rc(i,e,t,s,E,r);for(let w=0;w<o;++w)i.stroke();isNaN(h)||(E=c+(h%it||it))}S&&dR(i,e,E),d.selfJoin&&E-c>=Fe&&x===0&&m!=="miter"&&hR(i,e,E),o||(Rc(i,e,t,s,E,r),i.stroke())}class yR extends gi{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.getProps(["x","y"],s),{angle:o,distance:c}=C_(r,{x:e,y:t}),{startAngle:h,endAngle:d,innerRadius:f,outerRadius:m,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,x=Te(b,d-h),S=ao(o,h,d)&&h!==d,E=x>=it||S,w=qi(c,f+v,m+v);return E&&w}getCenterPoint(e){const{x:t,y:s,startAngle:r,endAngle:o,innerRadius:c,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:f}=this.options,m=(r+o)/2,b=(c+h+f+d)/2;return{x:t+Math.cos(m)*b,y:s+Math.sin(m)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:s}=this,r=(t.offset||0)/4,o=(t.spacing||0)/2,c=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=s>it?Math.floor(s/it):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*r,Math.sin(h)*r);const d=1-Math.sin(Math.min(Fe,s||0)),f=r*d;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,pR(e,this,f,o,c),mR(e,this,f,o,c),e.restore()}}function ex(i,e,t=e){i.lineCap=Te(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Te(t.borderDash,e.borderDash)),i.lineDashOffset=Te(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Te(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Te(t.borderWidth,e.borderWidth),i.strokeStyle=Te(t.borderColor,e.borderColor)}function bR(i,e,t){i.lineTo(t.x,t.y)}function vR(i){return i.stepped?Pj:i.tension||i.cubicInterpolationMode==="monotone"?Lj:bR}function tx(i,e,t={}){const s=i.length,{start:r=0,end:o=s-1}=t,{start:c,end:h}=e,d=Math.max(r,c),f=Math.min(o,h),m=r<c&&o<c||r>h&&o>h;return{count:s,start:d,loop:e.loop,ilen:f<d&&!m?s+f-d:f-d}}function _R(i,e,t,s){const{points:r,options:o}=e,{count:c,start:h,loop:d,ilen:f}=tx(r,t,s),m=vR(o);let{move:b=!0,reverse:v}=s||{},x,S,E;for(x=0;x<=f;++x)S=r[(h+(v?f-x:x))%c],!S.skip&&(b?(i.moveTo(S.x,S.y),b=!1):m(i,E,S,v,o.stepped),E=S);return d&&(S=r[(h+(v?f:0))%c],m(i,E,S,v,o.stepped)),!!d}function xR(i,e,t,s){const r=e.points,{count:o,start:c,ilen:h}=tx(r,t,s),{move:d=!0,reverse:f}=s||{};let m=0,b=0,v,x,S,E,w,C;const j=N=>(c+(f?h-N:N))%o,A=()=>{E!==w&&(i.lineTo(m,w),i.lineTo(m,E),i.lineTo(m,C))};for(d&&(x=r[j(0)],i.moveTo(x.x,x.y)),v=0;v<=h;++v){if(x=r[j(v)],x.skip)continue;const N=x.x,k=x.y,z=N|0;z===S?(k<E?E=k:k>w&&(w=k),m=(b*m+N)/++b):(A(),i.lineTo(N,k),S=z,b=0,E=w=k),C=k}A()}function Zd(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?xR:_R}function SR(i){return i.stepped?gA:i.tension||i.cubicInterpolationMode==="monotone"?pA:Ss}function wR(i,e,t,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,s)&&r.closePath()),ex(i,e.options),i.stroke(r)}function ER(i,e,t,s){const{segments:r,options:o}=e,c=Zd(e);for(const h of r)ex(i,o,h.style),i.beginPath(),c(i,e,h,{start:t,end:t+s-1})&&i.closePath(),i.stroke()}const TR=typeof Path2D=="function";function CR(i,e,t,s){TR&&!e.options.segment?wR(i,e,t,s):ER(i,e,t,s)}class jR extends gi{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const r=s.spanGaps?this._loop:this._fullLoop;rA(this._points,s,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wA(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,s=e.length;return s&&t[e[s-1].end]}interpolate(e,t){const s=this.options,r=e[t],o=this.points,c=_A(this,{property:t,start:r,end:r});if(!c.length)return;const h=[],d=SR(s);let f,m;for(f=0,m=c.length;f<m;++f){const{start:b,end:v}=c[f],x=o[b],S=o[v];if(x===S){h.push(x);continue}const E=Math.abs((r-x[t])/(S[t]-x[t])),w=d(x,S,E,s.stepped);w[t]=e[t],h.push(w)}return h.length===1?h[0]:h}pathSegment(e,t,s){return Zd(this)(e,this,t,s)}path(e,t,s){const r=this.segments,o=Zd(this);let c=this._loop;t=t||0,s=s||this.points.length-t;for(const h of r)c&=o(e,this,h,{start:t,end:t+s-1});return!!c}draw(e,t,s,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),CR(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ev(i,e,t,s){const r=i.options,{[t]:o}=i.getProps([t],s);return Math.abs(e-o)<r.radius+r.hitRadius}class AR extends gi{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,s){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(t-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Ev(this,e,"x",t)}inYRange(e,t){return Ev(this,e,"y",t)}getCenterPoint(e){const{x:t,y:s}=this.getProps(["x","y"],e);return{x:t,y:s}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const s=t&&e.borderWidth||0;return(t+s)*2}draw(e,t){const s=this.options;this.skip||s.radius<.1||!ro(this,t,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Xd(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function nx(i,e){const{x:t,y:s,base:r,width:o,height:c}=i.getProps(["x","y","base","width","height"],e);let h,d,f,m,b;return i.horizontal?(b=c/2,h=Math.min(t,r),d=Math.max(t,r),f=s-b,m=s+b):(b=o/2,h=t-b,d=t+b,f=Math.min(s,r),m=Math.max(s,r)),{left:h,top:f,right:d,bottom:m}}function Gi(i,e,t,s){return i?0:Ot(e,t,s)}function OR(i,e,t){const s=i.options.borderWidth,r=i.borderSkipped,o=N_(s);return{t:Gi(r.top,o.top,0,t),r:Gi(r.right,o.right,0,e),b:Gi(r.bottom,o.bottom,0,t),l:Gi(r.left,o.left,0,e)}}function RR(i,e,t){const{enableBorderRadius:s}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,o=ja(r),c=Math.min(e,t),h=i.borderSkipped,d=s||Me(r);return{topLeft:Gi(!d||h.top||h.left,o.topLeft,0,c),topRight:Gi(!d||h.top||h.right,o.topRight,0,c),bottomLeft:Gi(!d||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:Gi(!d||h.bottom||h.right,o.bottomRight,0,c)}}function MR(i){const e=nx(i),t=e.right-e.left,s=e.bottom-e.top,r=OR(i,t/2,s/2),o=RR(i,t/2,s/2);return{outer:{x:e.left,y:e.top,w:t,h:s,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Cd(i,e,t,s){const r=e===null,o=t===null,h=i&&!(r&&o)&&nx(i,s);return h&&(r||qi(e,h.left,h.right))&&(o||qi(t,h.top,h.bottom))}function kR(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function NR(i,e){i.rect(e.x,e.y,e.w,e.h)}function jd(i,e,t={}){const s=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,o=(i.x+i.w!==t.x+t.w?e:0)-s,c=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+s,y:i.y+r,w:i.w+o,h:i.h+c,radius:i.radius}}class DR extends gi{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:s,backgroundColor:r}}=this,{inner:o,outer:c}=MR(this),h=kR(c.radius)?jc:NR;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,jd(c,t,o)),e.clip(),h(e,jd(o,-t,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),h(e,jd(o,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,s){return Cd(this,e,t,s)}inXRange(e,t){return Cd(this,e,null,t)}inYRange(e,t){return Cd(this,null,e,t)}getCenterPoint(e){const{x:t,y:s,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+r)/2:t,y:o?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Tv=(i,e)=>{let{boxHeight:t=e,boxWidth:s=e}=i;return i.usePointStyle&&(t=Math.min(t,e),s=i.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:t,itemHeight:Math.max(e,t)}},PR=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class Cv extends gi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,s){this.maxWidth=e,this.maxHeight=t,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ke(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(s=>e.filter(s,this.chart.data))),e.sort&&(t=t.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,r=Rt(s.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=Tv(s,o);let f,m;t.font=r.string,this.isHorizontal()?(f=this.maxWidth,m=this._fitRows(c,o,h,d)+10):(m=this.maxHeight,f=this._fitCols(c,r,h,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,t,s,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],m=r+h;let b=e;o.textAlign="left",o.textBaseline="middle";let v=-1,x=-m;return this.legendItems.forEach((S,E)=>{const w=s+t/2+o.measureText(S.text).width;(E===0||f[f.length-1]+w+2*h>c)&&(b+=m,f[f.length-(E>0?0:1)]=0,x+=m,v++),d[E]={left:0,top:x,row:v,width:w,height:r},f[f.length-1]+=w+h}),b}_fitCols(e,t,s,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],m=c-e;let b=h,v=0,x=0,S=0,E=0;return this.legendItems.forEach((w,C)=>{const{itemWidth:j,itemHeight:A}=LR(s,t,o,w,r);C>0&&x+A+2*h>m&&(b+=v+h,f.push({width:v,height:x}),S+=v+h,E++,v=x=0),d[C]={left:S,top:x,col:E,width:j,height:A},v=Math.max(v,j),x+=A+h}),b+=v,f.push({width:v,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:s,labels:{padding:r},rtl:o}}=this,c=Aa(o,this.left,this.width);if(this.isHorizontal()){let h=0,d=At(s,this.left+r,this.right-this.lineWidths[h]);for(const f of t)h!==f.row&&(h=f.row,d=At(s,this.left+r,this.right-this.lineWidths[h])),f.top+=this.top+e+r,f.left=c.leftForLtr(c.x(d),f.width),d+=f.width+r}else{let h=0,d=At(s,this.top+e+r,this.bottom-this.columnSizes[h].height);for(const f of t)f.col!==h&&(h=f.col,d=At(s,this.top+e+r,this.bottom-this.columnSizes[h].height)),f.top=d,f.left+=this.left+r,f.left=c.leftForLtr(c.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Tf(e,this),this._draw(),Cf(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:s,ctx:r}=this,{align:o,labels:c}=e,h=ot.color,d=Aa(e.rtl,this.left,this.width),f=Rt(c.font),{padding:m}=c,b=f.size,v=b/2;let x;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:E,itemHeight:w}=Tv(c,b),C=function(z,P,J){if(isNaN(S)||S<=0||isNaN(E)||E<0)return;r.save();const I=Te(J.lineWidth,1);if(r.fillStyle=Te(J.fillStyle,h),r.lineCap=Te(J.lineCap,"butt"),r.lineDashOffset=Te(J.lineDashOffset,0),r.lineJoin=Te(J.lineJoin,"miter"),r.lineWidth=I,r.strokeStyle=Te(J.strokeStyle,h),r.setLineDash(Te(J.lineDash,[])),c.usePointStyle){const ie={radius:E*Math.SQRT2/2,pointStyle:J.pointStyle,rotation:J.rotation,borderWidth:I},Y=d.xPlus(z,S/2),q=P+v;k_(r,ie,Y,q,c.pointStyleWidth&&S)}else{const ie=P+Math.max((b-E)/2,0),Y=d.leftForLtr(z,S),q=ja(J.borderRadius);r.beginPath(),Object.values(q).some(X=>X!==0)?jc(r,{x:Y,y:ie,w:S,h:E,radius:q}):r.rect(Y,ie,S,E),r.fill(),I!==0&&r.stroke()}r.restore()},j=function(z,P,J){oo(r,J.text,z,P+w/2,f,{strikethrough:J.hidden,textAlign:d.textAlign(J.textAlign)})},A=this.isHorizontal(),N=this._computeTitleHeight();A?x={x:At(o,this.left+m,this.right-s[0]),y:this.top+m+N,line:0}:x={x:this.left+m,y:At(o,this.top+N+m,this.bottom-t[0].height),line:0},U_(this.ctx,e.textDirection);const k=w+m;this.legendItems.forEach((z,P)=>{r.strokeStyle=z.fontColor,r.fillStyle=z.fontColor;const J=r.measureText(z.text).width,I=d.textAlign(z.textAlign||(z.textAlign=c.textAlign)),ie=S+v+J;let Y=x.x,q=x.y;d.setWidth(this.width),A?P>0&&Y+ie+m>this.right&&(q=x.y+=k,x.line++,Y=x.x=At(o,this.left+m,this.right-s[x.line])):P>0&&q+k>this.bottom&&(Y=x.x=Y+t[x.line].width+m,x.line++,q=x.y=At(o,this.top+N+m,this.bottom-t[x.line].height));const X=d.x(Y);if(C(X,q,z),Y=Sj(I,Y+S+v,A?Y+ie:this.right,e.rtl),j(d.x(Y),q,z),A)x.x+=ie+m;else if(typeof z.text!="string"){const de=f.lineHeight;x.y+=ix(z,de)+m}else x.y+=k}),H_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,s=Rt(t.font),r=yn(t.padding);if(!t.display)return;const o=Aa(e.rtl,this.left,this.width),c=this.ctx,h=t.position,d=s.size/2,f=r.top+d;let m,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+f,b=At(e.align,b,this.right-v);else{const S=this.columnSizes.reduce((E,w)=>Math.max(E,w.height),0);m=f+At(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const x=At(h,b,b+v);c.textAlign=o.textAlign(Sf(h)),c.textBaseline="middle",c.strokeStyle=t.color,c.fillStyle=t.color,c.font=s.string,oo(c,t.text,x,m,s)}_computeTitleHeight(){const e=this.options.title,t=Rt(e.font),s=yn(e.padding);return e.display?t.lineHeight+s.height:0}_getLegendItemAt(e,t){let s,r,o;if(qi(e,this.left,this.right)&&qi(t,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(r=o[s],qi(e,r.left,r.left+r.width)&&qi(t,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){const t=this.options;if(!UR(e.type,t))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,o=PR(r,s);r&&!o&&Ke(t.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!o&&Ke(t.onHover,[e,s,this],this)}else s&&Ke(t.onClick,[e,s,this],this)}}function LR(i,e,t,s,r){const o=zR(s,i,e,t),c=BR(r,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function zR(i,e,t,s){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),e+t.size/2+s.measureText(r).width}function BR(i,e,t){let s=i;return typeof e.text!="string"&&(s=ix(e,t)),s}function ix(i,e){const t=i.text?i.text.length:0;return e*t}function UR(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var HR={id:"legend",_element:Cv,start(i,e,t){const s=i.legend=new Cv({ctx:i.ctx,options:t,chart:i});pn.configure(i,s,t),pn.addBox(i,s)},stop(i){pn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const s=i.legend;pn.configure(i,s,t),s.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const s=e.datasetIndex,r=t.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:s,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),m=yn(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:f.borderColor,pointStyle:s||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:c&&(h||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class sx extends gi{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=pt(s.text)?s.text.length:1;this._padding=yn(s.padding);const o=r*Rt(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:s,bottom:r,right:o,options:c}=this,h=c.align;let d=0,f,m,b;return this.isHorizontal()?(m=At(h,s,o),b=t+e,f=o-s):(c.position==="left"?(m=s+e,b=At(h,r,t),d=Fe*-.5):(m=o-e,b=At(h,t,r),d=Fe*.5),f=r-t),{titleX:m,titleY:b,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const s=Rt(t.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:d,rotation:f}=this._drawArgs(o);oo(e,t.text,0,0,s,{color:t.color,maxWidth:d,rotation:f,textAlign:Sf(t.align),textBaseline:"middle",translation:[c,h]})}}function FR(i,e){const t=new sx({ctx:i.ctx,options:e,chart:i});pn.configure(i,t,e),pn.addBox(i,t),i.titleBlock=t}var IR={id:"title",_element:sx,start(i,e,t){FR(i,t)},stop(i){const e=i.titleBlock;pn.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const s=i.titleBlock;pn.configure(i,s,t),s.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr={average(i){if(!i.length)return!1;let e,t,s=new Set,r=0,o=0;for(e=0,t=i.length;e<t;++e){const h=i[e].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),r+=d.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:r/o}},nearest(i,e){if(!i.length)return!1;let t=e.x,s=e.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=i.length;o<c;++o){const d=i[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),m=Wd(e,f);m<r&&(r=m,h=d)}}if(h){const d=h.tooltipPosition();t=d.x,s=d.y}return{x:t,y:s}}};function kn(i,e){return e&&(pt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function ri(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function qR(i,e){const{element:t,datasetIndex:s,index:r}=e,o=i.getDatasetMeta(s).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:i,label:c,parsed:o.getParsed(r),raw:i.data.datasets[s].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:s,element:t}}function jv(i,e){const t=i.chart.ctx,{body:s,footer:r,title:o}=i,{boxWidth:c,boxHeight:h}=e,d=Rt(e.bodyFont),f=Rt(e.titleFont),m=Rt(e.footerFont),b=o.length,v=r.length,x=s.length,S=yn(e.padding);let E=S.height,w=0,C=s.reduce((N,k)=>N+k.before.length+k.lines.length+k.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,b&&(E+=b*f.lineHeight+(b-1)*e.titleSpacing+e.titleMarginBottom),C){const N=e.displayColors?Math.max(h,d.lineHeight):d.lineHeight;E+=x*N+(C-x)*d.lineHeight+(C-1)*e.bodySpacing}v&&(E+=e.footerMarginTop+v*m.lineHeight+(v-1)*e.footerSpacing);let j=0;const A=function(N){w=Math.max(w,t.measureText(N).width+j)};return t.save(),t.font=f.string,He(i.title,A),t.font=d.string,He(i.beforeBody.concat(i.afterBody),A),j=e.displayColors?c+2+e.boxPadding:0,He(s,N=>{He(N.before,A),He(N.lines,A),He(N.after,A)}),j=0,t.font=m.string,He(i.footer,A),t.restore(),w+=S.width,{width:w,height:E}}function $R(i,e){const{y:t,height:s}=e;return t<s/2?"top":t>i.height-s/2?"bottom":"center"}function GR(i,e,t,s){const{x:r,width:o}=s,c=t.caretSize+t.caretPadding;if(i==="left"&&r+o+c>e.width||i==="right"&&r-o-c<0)return!0}function VR(i,e,t,s){const{x:r,width:o}=t,{width:c,chartArea:{left:h,right:d}}=i;let f="center";return s==="center"?f=r<=(h+d)/2?"left":"right":r<=o/2?f="left":r>=c-o/2&&(f="right"),GR(f,i,e,t)&&(f="center"),f}function Av(i,e,t){const s=t.yAlign||e.yAlign||$R(i,t);return{xAlign:t.xAlign||e.xAlign||VR(i,e,t,s),yAlign:s}}function YR(i,e){let{x:t,width:s}=i;return e==="right"?t-=s:e==="center"&&(t-=s/2),t}function WR(i,e,t){let{y:s,height:r}=i;return e==="top"?s+=t:e==="bottom"?s-=r+t:s-=r/2,s}function Ov(i,e,t,s){const{caretSize:r,caretPadding:o,cornerRadius:c}=i,{xAlign:h,yAlign:d}=t,f=r+o,{topLeft:m,topRight:b,bottomLeft:v,bottomRight:x}=ja(c);let S=YR(e,h);const E=WR(e,d,f);return d==="center"?h==="left"?S+=f:h==="right"&&(S-=f):h==="left"?S-=Math.max(m,v)+r:h==="right"&&(S+=Math.max(b,x)+r),{x:Ot(S,0,s.width-e.width),y:Ot(E,0,s.height-e.height)}}function tc(i,e,t){const s=yn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-s.right:i.x+s.left}function Rv(i){return kn([],ri(i))}function KR(i,e,t){return Rs(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function Mv(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const ax={beforeTitle:si,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,s=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return t[e.dataIndex]}return""},afterTitle:si,beforeBody:si,beforeLabel:si,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return Pe(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:si,afterBody:si,beforeFooter:si,footer:si,afterFooter:si};function Ht(i,e,t,s){const r=i[e].call(t,s);return typeof r>"u"?ax[e].call(t,s):r}class kv extends gi{static positioners=Vr;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&t.options.animation&&s.animations,o=new I_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KR(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:s}=t,r=Ht(s,"beforeTitle",this,e),o=Ht(s,"title",this,e),c=Ht(s,"afterTitle",this,e);let h=[];return h=kn(h,ri(r)),h=kn(h,ri(o)),h=kn(h,ri(c)),h}getBeforeBody(e,t){return Rv(Ht(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:s}=t,r=[];return He(e,o=>{const c={before:[],lines:[],after:[]},h=Mv(s,o);kn(c.before,ri(Ht(h,"beforeLabel",this,o))),kn(c.lines,Ht(h,"label",this,o)),kn(c.after,ri(Ht(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(e,t){return Rv(Ht(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:s}=t,r=Ht(s,"beforeFooter",this,e),o=Ht(s,"footer",this,e),c=Ht(s,"afterFooter",this,e);let h=[];return h=kn(h,ri(r)),h=kn(h,ri(o)),h=kn(h,ri(c)),h}_createItems(e){const t=this._active,s=this.chart.data,r=[],o=[],c=[];let h=[],d,f;for(d=0,f=t.length;d<f;++d)h.push(qR(this.chart,t[d]));return e.filter&&(h=h.filter((m,b,v)=>e.filter(m,b,v,s))),e.itemSort&&(h=h.sort((m,b)=>e.itemSort(m,b,s))),He(h,m=>{const b=Mv(e.callbacks,m);r.push(Ht(b,"labelColor",this,m)),o.push(Ht(b,"labelPointStyle",this,m)),c.push(Ht(b,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,t){const s=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Vr[s.position].call(this,r,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const d=this._size=jv(this,s),f=Object.assign({},h,d),m=Av(this.chart,s,f),b=Ov(s,f,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:b.x,y:b.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,s,r){const o=this.getCaretPosition(e,s,r);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,s){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=s,{topLeft:d,topRight:f,bottomLeft:m,bottomRight:b}=ja(h),{x:v,y:x}=e,{width:S,height:E}=t;let w,C,j,A,N,k;return o==="center"?(N=x+E/2,r==="left"?(w=v,C=w-c,A=N+c,k=N-c):(w=v+S,C=w+c,A=N-c,k=N+c),j=w):(r==="left"?C=v+Math.max(d,m)+c:r==="right"?C=v+S-Math.max(f,b)-c:C=this.caretX,o==="top"?(A=x,N=A-c,w=C-c,j=C+c):(A=x+E,N=A+c,w=C+c,j=C-c),k=A),{x1:w,x2:C,x3:j,y1:A,y2:N,y3:k}}drawTitle(e,t,s){const r=this.title,o=r.length;let c,h,d;if(o){const f=Aa(s.rtl,this.x,this.width);for(e.x=tc(this,s.titleAlign,s),t.textAlign=f.textAlign(s.titleAlign),t.textBaseline="middle",c=Rt(s.titleFont),h=s.titleSpacing,t.fillStyle=s.titleColor,t.font=c.string,d=0;d<o;++d)t.fillText(r[d],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,d+1===o&&(e.y+=s.titleMarginBottom-h)}}_drawColorBox(e,t,s,r,o){const c=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:f}=o,m=Rt(o.bodyFont),b=tc(this,"left",o),v=r.x(b),x=d<m.lineHeight?(m.lineHeight-d)/2:0,S=t.y+x;if(o.usePointStyle){const E={radius:Math.min(f,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},w=r.leftForLtr(v,f)+f/2,C=S+d/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Xd(e,E,w,C),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Xd(e,E,w,C)}else{e.lineWidth=Me(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const E=r.leftForLtr(v,f),w=r.leftForLtr(r.xPlus(v,1),f-2),C=ja(c.borderRadius);Object.values(C).some(j=>j!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,jc(e,{x:E,y:S,w:f,h:d,radius:C}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),jc(e,{x:w,y:S+1,w:f-2,h:d-2,radius:C}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(E,S,f,d),e.strokeRect(E,S,f,d),e.fillStyle=c.backgroundColor,e.fillRect(w,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,t,s){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:d,boxWidth:f,boxPadding:m}=s,b=Rt(s.bodyFont);let v=b.lineHeight,x=0;const S=Aa(s.rtl,this.x,this.width),E=function(J){t.fillText(J,S.x(e.x+x),e.y+v/2),e.y+=v+o},w=S.textAlign(c);let C,j,A,N,k,z,P;for(t.textAlign=c,t.textBaseline="middle",t.font=b.string,e.x=tc(this,w,s),t.fillStyle=s.bodyColor,He(this.beforeBody,E),x=h&&w!=="right"?c==="center"?f/2+m:f+2+m:0,N=0,z=r.length;N<z;++N){for(C=r[N],j=this.labelTextColors[N],t.fillStyle=j,He(C.before,E),A=C.lines,h&&A.length&&(this._drawColorBox(t,e,N,S,s),v=Math.max(b.lineHeight,d)),k=0,P=A.length;k<P;++k)E(A[k]),v=b.lineHeight;He(C.after,E)}x=0,v=b.lineHeight,He(this.afterBody,E),e.y-=o}drawFooter(e,t,s){const r=this.footer,o=r.length;let c,h;if(o){const d=Aa(s.rtl,this.x,this.width);for(e.x=tc(this,s.footerAlign,s),e.y+=s.footerMarginTop,t.textAlign=d.textAlign(s.footerAlign),t.textBaseline="middle",c=Rt(s.footerFont),t.fillStyle=s.footerColor,t.font=c.string,h=0;h<o;++h)t.fillText(r[h],d.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,t,s,r){const{xAlign:o,yAlign:c}=this,{x:h,y:d}=e,{width:f,height:m}=s,{topLeft:b,topRight:v,bottomLeft:x,bottomRight:S}=ja(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(h+b,d),c==="top"&&this.drawCaret(e,t,s,r),t.lineTo(h+f-v,d),t.quadraticCurveTo(h+f,d,h+f,d+v),c==="center"&&o==="right"&&this.drawCaret(e,t,s,r),t.lineTo(h+f,d+m-S),t.quadraticCurveTo(h+f,d+m,h+f-S,d+m),c==="bottom"&&this.drawCaret(e,t,s,r),t.lineTo(h+x,d+m),t.quadraticCurveTo(h,d+m,h,d+m-x),c==="center"&&o==="left"&&this.drawCaret(e,t,s,r),t.lineTo(h,d+b),t.quadraticCurveTo(h,d,h+b,d),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const c=Vr[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=jv(this,e),d=Object.assign({},c,this._size),f=Av(t,e,d),m=Ov(e,d,f,t);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=yn(t.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&h&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,t),U_(e,t.textDirection),o.y+=c.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),H_(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const s=this._active,r=e.map(({datasetIndex:h,index:d})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[d],index:d}}),o=!Ec(s,r),c=this._positionChanged(r,t);(o||c)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,s=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(e,o,t,s),h=this._positionChanged(c,e),d=t||!Ec(c,o)||h;return d&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,s,r){const o=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,t){const{caretX:s,caretY:r,options:o}=this,c=Vr[o.position].call(this,e,t);return c!==!1&&(s!==c.x||r!==c.y)}}var XR={id:"tooltip",_element:kv,positioners:Vr,afterInit(i,e,t){t&&(i.tooltip=new kv({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ax},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QR=(i,e,t,s)=>(typeof e=="string"?(t=i.push(e)-1,s.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function JR(i,e,t,s){const r=i.indexOf(e);if(r===-1)return QR(i,e,t,s);const o=i.lastIndexOf(e);return r!==o?t:r}const ZR=(i,e)=>i===null?null:Ot(Math.round(i),0,e);function Nv(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class e2 extends za{static id="category";static defaults={ticks:{callback:Nv}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const s=this.getLabels();for(const{index:r,label:o}of t)s[r]===o&&s.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Pe(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:JR(s,e,Te(t,e),this._addedLabels),ZR(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:s,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),t||(r=this.getLabels().length-1)),this.min=s,this.max=r}buildTicks(){const e=this.min,t=this.max,s=this.options.offset,r=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=t;c++)r.push({value:c});return r}getLabelForValue(e){return Nv.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function t2(i,e){const t=[],{bounds:r,step:o,min:c,max:h,precision:d,count:f,maxTicks:m,maxDigits:b,includeBounds:v}=i,x=o||1,S=m-1,{min:E,max:w}=e,C=!Pe(c),j=!Pe(h),A=!Pe(f),N=(w-E)/(b+1);let k=Db((w-E)/S/x)*x,z,P,J,I;if(k<1e-14&&!C&&!j)return[{value:E},{value:w}];I=Math.ceil(w/k)-Math.floor(E/k),I>S&&(k=Db(I*k/S/x)*x),Pe(d)||(z=Math.pow(10,d),k=Math.ceil(k*z)/z),r==="ticks"?(P=Math.floor(E/k)*k,J=Math.ceil(w/k)*k):(P=E,J=w),C&&j&&o&&fj((h-c)/o,k/1e3)?(I=Math.round(Math.min((h-c)/k,m)),k=(h-c)/I,P=c,J=h):A?(P=C?c:P,J=j?h:J,I=f-1,k=(J-P)/I):(I=(J-P)/k,Kr(I,Math.round(I),k/1e3)?I=Math.round(I):I=Math.ceil(I));const ie=Math.max(Pb(k),Pb(P));z=Math.pow(10,Pe(d)?ie:d),P=Math.round(P*z)/z,J=Math.round(J*z)/z;let Y=0;for(C&&(v&&P!==c?(t.push({value:c}),P<c&&Y++,Kr(Math.round((P+Y*k)*z)/z,c,Dv(c,N,i))&&Y++):P<c&&Y++);Y<I;++Y){const q=Math.round((P+Y*k)*z)/z;if(j&&q>h)break;t.push({value:q})}return j&&v&&J!==h?t.length&&Kr(t[t.length-1].value,h,Dv(h,N,i))?t[t.length-1].value=h:t.push({value:h}):(!j||J===h)&&t.push({value:J}),t}function Dv(i,e,{horizontal:t,minRotation:s}){const r=li(s),o=(t?Math.sin(r):Math.cos(r))||.001,c=.75*e*(""+i).length;return Math.min(e/o,c)}class n2 extends za{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:r,max:o}=this;const c=d=>r=t?r:d,h=d=>o=s?o:d;if(e){const d=Pn(r),f=Pn(o);d<0&&f<0?h(0):d>0&&f>0&&c(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);h(o+d),e||c(r-d)}this.min=r,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,c=t2(r,o);return e.bounds==="ticks"&&gj(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let t=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const r=(s-t)/Math.max(e.length-1,1)/2;t-=r,s+=r}this._startValue=t,this._endValue=s,this._valueRange=s-t}getLabelForValue(e){return Ef(e,this.chart.options.locale,this.options.ticks.format)}}class i2 extends n2{static id="linear";static defaults={ticks:{callback:M_.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=mn(e)?e:0,this.max=mn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,s=li(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Fc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qt=Object.keys(Fc);function Pv(i,e){return i-e}function Lv(i,e){if(Pe(e))return null;const t=i._adapter,{parser:s,round:r,isoWeekday:o}=i._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),mn(c)||(c=typeof s=="string"?t.parse(c,s):t.parse(c)),c===null?null:(r&&(c=r==="week"&&(so(o)||o===!0)?t.startOf(c,"isoWeek",o):t.startOf(c,r)),+c)}function zv(i,e,t,s){const r=qt.length;for(let o=qt.indexOf(i);o<r-1;++o){const c=Fc[qt[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((t-e)/(h*c.size))<=s)return qt[o]}return qt[r-1]}function s2(i,e,t,s,r){for(let o=qt.length-1;o>=qt.indexOf(t);o--){const c=qt[o];if(Fc[c].common&&i._adapter.diff(r,s,c)>=e-1)return c}return qt[t?qt.indexOf(t):0]}function a2(i){for(let e=qt.indexOf(i)+1,t=qt.length;e<t;++e)if(Fc[qt[e]].common)return qt[e]}function Bv(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:s,hi:r}=xf(t,e),o=t[s]>=e?t[s]:t[r];i[o]=!0}}function r2(i,e,t,s){const r=i._adapter,o=+r.startOf(e[0].value,s),c=e[e.length-1].value;let h,d;for(h=o;h<=c;h=+r.add(h,1,s))d=t[h],d>=0&&(e[d].major=!0);return e}function Uv(i,e,t){const s=[],r={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],r[h]=c,s.push({value:h,major:!1});return o===0||!t?s:r2(i,s,r,t)}class Hv extends za{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const s=e.time||(e.time={}),r=this._adapter=new nO._date(e.adapters.date);r.init(t),Wr(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Lv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function d(f){!c&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!h&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!c||!h)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=mn(r)&&!isNaN(r)?r:+t.startOf(Date.now(),s),o=mn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],s=e[e.length-1]),{min:t,max:s}}buildTicks(){const e=this.options,t=e.time,s=e.ticks,r=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=vj(r,o,c);return this._unit=t.unit||(s.autoSkip?zv(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):s2(this,h.length,t.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:a2(this._unit),this.initOffsets(r),e.reverse&&h.reverse(),Uv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,s=0,r,o;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;t=Ot(t,0,c),s=Ot(s,0,c),this._offsets={start:t,end:s,factor:1/(t+1+s)}}_generate(){const e=this._adapter,t=this.min,s=this.max,r=this.options,o=r.time,c=o.unit||zv(o.minUnit,t,s,this._getLabelCapacity(t)),h=Te(r.ticks.stepSize,1),d=c==="week"?o.isoWeekday:!1,f=so(d)||d===!0,m={};let b=t,v,x;if(f&&(b=+e.startOf(b,"isoWeek",d)),b=+e.startOf(b,f?"day":c),e.diff(s,t,c)>1e5*h)throw new Error(t+" and "+s+" are too far apart with stepSize of "+h+" "+c);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=b,x=0;v<s;v=+e.add(v,h,c),x++)Bv(m,v,S);return(v===s||r.bounds==="ticks"||x===1)&&Bv(m,v,S),Object.keys(m).sort(Pv).map(E=>+E)}getLabelForValue(e){const t=this._adapter,s=this.options.time;return s.tooltipFormat?t.format(e,s.tooltipFormat):t.format(e,s.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,o=this._unit,c=t||r[o];return this._adapter.format(e,c)}_tickFormatFunction(e,t,s,r){const o=this.options,c=o.ticks.callback;if(c)return Ke(c,[e,t,s],this);const h=o.time.displayFormats,d=this._unit,f=this._majorUnit,m=d&&h[d],b=f&&h[f],v=s[t],x=f&&b&&v&&v.major;return this._adapter.format(e,r||(x?b:m))}generateTickLabels(e){let t,s,r;for(t=0,s=e.length;t<s;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+s)*t.factor)}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,s=this.ctx.measureText(e).width,r=li(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:s*o+h*c,h:s*c+h*o}}_getLabelCapacity(e){const t=this.options.time,s=t.displayFormats,r=s[t.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Uv(this,[e],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],t,s;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,s=r.length;t<s;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,s;if(e.length)return e;const r=this.getLabels();for(t=0,s=r.length;t<s;++t)e.push(Lv(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return A_(e.sort(Pv))}}function nc(i,e,t){let s=0,r=i.length-1,o,c,h,d;t?(e>=i[s].pos&&e<=i[r].pos&&({lo:s,hi:r}=Cs(i,"pos",e)),{pos:o,time:h}=i[s],{pos:c,time:d}=i[r]):(e>=i[s].time&&e<=i[r].time&&({lo:s,hi:r}=Cs(i,"time",e)),{time:o,pos:h}=i[s],{time:c,pos:d}=i[r]);const f=c-o;return f?h+(d-h)*(e-o)/f:h}class PM extends Hv{static id="timeseries";static defaults=Hv.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=nc(t,this.min),this._tableRange=nc(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:s}=this,r=[],o=[];let c,h,d,f,m;for(c=0,h=e.length;c<h;++c)f=e[c],f>=t&&f<=s&&r.push(f);if(r.length<2)return[{time:t,pos:0},{time:s,pos:1}];for(c=0,h=r.length;c<h;++c)m=r[c+1],d=r[c-1],f=r[c],Math.round((m+d)/2)!==f&&o.push({time:f,pos:c/(h-1)});return o}_generate(){const e=this.min,t=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(t)||s.length===1)&&s.push(t),s.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),s=this.getLabelTimestamps();return t.length&&s.length?e=this.normalize(t.concat(s)):e=t.length?t:s,e=this._cache.all=e,e}getDecimalForValue(e){return(nc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,s=this.getDecimalForPixel(e)/t.factor-t.end;return nc(this._table,s*this._tableRange+this._minPos,!0)}}const rx="label";function Fv(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function o2(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function ox(i,e){i.labels=e}function lx(i,e,t=rx){const s=[];i.datasets=e.map(r=>{const o=i.datasets.find(c=>c[t]===r[t]);return!o||!r.data||s.includes(o)?{...r}:(s.push(o),Object.assign(o,r),o)})}function l2(i,e=rx){const t={labels:[],datasets:[]};return ox(t,i.labels),lx(t,i.datasets,e),t}function c2(i,e){const{height:t=150,width:s=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:d,plugins:f=[],fallbackContent:m,updateMode:b,...v}=i,x=L.useRef(null),S=L.useRef(null),E=()=>{x.current&&(S.current=new Hc(x.current,{type:c,data:l2(h,o),options:d&&{...d},plugins:f}),Fv(e,S.current))},w=()=>{Fv(e,null),S.current&&(S.current.destroy(),S.current=null)};return L.useEffect(()=>{!r&&S.current&&d&&o2(S.current,d)},[r,d]),L.useEffect(()=>{!r&&S.current&&ox(S.current.config.data,h.labels)},[r,h.labels]),L.useEffect(()=>{!r&&S.current&&h.datasets&&lx(S.current.config.data,h.datasets,o)},[r,h.datasets]),L.useEffect(()=>{S.current&&(r?(w(),setTimeout(E)):S.current.update(b))},[r,d,h.labels,h.datasets,b]),L.useEffect(()=>{S.current&&(w(),setTimeout(E))},[c]),L.useEffect(()=>(E(),()=>w()),[]),y.jsx("canvas",{ref:x,role:"img",height:t,width:s,...v,children:m})}const u2=L.forwardRef(c2);function Df(i,e){return Hc.register(e),L.forwardRef((t,s)=>y.jsx(u2,{...t,ref:s,type:i}))}const h2=Df("line",tO),d2=Df("bar",JA),f2=Df("doughnut",eO);Hc.register(e2,i2,AR,jR,DR,yR,IR,XR,HR);const g2=()=>{const[i,e]=L.useState(!0),[t,s]=L.useState(null),[r,o]=L.useState([]),[c,h]=L.useState([]),[d,f]=L.useState([]),[m,b]=L.useState([]),[v,x]=L.useState("30days"),[S,E]=L.useState([]),[w,C]=L.useState(null),[j,A]=L.useState(!1);L.useEffect(()=>{N(),Y()},[v]);const N=async()=>{e(!0);try{await Promise.all([z(),P(),J(),I(),ie()])}catch(W){console.error("Error loading analytics:",W)}finally{e(!1)}},k=()=>{const W=new Date;switch(v){case"7days":return new Date(W.getTime()-10080*60*1e3).toISOString();case"30days":return new Date(W.getTime()-720*60*60*1e3).toISOString();case"90days":return new Date(W.getTime()-2160*60*60*1e3).toISOString();default:return null}},z=async()=>{const W=k();let re=rt.from("invoices").select("total, status");W&&(re=re.gte("invoice_date",W));const{data:O}=await re;let G=rt.from("invoice_items").select("qty, invoice_id");if(W){const{data:et}=await rt.from("invoices").select("id").gte("invoice_date",W),ze=et?.map(zn=>zn.id)||[];ze.length>0&&(G=G.in("invoice_id",ze))}const{data:V}=await G,Q=O?.reduce((et,ze)=>et+Number(ze.total),0)||0,se=O?.length||0,me=V?.reduce((et,ze)=>et+Number(ze.qty),0)||0,we=O?.filter(et=>et.status==="draft").length||0,Xe=O?.filter(et=>et.status==="paid").length||0,Le=O?.filter(et=>et.status==="sent").length||0;s({totalInvoices:se,totalRevenue:Q,avgInvoiceValue:se>0?Q/se:0,totalItemsSold:me,draftCount:we,paidCount:Xe,sentCount:Le})},P=async()=>{const W=k();let re=rt.from("invoices").select("invoice_date, total");W&&(re=re.gte("invoice_date",W));const{data:O}=await re.order("invoice_date",{ascending:!0});if(!O){o([]);return}const G=O.reduce((V,Q)=>{const se=Q.invoice_date;return V[se]||(V[se]={period:se,invoiceCount:0,revenue:0}),V[se].invoiceCount+=1,V[se].revenue+=Number(Q.total),V},{});o(Object.values(G))},J=async()=>{const W=k();let re=rt.from("invoice_items").select("category, qty, unit_price, invoice_id");if(W){const{data:V}=await rt.from("invoices").select("id").gte("invoice_date",W),Q=V?.map(se=>se.id)||[];Q.length>0&&(re=re.in("invoice_id",Q))}const{data:O}=await re;if(!O){h([]);return}const G=O.reduce((V,Q)=>{const se=Q.category||"Uncategorized";return V[se]||(V[se]={category:se,itemCount:0,revenue:0}),V[se].itemCount+=Number(Q.qty),V[se].revenue+=Number(Q.qty)*Number(Q.unit_price),V},{});h(Object.values(G).sort((V,Q)=>Q.revenue-V.revenue))},I=async()=>{const W=k();let re=rt.from("item_materials").select("material_name, unit, total_qty, unit_cost, total_cost, invoice_item_id");if(W){const{data:V}=await rt.from("invoices").select("id").gte("invoice_date",W),Q=V?.map(se=>se.id)||[];if(Q.length>0){const{data:se}=await rt.from("invoice_items").select("id").in("invoice_id",Q),me=se?.map(we=>we.id)||[];me.length>0&&(re=re.in("invoice_item_id",me))}}const{data:O}=await re;if(!O){f([]);return}const G=O.reduce((V,Q)=>{const se=`${Q.material_name}_${Q.unit}`;return V[se]||(V[se]={material_name:Q.material_name,unit:Q.unit,total_qty:0,usage_count:0,unit_cost:Number(Q.unit_cost)||0,total_cost:0}),V[se].total_qty+=Number(Q.total_qty),V[se].total_cost+=Number(Q.total_cost),V[se].usage_count+=1,V},{});f(Object.values(G).sort((V,Q)=>Q.total_cost-V.total_cost).slice(0,10))},ie=async()=>{const W=k();let re=rt.from("invoices").select("client_id, total, clients(name)");W&&(re=re.gte("invoice_date",W));const{data:O}=await re;if(!O){b([]);return}const G=O.reduce((V,Q)=>{const se=Q.clients?.name||"Unknown";return V[se]||(V[se]={client_name:se,invoice_count:0,total_revenue:0}),V[se].invoice_count+=1,V[se].total_revenue+=Number(Q.total),V},{});b(Object.values(G).sort((V,Q)=>Q.total_revenue-V.total_revenue).slice(0,5))},Y=async()=>{const W=k();let re=rt.from("invoices").select("id, invoice_no, project_name, invoice_date, total, status, clients(name)").order("invoice_date",{ascending:!1});W&&(re=re.gte("invoice_date",W));const{data:O}=await re,G=(O||[]).map(V=>({...V,clients:Array.isArray(V.clients)?V.clients[0]:V.clients}));E(G)},q=async W=>{const re=await Cb(W);re.success?(C(re.data),A(!0)):alert("Failed to load invoice details")},X=async W=>{const re=await Cb(W);if(!re.success||!re.data){alert("Failed to load invoice details");return}const{invoice:O,items:G}=re.data,V={company:{name:"Meduza Studio Works",logoUrl:"/Company%20Logo.svg",address:"Tolon, El Sayeda Zeinab, Cairo , Egypt",phone:"+20 1146700228 / +20 1018705558",email:"info@meduzafurniture.com"},client:{name:O.clients?.name||"Client Name",company:O.clients?.company||"",address:O.clients?.billing_address||"",phone:O.clients?.phone||"",email:O.clients?.email||"",siteAddress:O.clients?.site_address||""},meta:{invoiceNo:O.invoice_no||"",date:O.invoice_date||"",dueDate:O.due_date||"",projectName:O.project_name||""},items:G.map(Q=>({id:Q.id,category:Q.category||"Custom furniture",code:Q.code||"",description:Q.description||"",dimensions:Q.dimensions||"",qty:Q.qty||1,unitPrice:Number(Q.unit_price)||0,image:Q.image_url||void 0,materials:(Q.materials||[]).map(se=>({name:se.material_name,unit:se.unit,qty:se.qty_per_item}))})),vatRate:O.vat_rate||0,discount:O.discount||0,notes:O.notes||""};localStorage.setItem("invoice-preview",JSON.stringify(V)),window.open("/preview?standalone=true","_blank")},de=()=>{A(!1),C(null)},le=async(W,re)=>{const{error:O}=await rt.from("invoices").update({status:re}).eq("id",W);if(O){alert("Failed to update status"),console.error(O);return}await Y(),await z()};if(i)return y.jsx("div",{style:{padding:40,textAlign:"center"},children:y.jsx("div",{style:{fontSize:18,color:"#9ca3af"},children:"Loading dashboard..."})});const B={labels:r.map(W=>W.period),datasets:[{label:"Revenue (EGP)",data:r.map(W=>W.revenue),borderColor:"#38bdf8",backgroundColor:"rgba(56, 189, 248, 0.1)",tension:.3}]},ne={labels:c.map(W=>W.category),datasets:[{label:"Items Sold",data:c.map(W=>W.itemCount),backgroundColor:["#38bdf8","#818cf8","#a78bfa","#f472b6","#fb923c","#fbbf24","#34d399","#4ade80"]}]},ce={labels:d.map(W=>W.material_name),datasets:[{label:"Total Cost (EGP)",data:d.map(W=>W.total_cost),backgroundColor:"rgba(56, 189, 248, 0.6)"}]};return y.jsxs("div",{style:{minHeight:"100vh",background:"radial-gradient(circle at top, #020617 0%, #020617 40%, #000 100%)",padding:"24px"},children:[y.jsxs("div",{style:{maxWidth:1400,margin:"0 auto"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[y.jsx("h1",{style:{fontSize:28,fontWeight:600,color:"#e5e7eb",margin:0},children:"Analytics Dashboard"}),y.jsx("div",{style:{display:"flex",gap:8},children:["7days","30days","90days","all"].map(W=>y.jsx("button",{onClick:()=>x(W),style:{padding:"8px 16px",borderRadius:8,border:v===W?"1px solid #38bdf8":"1px solid #374151",background:v===W?"#38bdf8":"#020617",color:v===W?"#020617":"#e5e7eb",fontSize:13,fontWeight:500,cursor:"pointer"},children:W==="all"?"All Time":W.replace("days"," Days")},W))})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:16,marginBottom:24},children:[y.jsx(ic,{title:"Total Revenue",value:`${t?.totalRevenue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}`,subtitle:`${t?.totalInvoices} invoices`}),y.jsx(ic,{title:"Average Invoice",value:`${t?.avgInvoiceValue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}`,subtitle:"per invoice"}),y.jsx(ic,{title:"Items Sold",value:t?.totalItemsSold.toString()||"0",subtitle:"total units"}),y.jsx(ic,{title:"Paid Invoices",value:`${t?.paidCount}/${t?.totalInvoices}`,subtitle:`${t?.draftCount} drafts, ${t?.sentCount} sent`})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:16,marginBottom:16},children:[y.jsx(Sa,{title:"Revenue Over Time",children:r.length>0?y.jsx(h2,{data:B,options:{responsive:!0,plugins:{legend:{display:!1}}}}):y.jsx(sc,{message:"No invoice data available"})}),y.jsx(Sa,{title:"Items by Category",children:c.length>0?y.jsx(f2,{data:ne,options:{responsive:!0,plugins:{legend:{position:"right"}}}}):y.jsx(sc,{message:"No category data available"})})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:16},children:[y.jsx(Sa,{title:"Materials Used",children:d.length>0?y.jsx(d2,{data:ce,options:{responsive:!0,indexAxis:"y",plugins:{legend:{display:!1}}}}):y.jsx(sc,{message:"No material data available"})}),y.jsx(Sa,{title:"Top Clients",children:m.length>0?y.jsx("div",{style:{padding:"16px 0"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Client"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Invoices"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Revenue"})]})}),y.jsx("tbody",{children:m.map((W,re)=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:W.client_name}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:W.invoice_count}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:W.total_revenue.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]},re))})]})}):y.jsx(sc,{message:"No client data available"})})]}),d.length>0&&y.jsx(Sa,{title:"Material Breakdown (Detailed)",style:{marginTop:16},children:y.jsx("div",{style:{padding:"16px 0"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Material"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total Quantity"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Unit"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Unit Cost"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total Cost"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Used In"})]})}),y.jsx("tbody",{children:d.map((W,re)=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:W.material_name}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:W.total_qty.toFixed(2)}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:W.unit}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:W.unit_cost.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}),y.jsx("td",{style:{padding:"12px 0",color:"#38bdf8",fontSize:14,textAlign:"right",fontWeight:500},children:W.total_cost.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}),y.jsxs("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:[W.usage_count," items"]})]},re))})]})})}),y.jsx(Sa,{title:"All Invoices",style:{marginTop:16},children:y.jsx("div",{style:{padding:"16px 0",maxHeight:500,overflowY:"auto"},children:y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #374151"},children:[y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Invoice No"}),y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Project"}),y.jsx("th",{style:{textAlign:"left",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Client"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Date"}),y.jsx("th",{style:{textAlign:"right",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Total"}),y.jsx("th",{style:{textAlign:"center",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Status"}),y.jsx("th",{style:{textAlign:"center",padding:"8px 0",color:"#9ca3af",fontSize:12},children:"Action"})]})}),y.jsx("tbody",{children:S.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:7,style:{padding:40,textAlign:"center",color:"#6b7280"},children:"No invoices found"})}):S.map(W=>y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:W.invoice_no}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:W.project_name||"-"}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14},children:W.clients?.name||"-"}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:W.invoice_date}),y.jsx("td",{style:{padding:"12px 0",color:"#e5e7eb",fontSize:14,textAlign:"right"},children:Number(W.total).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})}),y.jsx("td",{style:{padding:"12px 0",textAlign:"center"},children:y.jsxs("select",{value:W.status,onChange:re=>le(W.id,re.target.value),style:{padding:"4px 8px",borderRadius:4,fontSize:11,fontWeight:500,background:W.status==="paid"?"#065f46":W.status==="sent"?"#1e40af":"#374151",color:"#e5e7eb",border:"1px solid #374151",cursor:"pointer"},children:[y.jsx("option",{value:"draft",style:{background:"#020617",color:"#e5e7eb"},children:"draft"}),y.jsx("option",{value:"sent",style:{background:"#020617",color:"#e5e7eb"},children:"sent"}),y.jsx("option",{value:"paid",style:{background:"#020617",color:"#e5e7eb"},children:"paid"}),y.jsx("option",{value:"cancelled",style:{background:"#020617",color:"#e5e7eb"},children:"cancelled"})]})}),y.jsx("td",{style:{padding:"12px 0",textAlign:"center"},children:y.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[y.jsx("button",{onClick:()=>q(W.id),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #38bdf8",background:"transparent",color:"#38bdf8",fontSize:12,fontWeight:500,cursor:"pointer"},children:"View Details"}),y.jsx("button",{onClick:()=>X(W.id),style:{padding:"6px 12px",borderRadius:6,border:"1px solid #34d399",background:"transparent",color:"#34d399",fontSize:12,fontWeight:500,cursor:"pointer"},children:"Preview"})]})})]},W.id))})]})})})]}),j&&w&&y.jsx(p2,{invoice:w.invoice,items:w.items,onClose:de})]})},ic=({title:i,value:e,subtitle:t})=>y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:20},children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8},children:i}),y.jsx("div",{style:{fontSize:24,fontWeight:600,color:"#e5e7eb",marginBottom:4},children:e}),t&&y.jsx("div",{style:{fontSize:11,color:"#6b7280"},children:t})]}),Sa=({title:i,children:e,style:t})=>y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:20,...t},children:[y.jsx("h3",{style:{fontSize:16,fontWeight:600,color:"#e5e7eb",marginTop:0,marginBottom:16},children:i}),e]}),sc=({message:i})=>y.jsx("div",{style:{padding:40,textAlign:"center",color:"#6b7280",fontSize:14},children:i}),p2=({invoice:i,items:e,onClose:t})=>{const s=(r,o)=>r.qty_per_item*o.qty*(o.unit_price/o.qty);return y.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:20},onClick:t,children:y.jsxs("div",{style:{background:"#020617",border:"1px solid #1f2937",borderRadius:12,padding:32,maxWidth:1e3,width:"100%",maxHeight:"90vh",overflowY:"auto"},onClick:r=>r.stopPropagation(),children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[y.jsxs("h2",{style:{fontSize:24,fontWeight:600,color:"#e5e7eb",margin:0},children:["Invoice Details: ",i.invoice_no]}),y.jsx("button",{onClick:t,style:{background:"transparent",border:"none",color:"#9ca3af",fontSize:24,cursor:"pointer",padding:0},children:""})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:24},children:[y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Client"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb"},children:i.clients?.name||"N/A"})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Project"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb"},children:i.project_name||"N/A"})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Date"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb"},children:i.invoice_date})]}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:4},children:"Status"}),y.jsx("div",{style:{fontSize:14,color:"#e5e7eb",textTransform:"capitalize"},children:i.status})]})]}),y.jsx("h3",{style:{fontSize:18,fontWeight:600,color:"#e5e7eb",marginTop:24,marginBottom:16},children:"Items & Materials Breakdown"}),e.map((r,o)=>y.jsxs("div",{style:{background:"#0f172a",border:"1px solid #1f2937",borderRadius:8,padding:16,marginBottom:16},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:12},children:[y.jsxs("div",{children:[y.jsxs("div",{style:{fontSize:16,fontWeight:500,color:"#e5e7eb",marginBottom:4},children:[o+1,". ",r.code]}),y.jsxs("div",{style:{fontSize:13,color:"#9ca3af"},children:[r.description," | ",r.dimensions]})]}),y.jsxs("div",{style:{textAlign:"right"},children:[y.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Qty: ",r.qty,"  ",Number(r.unit_price).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})]}),y.jsx("div",{style:{fontSize:16,fontWeight:500,color:"#38bdf8"},children:Number(r.line_total).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]})]}),r.materials&&r.materials.length>0&&y.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #1f2937"},children:[y.jsx("div",{style:{fontSize:12,color:"#9ca3af",marginBottom:8,fontWeight:500},children:"Materials Used:"}),y.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[y.jsx("thead",{children:y.jsxs("tr",{style:{borderBottom:"1px solid #1f2937"},children:[y.jsx("th",{style:{textAlign:"left",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Material"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Qty/Item"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Unit"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Total Qty"}),y.jsx("th",{style:{textAlign:"right",padding:"6px 0",color:"#6b7280",fontSize:11},children:"Est. Cost"})]})}),y.jsx("tbody",{children:r.materials.map((c,h)=>y.jsxs("tr",{style:{borderBottom:"1px solid #0f172a"},children:[y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13},children:c.material_name}),y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13,textAlign:"right"},children:c.qty_per_item}),y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13,textAlign:"right"},children:c.unit}),y.jsx("td",{style:{padding:"8px 0",color:"#e5e7eb",fontSize:13,textAlign:"right"},children:c.total_qty}),y.jsx("td",{style:{padding:"8px 0",color:"#38bdf8",fontSize:13,textAlign:"right"},children:s(c,r).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]},h))})]})]})]},r.id)),y.jsxs("div",{style:{marginTop:24,paddingTop:24,borderTop:"2px solid #1f2937"},children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[y.jsx("span",{style:{fontSize:14,color:"#9ca3af"},children:"Subtotal"}),y.jsx("span",{style:{fontSize:14,color:"#e5e7eb"},children:Number(i.subtotal).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]}),i.discount>0&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[y.jsx("span",{style:{fontSize:14,color:"#9ca3af"},children:"Discount"}),y.jsxs("span",{style:{fontSize:14,color:"#e5e7eb"},children:["-",Number(i.discount).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})]})]}),i.vat_rate>0&&y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[y.jsxs("span",{style:{fontSize:14,color:"#9ca3af"},children:["VAT (",i.vat_rate,"%)"]}),y.jsx("span",{style:{fontSize:14,color:"#e5e7eb"},children:Number(i.vat_amount).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]}),y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:12,paddingTop:12,borderTop:"1px solid #1f2937"},children:[y.jsx("span",{style:{fontSize:18,fontWeight:600,color:"#e5e7eb"},children:"Total"}),y.jsx("span",{style:{fontSize:18,fontWeight:600,color:"#38bdf8"},children:Number(i.total).toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:0})})]})]})]})})},m2={name:"",logoUrl:"/Company%20Logo.svg",address:"",phone:"",email:""},y2={name:"",company:"",address:"",phone:"",email:"",siteAddress:""},b2={invoiceNo:"",date:"",dueDate:"",projectName:""},v2=()=>{const[i,e]=L.useState({company:m2,client:y2,meta:b2,items:[],vatRate:0,discount:0,notes:""});L.useEffect(()=>{const z=()=>{try{const J=localStorage.getItem("invoice-draft"),ie=localStorage.getItem("invoice-preview")||J;if(!ie)return;const Y=JSON.parse(ie);e(Y)}catch(J){console.error("Failed to load invoice data from localStorage",J)}};z();const P=setInterval(z,500);return()=>clearInterval(P)},[]);const{company:t,client:s,meta:r,items:o,vatRate:c,discount:h,notes:d}=i,f=o.reduce((z,P)=>z+P.qty*P.unitPrice,0),m=Math.max(f-h,0),b=m*c/100,v=m+b,x=()=>{window.print()},S=()=>{window.print()},E=z=>{const P=String(z??"");return P.includes('"')||P.includes(",")||P.includes(`
`)?`"${P.replace(/"/g,'""')}"`:P},w=(z,P)=>{const J=new Blob([P],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(J),ie=document.createElement("a");ie.href=I,ie.setAttribute("download",z),document.body.appendChild(ie),ie.click(),ie.remove(),URL.revokeObjectURL(I)},C=()=>{if(!o.some(ie=>ie.materials&&ie.materials.length>0)){alert("No material breakdown found on items.");return}const P=[];P.push(["Invoice No","Project","Client","Item #","Item Name","Category","Material","Unit","Qty per Item","Item Qty","Total Material Qty"].map(E).join(",")),o.forEach((ie,Y)=>{!ie.materials||ie.materials.length===0||ie.materials.forEach(q=>{const X=q.qty*ie.qty;P.push([r.invoiceNo||"",r.projectName||"",s.name||"",Y+1,ie.code||"Item",ie.category,q.name,q.unit,q.qty,ie.qty,X].map(E).join(","))})});const J=P.join(`\r
`),I=r.invoiceNo?`${r.invoiceNo}_materials.csv`:"invoice-materials.csv";w(I,J)},j=h>0,A=c>0&&b>0,N=j||A,k=j||A;return y.jsxs("div",{className:"invoice-preview-root",children:[y.jsxs("div",{className:"invoice-toolbar no-print",children:[y.jsx("button",{className:"btn-outline",onClick:x,children:"Print Invoice"}),y.jsx("button",{className:"btn-outline",onClick:S,children:"Export PDF"}),y.jsx("button",{className:"btn-outline",onClick:C,children:"Export Excel"})]}),y.jsxs("div",{className:"invoice-page",children:[y.jsxs("header",{className:"invoice-header",children:[y.jsxs("div",{className:"header-left",children:[t.logoUrl&&y.jsx("img",{src:t.logoUrl,alt:"Company logo",className:"company-logo"}),y.jsxs("div",{children:[y.jsx("div",{className:"company-name",children:t.name||"Company Name"}),y.jsx("div",{className:"small-text",children:t.address&&y.jsx("span",{children:t.address})}),y.jsxs("div",{className:"small-text",children:[t.phone&&y.jsx("span",{children:t.phone}),t.phone&&t.email&&"  ",t.email&&y.jsx("span",{className:"email-line",children:t.email})]})]})]}),y.jsxs("div",{className:"header-right",children:[y.jsxs("div",{className:"invoice-meta-block",children:[y.jsx("div",{className:"invoice-title",children:"INVOICE"}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Invoice No:"})," ",r.invoiceNo||"-"]}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Date:"})," ",r.date||"-"]}),y.jsxs("div",{className:"small-text",children:[y.jsx("strong",{children:"Project:"})," ",r.projectName||"-"]})]}),y.jsxs("div",{className:"client-block",children:[y.jsx("div",{className:"section-label",children:"BILL TO"}),y.jsx("div",{className:"small-text bold",children:s.name||"Client Name"}),s.address&&y.jsx("div",{className:"small-text",children:s.address}),(s.phone||s.email)&&y.jsxs("div",{className:"small-text",children:[s.phone&&y.jsxs("span",{children:["Tel: ",s.phone]}),s.phone&&s.email&&"  ",s.email&&y.jsx("span",{children:s.email})]}),s.siteAddress&&y.jsxs("div",{className:"small-text",style:{marginTop:4},children:[y.jsx("span",{style:{fontWeight:600,fontSize:10},children:"Site / Delivery:"})," ",s.siteAddress]})]})]})]}),y.jsx("section",{className:"invoice-items",children:y.jsxs("table",{className:"items-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"col-index",children:"#"}),y.jsx("th",{className:"col-item",children:"Item"}),y.jsx("th",{className:"col-material",children:"Material / Finish"}),y.jsx("th",{className:"col-dimensions",children:"Dimensions"}),y.jsx("th",{className:"col-photo",children:"Photo"}),y.jsx("th",{className:"col-qty",children:"Qty"}),y.jsx("th",{className:"col-unit",children:"Unit"}),y.jsx("th",{className:"col-total",children:"Total"})]})}),y.jsxs("tbody",{children:[o.length===0&&y.jsx("tr",{children:y.jsx("td",{colSpan:8,style:{textAlign:"center",padding:24},children:"No items."})}),o.map((z,P)=>{const J=z.qty*z.unitPrice;return y.jsxs("tr",{children:[y.jsx("td",{className:"col-index",children:P+1}),y.jsx("td",{className:"col-item",children:y.jsx("div",{className:"item-name",children:z.code||"Item"})}),y.jsx("td",{className:"col-material",children:y.jsx("div",{className:"small-text",children:z.description||"-"})}),y.jsx("td",{className:"col-dimensions",children:y.jsx("div",{className:"small-text",children:z.dimensions||"-"})}),y.jsx("td",{className:"col-photo",children:z.image?y.jsx("img",{src:z.image,alt:"Item",className:"table-photo"}):"-"}),y.jsx("td",{className:"col-qty",children:z.qty}),y.jsx("td",{className:"col-unit",children:z.unitPrice.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})}),y.jsx("td",{className:"col-total",children:J.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]},z.id??P)})]})]})}),y.jsx("section",{className:"invoice-totals",children:y.jsxs("div",{className:"totals-box",children:[N&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Subtotal"}),y.jsx("span",{children:f.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),j&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Discount"}),y.jsx("span",{children:h.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),k&&y.jsxs("div",{className:"totals-row",children:[y.jsx("span",{children:"Taxable Amount"}),y.jsx("span",{children:m.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),A&&y.jsxs("div",{className:"totals-row",children:[y.jsxs("span",{children:["VAT (",c,"%)"]}),y.jsx("span",{children:b.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]}),y.jsxs("div",{className:"totals-row totals-row-strong",children:[y.jsx("span",{children:"Grand Total"}),y.jsx("span",{children:v.toLocaleString("en-EG",{style:"currency",currency:"EGP",minimumFractionDigits:2})})]})]})}),y.jsxs("section",{className:"invoice-notes",children:[y.jsx("div",{className:"section-label",children:"NOTES / TERMS"}),y.jsx("pre",{className:"notes-text",children:d})]}),y.jsxs("section",{className:"invoice-footer",children:[y.jsx("div",{className:"footer-line",children:"Prepared By: ______________________"}),y.jsx("div",{className:"footer-line",children:"Approved By: ______________________"}),y.jsx("div",{className:"thankyou",children:"Thank you for your business."})]})]})]})},_2=()=>{const i=di(),s=!(new URLSearchParams(i.search).get("standalone")==="true");return y.jsxs(y.Fragment,{children:[s&&y.jsx(dE,{}),y.jsxs(N1,{children:[y.jsx(ac,{path:"/",element:y.jsx(jC,{})}),y.jsx(ac,{path:"/dashboard",element:y.jsx(g2,{})}),y.jsx(ac,{path:"/preview",element:y.jsx(v2,{})})]})]})},x2=()=>y.jsx(nE,{children:y.jsx(_2,{})});Fw.createRoot(document.getElementById("root")).render(y.jsx(Nw.StrictMode,{children:y.jsx(x2,{})}));
